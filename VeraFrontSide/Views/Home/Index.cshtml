@{
    Layout = null;
}
@model HomeViewModel
@{
    var companyUser = ViewBag.CompanyUser as VeraDAL.Entities.CompanyUser;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="https://img.pngtube.com/myfile/small/3-36177_letter-v-png-picture-letter-v-with-transparent.png">
    <title>VERAMOBIL</title>
    <!-- Bootstrap Core CSS -->
    <link href="~/Content/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="~/Content/horizontal/css/style.css" rel="stylesheet">
    <!-- You can change the theme colors from here -->
    <link href="~/Content/horizontal/css/colors/blue.css" id="theme" rel="stylesheet">
    <link href="~/Content/assets/plugins/select2/dist/css/select2.min.css" rel="stylesheet" type="text/css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=@Model.Settings.WebApi&libraries=places,drawing&sensor=false"></script>

    <!-- ============================================================== -->
    <script src="~/Content/assets/plugins/jquery/jquery.min.js"></script>
    <script src="~/Content/assets/plugins/jquery/printThis.js"></script>
    <!-- Bootstrap tether Core JavaScript -->

    <script src="~/Content/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->

    <script src="~/Content/horizontal/js/jquery.slimscroll.js"></script>
    <!--Wave Effects -->

    <script src="~/Content/horizontal/js/waves.js"></script>
    <!--Menu sidebar -->

    <script src="~/Content/horizontal/js/sidebarmenu.js"></script>
    <!--stickey kit -->
    <script src="~/Content/assets/plugins/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <script src="~/Content/assets/plugins/sparkline/jquery.sparkline.min.js"></script>
    <!--Custom JavaScript -->

    <script src="~/Content/horizontal/js/custom.min.js"></script>

    <script src="~/Content/horizontal/js/chat.js"></script>
    <!-- ============================================================== -->
    <!-- Style switcher -->
    <!-- ============================================================== -->
    <script src="~/Content/assets/plugins/styleswitcher/jQuery.style.switcher.js"></script>
    <script src="~/Content/assets/plugins/bootstrap-treeview-master/dist/bootstrap-treeview.min.js"></script>
    <script src="~/Content/assets/plugins/bootstrap-treeview-master/dist/bootstrap-treeview-init.js"></script>
    <script src="~/Content/assets/plugins/select2/dist/js/select2.full.min.js" type="text/javascript"></script>
    <script src="https://cdn.sobekrepository.org/includes/gmaps-markerwithlabel/1.9.1/gmaps-markerwithlabel-1.9.1.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>


    <style>
        #pastLocationListTableTR {
            font-size: larger;
        }

        select, label, .col-form-label, .form-control, .nav-tabs {
            font-size: 12px;
            color: black;
        }

        tbody, table {
            color: black;
            font-size: 12px !important;
        }

        img {
            opacity: 0.8 !important;
        }

        ul.list-style-none li a {
            font-size: 14px;
        }

        #ui-menu-item {
            width: 250px;
            height: 300px;
        }

        #ui-id-1 {
            z-index: 12893712398172381238912 !important;
        }

        /*.ui-autocomplete {
            max-height: 600px;
            overflow-y: auto; /* prevent horizontal scrollbar
            overflow-x: hidden; /* add padding to account for vertical scrollbar
            z-index: 1000 !important;
        }*/

        .gm-style-iw gm-style-iw-c img {
            width: 25px;
            height: 25px;
            font-size: 25px;
        }

        body {
            overflow: hidden;
        }

        .modal {
            z-index: 99999 !important;
        }

        .swal-overlay {
            z-index: 99999999999999999 !important;
        }

        @@media only screen and (min-width: 1200px) {
            #mobileMenu {
                width: fit-content;
                margin: 0 auto;
            }
        }

        @@media only screen and (max-width: 1200px) {
            #rightMenuContainer {
                margin-top: 50px !important;
            }

            #mobileMenu {
                width: fit-content;
                margin: 0 auto;
                background-color: white;
            }

            #leftSidebar {
                background-color: white !important;
            }

            .navbar-header {
                margin-left: 30px !important;
            }

            #mobilHeader {
                margin-left: 210px !important;
            }

            #pac-input {
                margin-top: -50px !important;
                margin-right: -50px !important;
            }
        }

        .my-custom-class-for-label {
            width: 50px;
            height: 20px;
            border: 1px solid black;
            border-radius: 5px;
            background: white;
            text-align: center;
            line-height: 20px;
            font-weight: bold;
            font-size: 14px;
            color: black;
        }

        #map {
            height: 100%;
            position: unset !important;
            overflow: unset !important;
        }

        .map-container {
            padding-bottom: 56.25%;
            height: 0;
        }

            .map-container iframe {
                left: 0;
                top: 0;
                height: 100%;
                width: 100%;
                position: absolute;
            }



        .customTreeViewContent {
            padding-left: 10px;
            display: none;
        }

        .customTreeViewHeader:hover {
            cursor: pointer;
        }

        .sidebar-nav #sidebarnav > li > ul {
            top: auto;
        }

        .sidebar-nav ul li a {
            color: #2b3643;
            font-weight: bold;
            font-size: 14px;
        }

        .actionIcon:hover {
            cursor: pointer;
        }

        .tab_btn {
            padding: 5px;
            float: left;
            width: 50%;
            background-color: rgba(37, 77, 88, 0.78);
            text-align: center;
            color: white;
        }

        .tab_btn_active {
            padding: 5px;
            float: left;
            width: 50%;
            background-color: rgb(37, 77, 88);
            font-weight: 500;
            text-align: center;
            color: white;
        }


        .dropdown-submenu {
            position: relative;
        }

            .dropdown-submenu .dropdown-menu {
                top: 0;
                left: 100%;
                margin-top: -1px;
            }

        #customDropDown li {
            padding: 5px !important;
        }

            #customDropDown li a {
                font-size: 11px;
                color: #34404c;
            }

        #pac-input {
            background-color: #fff;
            font-family: Roboto;
            font-size: 15px;
            font-weight: 300;
            padding: 0 11px 0 13px;
            text-overflow: ellipsis;
            width: 200px;
            position: absolute !important;
            right: 50px !important;
            top: 130px !important;
        }

            #pac-input:focus {
                border-color: #4d90fe;
            }

        .pac-card {
            margin: 10px 10px 0 0;
            border-radius: 2px 0 0 2px;
            box-sizing: border-box;
            -moz-box-sizing: border-box;
            outline: none;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            background-color: #fff;
            font-family: Roboto;
        }

        #pac-container {
            padding-bottom: 12px;
            margin-right: 12px;
        }

        .pac-controls {
            display: inline-block;
            padding: 5px 11px;
        }

            .pac-controls label {
                font-family: Roboto;
                font-size: 13px;
                font-weight: 300;
            }
    </style>
</head>















<body class="fix-header card-no-border logo-center">
    <!--Modals Start-->
    <!-- Araç Nokta İlişkileri Modal -->
    <div id="aracnoktailiskiModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Araç Nokta İlişkileri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body font-10">
                    <div class="col-md-12">
                        <label for="aracnoktaarac-name" class="control-label">Araç Bilgileri</label>
                        <div class="form-group">
                            <label for="aracnoktaarac-name" class="control-label">Araç Adı:</label>
                            <input type="text" class="form-control col-md-6" id="aracnoktaarac-name" disabled>
                        </div>
                    </div>
                    <ul class="nav nav-tabs font-10" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#nghome"
                               role="tab" aria-selected="true">
                                <span class="hidden-sm-up">
                                    <i class="ti-home"></i>
                                </span> <span class="hidden-xs-down">İlişkili Noktalar</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#pointGroup"
                               role="tab" aria-selected="false">
                                <span class="hidden-sm-up">
                                    <i class="ti-user"></i>
                                </span>
                                <span class="hidden-xs-down">Nokta Atama</span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content tabcontent-border">
                        <div class="tab-pane active" id="nghome" role="tabpanel">
                            <div class="col-md-12 mt-1">
                                <button type="button" class="btn btn-dark ml-2 mt-1  font-10">Excel</button>
                                <button type="button" class="btn btn-dark ml-2 mt-1 float-left font-10">Kaydet</button>
                                <button type="button" class="btn btn-dark ml-2 mt-1 float-left font-10 ">Seçilenleri Sil</button>
                                <button type="button" class="btn btn-dark ml-2 mt-1 float-left font-10">Vazgeç</button>

                            </div>
                            <div class="col-md-12 mt-2">
                                <div class="card">

                                    <div class="card-body">
                                        <div class="table-responsive m-t-40">
                                            <table id="ngilistesi" class="table table-bordered table-striped font-10">
                                                <thead>
                                                    <tr class="font-10">
                                                        <th>Nokta Adı</th>
                                                        <th>Kayıt Aktif</th>
                                                        <th>Kontrol Tipi</th>
                                                        <th>Yakınlık Kontrol</th>
                                                        <th>Yakınlık Değeri</th>
                                                        <th>Olay Kontrolü Aktif</th>
                                                        <th>Olay Uzaklık Toleransı</th>
                                                        <th>Olay Türü</th>
                                                        <th>Zaman Kontrolü</th>
                                                        <th>Kontrol Başlangıç Saati</th>
                                                        <th>Kontrol Bitiş Saati</th>
                                                        <th>Nokta Dışı Bekleme Kontrolü</th>
                                                        <th>Nokta İçi Asgari Bekleme Süresi</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <input type="text" class="form-control w-auto" id="aracnokta-name" disabled>
                                                        </td>
                                                        <td>
                                                            <select class="form-control w-auto" style="font-size: 9px">
                                                                <option selected>Aktif</option>
                                                                <option>Pasif</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control w-auto" style="font-size: 9px">
                                                                <option value="0" title="Kontrol Yok" selected>Kontrol Yok</option>
                                                                <option value="1" title="Mobil Noktadan Çıkarsa Uyar">Mobil Noktadan Çıkarsa Uyar</option>
                                                                <option value="2" title="Mobil Noktaya Girerse Uyar">Mobil Noktaya Girerse Uyar</option>
                                                                <option value="3" selected="" title="Mobil Noktaya Girer veya Çıkarsa Uyar">Mobil Noktaya Girer veya Çıkarsa Uyar</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control w-auto" style="font-size: 9px">
                                                                <option selected>Aktif</option>
                                                                <option>Pasif</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <input type="number" class="form-control w-auto">
                                                        </td>
                                                        <td>
                                                            <select class="form-control w-auto" style="font-size: 9px">
                                                                <option selected>Aktif</option>
                                                                <option>Pasif</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <input type="number" class="form-control w-auto">
                                                        </td>
                                                        <td>
                                                            <select class="form-control w-auto" style="font-size: 9px">
                                                                <option selected>Aktif</option>
                                                                <option>Pasif</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select class="form-control w-auto" style="font-size: 9px">
                                                                <option value="0" selected="" title="Kontrol Yok">Kontrol Yok</option>
                                                                <option value="1" title="Mobil Noktadan Dışında ise Uyar">Mobil Noktadan Dışında ise Uyar</option>
                                                                <option value="2" title="Mobil Noktaya İçinde ise Uyar">Mobil Noktaya İçinde ise Uyar</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <input type="datetime" class="form-control w-auto">
                                                        </td>
                                                        <td>
                                                            <input type="datetime" class="form-control w-auto">
                                                        </td>
                                                        <td>
                                                            <select class="form-control w-auto" style="font-size: 9px">
                                                                <option selected>Var</option>
                                                                <option>Yok</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <input type="number" class="form-control w-auto">
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="tab-pane p-20" id="pointGroup" role="tabpanel">
                            <div class="col-md-12 ">
                                <h4 class="font-10">Nokta Atama</h4>
                                <div class="form-group">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="container">
                                    <div class="row mt-2">
                                        <div class="col-md-5 font-10">
                                            <h4 class="font-10">Tüm Noktalar</h4>
                                            <select id="aniLeft" style="width: 100%;font-size: 9px;" class="form-control"
                                                    multiple="">
                                                <option value="1">34 AB 712</option>
                                                <option value="2">34 BC 123</option>
                                                <option value="3">34 GS 123</option>
                                            </select>
                                        </div>
                                        <div class="col-sm-2 mt-5">
                                            <div class="col-md-1">
                                                <button class="btn btn-dark" style="margin-left:-10px;" onclick="aniToRight()">
                                                    &gt;&gt;
                                                </button>
                                            </div>
                                            <div class="col-md-1">
                                                <button class="btn btn-dark" style="margin-left:-10px;" onclick="aniToLeft()">
                                                    &lt;&lt;
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <h4 class="font-10">Atanmış Noktalar</h4>
                                            <select id="aniRight" style="width: 100%;font-size: 9px;" class="form-control"
                                                    multiple="">
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-dark mt-5 float-right ">Kaydet</button>
                            </div>

                        </div>

                    </div>
                </div>
            </div>



        </div>

        <!-- /.modal-content -->
        <!-- /.modal-dialog -->
    </div>
    <!-- Araç Bölge İlişkileri Modal -->
    <div id="aracbölgeiliskiModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Araç Bölge İlişkileri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body font-10">
                    <div class="col-md-12">
                        <label for="aracnoktaarac-name" class="control-label">Araç Bilgileri</label>
                        <div class="form-group">
                            <label for="vehicleNameABI" class="control-label">Araç Adı:</label>
                            <input type="text" class="form-control col-md-6" id="vehicleNameABI" disabled>
                            <input type="text" class="form-control col-md-6" id="vehicleNameABI2" style="display:none;">
                        </div>
                    </div>
                    <ul class="nav nav-tabs font-10" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#bghome"
                               role="tab" aria-selected="true">
                                <span class="hidden-sm-up">
                                    <i class="ti-home"></i>
                                </span> <span class="hidden-xs-down" style="font-size:14px">İlişkili Bölgeler</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#bpointGroup"
                               role="tab" aria-selected="false">
                                <span class="hidden-sm-up">
                                    <i class="ti-user"></i>
                                </span>
                                <span class="hidden-xs-down" style="font-size:14px">Bölge Atama</span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content tabcontent-border">
                        <div class="tab-pane active" id="bghome" role="tabpanel">
                            <div class="col-md-12 mt-1">
                                <button type="button" class="btn btn-dark ml-2 mt-1" onclick="ExportAreaForDevice()">Excel</button>
                            </div>
                            <div class="col-md-12 mt-2">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table id="bgilistesi" class="table table-bordered table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Bölge Adı</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="tab-pane p-20" id="bpointGroup" role="tabpanel">
                            <div class="col-md-12 ">
                                <h6>Bölge Atama</h6>
                                <div class="form-group">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="container">
                                    <div class="row mt-2">
                                        <div class="font-10">
                                            <h6>Tüm Bölgeler</h6>
                                            <select id="abiLeft" style="width: 150px;font-size: 12px" class="form-control"
                                                    multiple="">
                                            </select>
                                        </div>
                                        <div class="col-sm-2 mt-5">
                                            <div class="col-md-1">
                                                <button class="btn btn-dark btn-xs" style="margin-left: -10px; " onclick="abiToRight()">
                                                    &gt;&gt;
                                                </button>
                                            </div>
                                            <div class="col-md-1">
                                                <button class="btn btn-dark btn-xs" style="margin-left:-10px;" onclick="abiToLeft()">
                                                    &lt;&lt;
                                                </button>
                                            </div>
                                        </div>
                                        <div>
                                            <h6>Atanmış Bölgeler</h6>
                                            <select id="abiRight" style="width: 150px;font-size: 12px;" class="form-control"
                                                    multiple="">
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" onclick="AssignAreaToDevice()" class="btn btn-dark mt-5 float-right ">Kaydet</button>
                            </div>

                        </div>

                    </div>
                </div>
            </div>



        </div>

        <!-- /.modal-content -->
        <!-- /.modal-dialog -->
    </div>
    <!-- Araç Rota İlişkileri Modal -->
    <div id="aracrotailiskiModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Araç Rota İlişkileri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12">
                        <label for="aracnoktaarac-name" class="control-label">Araç Bilgileri</label>
                        <div class="form-group">
                            <label for="vehicleNameARI" class="control-label">Araç Adı:</label>
                            <input type="text" class="form-control col-md-6" id="vehicleNameARI" disabled>
                            <input type="text" class="form-control col-md-6" id="vehicleNameARI2" style="display:none;">
                        </div>
                    </div>
                    <ul class="nav nav-tabs " role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#aghome"
                               role="tab" aria-selected="true">
                                <span class="hidden-sm-up">
                                    <i class="ti-home"></i>
                                </span> <span class="hidden-xs-down">İlişkili Rotalar</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#apointGroup"
                               role="tab" aria-selected="false">
                                <span class="hidden-sm-up">
                                    <i class="ti-user"></i>
                                </span>
                                <span class="hidden-xs-down">Rota Atama</span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content tabcontent-border">
                        <div class="tab-pane active" id="aghome" role="tabpanel">
                            <div class="col-md-12 mt-1">
                                <button type="button" class="btn btn-dark ml-2 mt-1 " onclick="ExportRouteForDevice()">Excel</button>
                            </div>
                            <div class="col-md-12 mt-2">
                                <div class="card">

                                    <div class="card-body">
                                        <div class="table-responsive m-t-40">
                                            <table id="rgilistesi" class="table table-bordered table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Rota Adı</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="tab-pane p-20" id="apointGroup" role="tabpanel">
                            <div class="col-md-12 ">
                                <h6>Rota Atama</h6>
                                <div class="form-group">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="container">
                                    <div class="row mt-2">
                                        <div class="col-md-5 font-10">
                                            <h6>Tüm Rotalar</h6>
                                            <select id="ariLeft" style="width: 100%;font-size: 12px;" class="form-control"
                                                    multiple="">
                                            </select>
                                        </div>
                                        <div class="col-sm-2 mt-4">
                                            <div class="col-md-1">
                                                <button class="btn btn-dark btn-xs" style="margin-left:-10px;" onclick="ariToRight()">
                                                    &gt;&gt;
                                                </button>
                                            </div>
                                            <div class="col-md-1 mt-1">
                                                <button class="btn btn-dark btn-xs" style="margin-left:-10px;" onclick="ariToLeft()">
                                                    &lt;&lt;
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <h6>Atanmış Rotalar</h6>
                                            <select id="ariRight" style="width: 100%;font-size: 12px;" class="form-control"
                                                    multiple="">
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-dark mt-5 float-right ">Kaydet</button>
                            </div>

                        </div>

                    </div>
                </div>
            </div>



        </div>

        <!-- /.modal-content -->
        <!-- /.modal-dialog -->
    </div>
    @*Bölgelere Araç Atama*@
    <div id="assingVehicleToAreaModal" class="modal fade bs-example-modal-xl hide" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Bölge Araç İlişkileri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">

                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#home1" role="tab" aria-selected="true">
                                <span class="hidden-sm-up"><i class="ti-home"></i></span>
                                <span class="hidden-xs-down">İlişkili Araçlar</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#profile1" role="tab" aria-selected="false">
                                <span class="hidden-sm-up">
                                    <i class="ti-user"></i>
                                </span>
                                <span class="hidden-xs-down"> Araç Atama  </span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content tabcontent-border">
                        <div class="tab-pane active" id="home1" role="tabpanel">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-10">
                                        <h4>Bölge Bilgisi</h4>
                                        <p>Bölge Adı : <label id="areaNameLBL"></label></p>
                                    </div>
                                    <div class="col-md-2">
                                        <button style="float:right;" type="button" class="btn btn-dark btn-sm" onclick="RelatedVehicles()">Yenile</button>
                                        @*<button class="btn btn-dark btn-sm" type="button" data-toggle="modal" data-target="#groupVehicles">Kaydet</button>
                                            <button class="btn btn-dark btn-sm" type="button" data-toggle="modal" data-target="#newGroup">Seçilenleri Sil</button>*@
                                        @*<button type="button"class="btn btn-dark btn-sm" style="float:right">Excele Aktar</button>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 ">
                                <div class="table-responsive portled-body" id="areaVehicleTableContainer" style="height: 400px; overflow-y: auto; overflow-x: hidden;">
                                    <h4 style="text-align: center"> İlişkili Araçlar </h4>
                                    <table class="table mt-2 table-bordered table-striped font-10">
                                        <thead>
                                            <tr id="areaVehiclesTR">
                                                <td>Araç Adı</td>
                                                <td>Kayıt Aktif</td>
                                                <td>Kontrol Tipi</td>
                                                <td>Zaman Kontrolü</td>
                                                <td>Kontrol Başlangıç Saati</td>
                                                <td>Kontrol Bitiş Saati</td>
                                                <td>Sil</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                    <div id="emptyAreaVehicleLBLContainer">
                                        <center><label id="emptyAreaVehicleLBL"></label></center>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane p-20" id="profile1" role="tabpanel">
                            <div class="col-md-12">
                                <h4>Araç Atama</h4>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <select id="leftDeviceGA" style=" height: 200px;" class="form-control" multiple>
                                    </select>
                                </div>
                                <div class="col-md-2" style="margin-top:70px;">
                                    <button class="btn btn-dark ml-5 " style="width:25%" onclick="toRightGa()"> >> </button>
                                    <button class="btn btn-dark ml-5 mt-1" style="width:25%" onclick="toLeftGA()"> <<  </button>
                                </div>
                                <div class="col-md-5">
                                    <select id="rightDeviceGA" style="height: 200px;" class="form-control" multiple>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-12 text-center mt-2">
                                <button class="btn btn-dark btn-sm" onclick="AssignVehicleToArea()">Kaydet</button>
                                <button class="btn btn-dark btn-sm" data-dismiss="modal">Vazgeç</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left" data-dismiss="modal">Kapat</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    @*Rotalara Araç Atama*@
    <div id="assingVehicleToRouteModal" class="modal fade bs-example-modal-xl hide" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Rota Araç İlişkileri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">

                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#home2" role="tab" aria-selected="true">
                                <span class="hidden-sm-up"><i class="ti-home"></i></span>
                                <span class="hidden-xs-down">İlişkili Araçlar</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#profile2" role="tab" aria-selected="false">
                                <span class="hidden-sm-up">
                                    <i class="ti-user"></i>
                                </span>
                                <span class="hidden-xs-down"> Araç Atama  </span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content tabcontent-border">
                        <div class="tab-pane active" id="home2" role="tabpanel">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-10">
                                        <h4>Rota Bilgisi</h4>
                                        <p>Rota Adı : <label id="routeNameLBL"></label></p>
                                    </div>
                                    <div class="col-md-2">
                                        <button style="float:right;" type="button" class="btn btn-dark btn-sm" onclick="RelatedVehiclesRoute()">Yenile</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 ">
                                <div class="table-responsive portled-body" id="routeVehicleTableContainer" style="height: 400px; overflow-y: auto; overflow-x: hidden;">
                                    <h4 style="text-align: center"> İlişkili Araçlar </h4>
                                    <table class="table mt-2 table-bordered table-striped font-10">
                                        <thead>
                                            <tr id="routeVehiclesTR">
                                                <td>Araç Adı</td>
                                                <td>Aktiflik</td>
                                                <td></td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                    <div id="emptyRouteVehicleLBLContainer">
                                        <center><label id="emptyRouteVehicleLBL"></label></center>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane p-20" id="profile2" role="tabpanel">
                            <div class="col-md-12">
                                <h4>Araç Atama</h4>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <select id="leftDeviceGR" style=" height: 200px;" class="form-control" multiple>
                                    </select>
                                </div>
                                <div class="col-md-2" style="margin-top:70px;">
                                    <button class="btn btn-dark ml-5 " style="width:25%" onclick="toRightGR()"> >> </button>
                                    <button class="btn btn-dark ml-5 mt-1" style="width:25%" onclick="toLeftGR()"> <<  </button>
                                </div>
                                <div class="col-md-5">
                                    <select id="rightDeviceGR" style="height: 200px;" class="form-control" multiple>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-12 text-center mt-2">
                                <button class="btn btn-dark btn-sm" onclick="AssignVehicleToRoute()">Kaydet</button>
                                <button class="btn btn-dark btn-sm" data-dismiss="modal">Vazgeç</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left" data-dismiss="modal">Kapat</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    @if (companyUser.IsCompanyAdmin)
    {
        <!-- Kullanıcı İşlemleri Modals -->
        <!-- Grup Modal -->
        <div id="groupsModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
             aria-modal="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">Kullanıcı Grup İşlemleri</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>
                    <div class="modal-body">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#home"
                                   role="tab" aria-selected="true">
                                    <span class="hidden-sm-up">
                                        <i class="ti-home"></i>
                                    </span> <span class="hidden-xs-down">
                                        Grup
                                        Tanımları
                                    </span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#profile" role="tab"
                                   aria-selected="false">
                                    <span class="hidden-sm-up"><i class="ti-user"></i></span>
                                    <span class="hidden-xs-down">Gruplara Araç Atama</span>
                                </a>
                            </li>
                        </ul>

                        <div class="tab-content tabcontent-border">
                            <div class="tab-pane active" id="home" role="tabpanel">
                                <div class="col-md-12 mt-2">
                                    <div style="float:right">
                                        <button class="btn btn-dark btn-sm" type="button" data-toggle="modal"
                                                data-target="#groupVehicles">
                                            Grup
                                            Aracları
                                        </button>
                                        <button class="btn btn-dark btn-sm" type="button" data-toggle="modal"
                                                data-target="#newGroup">
                                            Yeni
                                            Kayıt
                                        </button>
                                        <button class="btn btn-dark btn-sm" type="button" onclick="location.href='@Url.Action("ExportGroups","Home")'">Excele Aktar</button>
                                    </div>

                                </div>

                                <div class="col-md-12 list-group">
                                    <h4 class="ml-2">Gruplar</h4>
                                    <ul class="list-group list-group-flush">

                                        <li class="list-group-item ">
                                            @if (Model.Groups != null)
                                            {
                                                @foreach (var item in Model.Groups)
                                                {
                                                    <input id="groupName@(item.Id)" class="form-control col-6" value="@item.Name">
                                                    <button onclick="UpdateGroup(@item.Id)" class="btn btn-dark btn-sm">Kaydet</button>
                                                    <button onclick="DeleteGroup(@item.Id)" class="btn btn-dark btn-sm">Sil</button>
                                                }
                                            }
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="tab-pane p-20" id="profile" role="tabpanel">
                                <div class="col-md-12">
                                    <h4>İlişkili Araçlar</h4>
                                    <div class="form-group">
                                        <label>Grup adı</label>
                                        <select onchange="GetGroupDevicesByGroupId(this.value)" id="groupNameVehicleToAppend" class="form-control">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                @foreach (var item in Model.Groups)
                                                {

                                                    <option value="@(item.Id)"> @item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-5">
                                        <select id="left" style="width: 115%; height: 200px;" class="form-control" multiple>
                                        </select>
                                    </div>
                                    <div class="col-md-2" style="margin-top:70px;">
                                        <button class="btn btn-dark ml-3 btn-xs" onclick="toRight()"> &gt;&gt; </button>
                                        <button class="btn btn-dark ml-3 btn-xs mt-1" onclick="toLeft()"> &lt;&lt;  </button>
                                    </div>
                                    <div class="col-md-5">
                                        <select id="right" style="width: 108%; height: 200px;" class="form-control" multiple>
                                        </select>
                                    </div>
                                </div>

                                <div class="col-md-12 text-center mt-2">
                                    <button class="btn btn-dark btn-sm" onclick="SaveGroupDevice()">Kaydet</button>
                                    <button class="btn btn-dark btn-sm">Vazgeç</button>
                                </div>
                            </div>
                        </div>



                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>}
    <!-- Grup Araçları Modal -->
    <div id="groupVehicles" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true" style="padding-right: 19px; display: none;">
        <div class="modal-dialog">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Grup Araçları</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-5">
                            <input value="" id="groupNameToFilter" class="form-control" placeholder="Grup Adı">
                        </div>
                        <div class="col-md-5">
                            <input value="" id="carPlateNumberToFilter" class="form-control" placeholder="Plaka">
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-dark btn-sm" onclick="GetGroupsWithVehicles()">Ara</button>
                        </div>
                    </div>
                    <div class="col-md-12 table-responsive">
                        <table class="table table-striped " id="groupVehiclesTable">
                            <thead>
                                <tr>
                                    <th style="width:50%">Grup Adı</th>
                                    <th>Plaka</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>




                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-dark" onclick="location.href='@Url.Action("ExportGroupVehicles","Home")'">Excel</button>
                    <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Yeni Grup Ekle Modal  -->
    <div id="newGroup" class="modal fade bs-example-modal-sm hide" tabindex="-1" role="dialog"
         aria-labelledby="mySmallModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="mySmallModalLabel">Grup Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label> Grup Adı :</label>
                            <input id="groupName" class="form-control">
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" onclick="AddNewGroup()" class="btn btn-dark waves-effect">Kaydet</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Otomatik Raporlama Modal -->
    <div id="automaticReporting" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Otomatik Raporlama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <h4 style="float:left">Rapor Listesi</h4>
                                <div style="float:right">
                                    <button class="btn btn-dark btn-xs" onclick="UpdateMailAR()">Kaydet</button>
                                </div>
                            </div>


                            <div class="col-md-6">
                                <label for="example-email-input" style="font-weight:bolder;" class="col-form-label">
                                    E-mail:
                                </label>
                                <input class="col-md-5 form-control" type="email" placeholder="bootstrap@example.com" value="@Model.User.Mail" id="mailAutomaticReporting">
                            </div>

                            <div class="col-md-7 mt-1 ml-4">
                                <label for="example-email-input" style="background-color: white; font-weight:bolder;" class="col-form-label">Dil:</label>
                                <select class="col-md-3 form-control">
                                    <option>Türkçe</option>
                                </select>
                            </div>

                            <table class="table" id="otomatikRaporlarListesi" style="font-size: 14px;">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th></th>
                                        <th>Rapor adı</th>
                                        <th>Rapor Aktif</th>
                                        <th>Rapor Tipi</th>
                                        <th>Rapor Periyot Tipi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Kullanıcı Bilgileri Modal -->
    <div id="userInformation" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Kullanıcı Bilgileri Güncelleme</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>

                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="form-group">
                                            <label for="recipient-name" class="control-label">Kullanıcı Adı</label>
                                            <input type="text" class="form-control " value="@Model.User.UserCode" disabled>
                                        </div>
                                        <div class="form-group">
                                            <label for="message-text" class="control-label">Şirket</label>
                                            <input class="form-control" value="@Model.Company.CompanyDescription" disabled>
                                        </div>
                                        <div class="form-group">
                                            <label for="message-text" class="control-label">Adı:</label>
                                            <input class="form-control" value="@Model.User.Name" id="userNameTU">
                                        </div>
                                        <div class="form-group">
                                            <label for="message-text" class="control-label">Soyadı:</label>
                                            <input class="form-control" value="@Model.User.Surname" id="userLastNameTU">
                                        </div>

                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="recipient-name" class="control-label">E-Posta Adresi:</label>
                                        <input type="text" value="@Model.User.Mail" class="form-control" id="emailTU">
                                    </div>
                                    <div class="form-group">
                                        <label>Anasayfa Yenileme Süresi</label>
                                        <label style="display:none;" id="userHomepageRefreshTime">@Model.User.HomepageRefreshTime</label>
                                        <select id="homepageRefreshTimeTU" class="form-control input-sm">
                                            <option value="2000000000">Yenileme Yok</option>
                                            <option value="10000">10 Saniye</option>
                                            <option value="30000">30 Saniye</option>
                                            <option value="60000">1 Dakika</option>
                                            <option value="120000">2 Dakika</option>
                                            <option value="300000">5 Dakika</option>
                                            <option value="600000">10 Dakika</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="message-text" class="control-label">Yetki:</label>
                                        <input class="form-control" value="@Model.User.Authorization" id="authorizationTypeTU" disabled>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button onclick="userInformationUpdate()" type="button" class="btn btn-dark waves-effect waves-light">Kaydet</button>
                    <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Kapat</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Takip Edilen Olaylar Modal -->
    <div id="followedEvents" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true" style="padding-right: 19px; display:none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Takip Edilen Olaylar</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-5">
                            <label>Tüm Olaylar</label>
                            <select id="eventLeft" style="width: 100%;" class="form-control" multiple>
                                <option value="1">Acil Durum Donmus Isı</option>
                                <option value="2">Acil Durum Hız</option>
                                <option value="3">Acil Durum Isı</option>
                            </select>
                        </div>
                        <div class="col-md-2 mt-5">
                            <button class="btn btn-dark" onclick="eventToRight()"> >> </button>
                            <button class="btn btn-dark" onclick="eventToLeft()">
                                <<
                            </button>
                        </div> <div class="col-md-5">
                            <label>Atanmış Olaylar</label>
                            <select id="eventRight" style="width: 100%;" class="form-control" multiple>
                            </select>
                        </div>
                    </div>





                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kaydet</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Alarm Bildirim Güncelleme Modal -->
    <div id="alarmNotificationUpdate" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel"> Alarm Bildirim Güncelleme</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Alarm Listeleme Filtreleri</h4>
                    <div class="col-md-6">
                        <label>Grup Adı</label>
                        <select style="float:right;" class="col-8" id="groupIdARF" onchange="GetGroupDevicesARF(this.value)">
                            <option selected="">Seçiniz...</option>
                            @if (Model.Groups != null)
                            {
                                foreach (var item in Model.Groups)
                                {
                                    <option value="@(item.Id)"> @item.Name</option>
                                }
                            }
                        </select>
                        <div class="checkbox checkbox-success ">
                            <input id="checkABG" type="checkbox" onclick="DisabledABG()">
                            <label style="font-size: 10px;" for="checkABG"> Tüm Grup Üyelerinde Ara </label>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <label>Araclar</label>
                        <select style="float:right;" class="col-8" id="vehiclesARF">
                            <option selected="">Seçiniz...</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label>Olay Tipi Grubu</label>
                        <select style="float:right;" class=" col-8" id="inlineFormCustomSelect">
                            <option selected="">Seçiniz...</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label>Olay Tipi</label>
                        <select style="float:right;" class="col-8" id="inlineFormCustomSelect">
                            <option selected="">Seçiniz...</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label>Aktiflik Durumu</label>
                        <select style="float:right;" class=" col-8" id="inlineFormCustomSelect">
                            <option selected="">Seçiniz...</option>
                        </select>

                    </div>
                    <div class="col-md-6">
                        <button type="button" class="btn btn-dark mr-4" style="float:right">Listele</button>
                    </div>
                </div>

                <div class="col-md-12">
                    <button type="button" class="btn btn-dark" style="float:right">Seçilenleri Pasif Yap</button>
                </div>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Araç adı</th>
                            <th>Alarm Türü</th>
                            <th>Bildirim Tanımı</th>
                            <th>Daima</th>
                            <th>Başlangıç Tarihi</th>
                            <th>Bitiş Tarihi</th>
                            <th>Gün Seçimi</th>
                            <th>Gsm No</th>
                            <th>E-Posta Adresi</th>
                            <th>Aktiflik</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>



                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Şifre Yenileme Modal -->
    <div id="passwordUpdate" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         style="display: none; padding-right: 21px;" aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">
                        Şifre Yenileme
                    </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <label class="text-dark">Mevcut Şifre</label>
                                <input type="password" class="form-control" id="useroldpass" />
                                <input id="userPasswordToCheck" value="@Model.User.Password" disabled style="display:none;" />
                            </div>
                            <div class="col-md-12">
                                <label class="text-dark">Yeni Şifre</label>
                                <input type="password" class="form-control" id="usernewpass">
                            </div>
                            <div class="col-md-12">
                                <label class="text-dark">Yeni Şifre Doğrula</label>
                                <input type="password" class="form-control" id="usernewrepass">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect waves-light" onclick="ChangePassword()">Değiştir</button>
                    <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Şifre Hatırlatma Sorusu Modal -->
    <div id="passwordRememberQuestion" class="modal fade hide" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" style="display: none; padding-right: 15px;" aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Şifre Hatırlatma Sorusu</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Bir soru seçerek cevabınızı giriniz.</h4>
                    <form>
                        <div class="form-group">
                            <select id="questionIdTRP" class="form-control col-md-12">

                                @foreach (var item in Model.Question)
                                {
                                    <option value="@(item.Id)"> @item.Name</option>
                                }
                            </select>

                        </div>
                        <div class="form-group">
                            <label for="message-text" class="control-label">Cevap:</label>
                            <textarea class="form-control" id="questionAnswerTRP"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button onclick="SaveUserQuestionAnswer()" type="button" class="btn btn-dark waves-effect waves-light">Kaydet</button>
                    <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
                </div>
            </div>
        </div>
    </div>
    <!-- İşlerim Modals -->
    <!-- Olaylar Modal -->
    <div id="events" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Olay</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Olay Listeleme Filtreleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3">
                                <div id="form-group">
                                    <label class="col-5">Grup Adı</label>
                                    <select class="col-6  form-control  " id="groupIdO" onchange="GetGroupDevicesO()">
                                        <option value="0" selected="">Hepsi</option>
                                        @if (Model.Groups != null)
                                        {
                                            foreach (var item in Model.Groups)
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        }
                                    </select>
                                </div>
                                <div id="form-group">
                                    <div class="checkbox checkbox-success ml-3  mt-3">
                                        <input style="font-size: 10px;" class="col-6 form-control " id="searchallGrupO" type="checkbox" onclick="DisabledO()">
                                        <label style="font-size: 10px;" for="searchallGrupO"> Tüm Grup Üyelerinde Ara </label>
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-3">
                                <div id="form-group">
                                    <label class="mt-2">Araclar</label>
                                    <select class="col-8 form-control " style="float:right" id="vehicleIdO">
                                        <option selected="">Seçiniz...</option>
                                    </select>
                                </div>
                                <div id="form-group" class="mt-3">
                                    <label class="mt-2">Olay Tipi</label>
                                    <select class="col-8 form-control" style="float:right" id="eventTypeO">
                                        <option selected="" value="0">Hepsi</option>
                                        <option value="1">Bölge Giriş-Çıkış</option>
                                        <option value="2">Hız Aşımı</option>
                                        <option value="3">Kontak Açıldı-Kapatıldı</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div id="form-group">
                                    <label class="col-5">Başlangıç Zamanı</label>
                                    <input style="font-size: 10px;" class=" col-6 form-control " id="startDateO" type="date" value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                </div>
                                <div id="form-group" class="mt-3">
                                    <label class="col-5">Bitiş Zamanı</label>
                                    <input style="font-size: 10px;" class="col-6 form-control" id="endDateO" type="date" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-12 mt-1">
                        <button class="btn btn-dark" onclick="GetEventListToSearch()">Listele</button>
                        <button class="btn btn-dark" style="float:right;" id="exportExcelSeferOlayıListBTN">Excel'e Aktar</button>
                    </div>

                    <div class="table-responsive m-t-40" style="height: 400px; overflow-y: auto; overflow-x: hidden;">
                        <table class="table table-bordered table-striped font-10" id="EventListO">
                            <thead>
                                <tr>
                                    <th>Araç Adı </th>
                                    <th>Zaman</th>
                                    <th>Hız</th>
                                    <th>Konum</th>
                                    <th>Enlem</th>
                                    <th>Boylam</th>
                                    <th>Olay Tipi</th>
                                    <th>Olay Detayı</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                </tr>
                            </tbody>
                        </table>
                        <div class="col-md-12 portlet-body" id="loadingContainer6" style="position:relative; display:none;">
                            <center>
                                <img style="width: 75px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                            </center>
                        </div>
                    </div>



                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Sefer Modal -->
    <div id="journeys" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Sefer</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Sefer Listeleme Filtreleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-5">
                                <div id="form-group">
                                    <label class="col-4">Grup Adı</label>
                                    <select class="col-6 form-control  " onchange="GetGroupDevicesSOL()"
                                            id="seferOzetiGroupTL">
                                        <option selected="">Hepsi</option>
                                        @if (Model.Groups != null)
                                        {
                                            foreach (var item in Model.Groups)
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        }
                                    </select>
                                </div>
                                @*<div id="form-group">
                                        <div class="checkbox checkbox-success ml-3 ">
                                            <input    class="col-6 " id="searchallGrup" type="checkbox">
                                            <label style="font-weight: bold;font-size:10px" for="searchalasdaslGrup">
                                                Tüm Grup
                                                Üyelerinde Ara
                                            </label>
                                        </div>
                                    </div>*@
                                <div id="form-group">
                                    <label class="col-4">Araclar</label>
                                    <select class="col-6 form-control  mt-1"
                                            id="vehicleIdTL">
                                    </select>
                                </div>


                            </div>
                            @*<div class="col-md-4">
                                    <div id="form-group">
                                        <label style="font-weight: bold" class="col-5">En Az Mesafe (km.)</label>
                                        <input class="col-6 form-control" id="enazmesafekm" style="float:right"
                                               type="text">
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold" class="col-5">En Az Süre (dk.)</label>
                                        <input class="col-6 form-control" id="enazsure" style="float:right" type="text">
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold" class="col-5">Nokta</label>
                                        <select class="col-6 form-control " style="float:right"
                                                id="inlineFormCustomSelect">
                                            <option selected="">Choose...</option>
                                        </select>
                                    </div>
                                </div>*@
                            <div class="col-md-5">
                                <div id="form-group">
                                    <label class="col-5">Başlangıç Zamanı</label>
                                    <input class=" col-6 form-control" id="startDateTL"
                                           type="date" value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                </div>
                                <div id="form-group">
                                    <label class="col-5">Bitiş Zamanı</label>
                                    <input class="col-6 form-control  mt-1" id="endDateTL"
                                           type="date" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="col-md-12">
                        <button class="btn btn-dark" onclick="GetSeferOzetiList()">Listele</button>
                        <button class="btn btn-dark" style="float:right;" id="exportExcelSeferOzetiListBTN">Excel'e Aktar</button>
                    </div>

                    <div class="portlet-body table-responsive" style="height: 400px; overflow-y: auto; overflow-x: hidden;" id="seferOzetiListContainer">
                        <table class="table mt-2 table-bordered table-striped font-10">
                            <thead>
                                <tr>
                                    <th>Araç Adı </th>
                                    <th>Kalkış Zamanı</th>
                                    <th>Varış Zamanı</th>
                                    <th>Geçen Süre</th>
                                    <th>Mesafe (km)</th>
                                    <th>Harita</th>
                                    <th>Kalkış Pozisyon</th>
                                    <th>Varış Pozisyon</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-12 portlet-body" id="loadingContainer2" style="display:none; margin-top: 5px;  margin-bottom: 25px;">
                        <center>
                            <img style="width: 75px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                        </center>
                    </div>


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <div id="pastLocationInfo" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Geçmiş Konum Bilgileri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Geçmiş Konum Listeleme Filtreleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-5">
                                <div id="form-group">
                                    <label class="col-4">Grup Adı</label>
                                    <select class="col-5 form-control " id="groupIdTLPL" onchange="GetVehicleListTLPL()">
                                        <option value="0">Hepsi</option>
                                        @if (Model.Groups != null)
                                        {
                                            foreach (var item in Model.Groups)
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        }
                                    </select>
                                </div>
                                <div id="form-group">
                                    <label class="col-4">Araclar</label>
                                    <select class="col-5 form-control mt-1" id="deviceIdTLPL">
                                    </select>
                                </div>


                            </div>
                            <div class="col-md-6">
                                <div id="form-group">
                                    <label class="col-4">Başlangıç Zamanı</label>
                                    <input class=" col-5 form-control" id="startDateTLPL" type="date" value="@(DateTime.Now.ToString("yyyy-MM-dd"))">
                                </div>
                                <div id="form-group">
                                    <label class="col-4">Bitiş Zamanı</label>
                                    <input class="col-5 form-control mt-1 " id="endDateTLPL" type="date" value="@(DateTime.Now.ToString("yyyy-MM-dd"))">
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="col-md-12 mt-2">
                        <button class="btn btn-dark" id="listPastLocationBTN">Listele</button>
                        <button class="btn btn-dark" id="drawPastLocationOnMapBTN">Harita</button>
                        @* <button class="btn btn-dark">Analiz</button>*@
                        <button class="btn btn-dark" style="float:right;" id="exportExcelPastLocationList">Excel'e Aktar</button>
                    </div>
                    <div id="pastLocationListContainer" class="portlet-body table-responsive" style="height: 400px; overflow-y: auto; overflow-x: hidden;">
                        <table class="table mt-2 table-bordered table-striped font-10" id="pastLocationTable">
                            <thead>
                                <tr id="pastLocationListTableTR">
                                    <th>Araç Adı </th>
                                    <th>Zaman</th>
                                    <th>Hız</th>
                                    <th>Alınan Yol (metre)</th>
                                    <th>Toplam Km </th>
                                    <th>Konum</th>
                                    <th>Enlem</th>
                                    <th>Boylam</th>
                                    <th>Olay Detayı</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-12 portlet-body" id="loadingContainer" style="display:none;z-index:99999999 !important; margin-top: 5px;  margin-bottom: 25px;">
                        <center>
                            <img style="width: 75px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                        </center>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    @*Kanallar Modal*@
    <div id="channels" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Kanal Listeleme</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">

                    <button class="btn btn-dark mt-3" onclick="ShowChannelModal()">Kanal Ekle</button>
                    <div class="table-responsive portled-body" id="channelTableContainer" style="height: 400px; overflow-y: auto; overflow-x: hidden;">

                        <h3 style="text-align:center;font-weight:bolder; font-size:22px;">Kanallar</h3>
                        <table class="table mt-2 table-bordered table-striped font-10">
                            <thead>
                                <tr style="text-align:center;">
                                    <th>Kanal Adı</th>
                                    <th>Sil</th>
                                    <th> </th>
                                    <th>Güncelle </th>
                                    <th>Kanala Kullanıcı Ata</th>
                                </tr>
                            </thead>
                            <tbody style="text-align:center;">
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left" data-dismiss="modal">Kapat</button>
                </div>
            </div>
        </div>
    </div>
    @*Kanal Kayıt Modal*@
    <input type="text" style="display:none;" id=companyIdChannel value="@Model.Company.Id">
    <div id="saveChannelModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-modal="true" style="display: none; padding-right: 17px;">
        <div class="modal-dialog">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Kanal Kayıt</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12 col-12">
                        <div class="container">
                            <div class="row">
                                <input type="text" style="display:none;" id=channelId value="0">
                                <div>
                                    <label style="font-weight:bolder;" class="col-4 col-md-4 mt-1">Kanal Adı</label><input class="form-control col-8 col-md-8" type="text" id=channelName>
                                    <button class="btn btn-dark mt-3" onclick="SaveChannel()" style="float:right">Kaydet</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    @*Kanala Kullanıcı Atama Modal*@
    <div id="assingUserToChannelModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Kanal</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h6>Kanala Kullanıcı Atama</h6>

                    <div class="row">
                        <div class="col-md-5">
                            <select id="leftChannelUser" style=" height: 200px;" class="form-control" multiple>
                            </select>
                        </div>
                        <div class="col-md-2 mt-5">
                            <button class="btn btn-dark ml-5" onclick="toRightCU()"> &gt;&gt; </button>
                            <button class="btn btn-dark mt-1 ml-5" onclick="toLeftCU()"> &lt;&lt;  </button>
                        </div>
                        <div class="col-md-5">
                            <select id="rightChannelUser" style="height: 200px;" class="form-control" multiple=""></select>
                        </div>
                    </div>
                    <input type="text" id="tempChannelId" style="display:none;">
                    <div class="col-md-12 text-center mt-2">
                        <button class="btn btn-dark btn-sm" onclick="SaveUsersToChannel()">Kaydet</button>
                        <button class="btn btn-dark btn-sm" data-dismiss="modal">Vazgeç</button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Mesajlar Modal -->
    <div id="messages" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Mesaj</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#messageList"
                               role="tab" aria-selected="true">
                                <span class="hidden-sm-up">
                                    <i class="ti-home"></i>
                                </span> <span class="hidden-xs-down">
                                    Mesaj
                                    Listesi
                                </span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#messageSend"
                               role="tab" aria-selected="false">
                                <span class="hidden-sm-up">
                                    <i class="ti-user"></i>
                                </span>
                                <span class="hidden-xs-down">Mesaj Gönder</span>
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content tabcontent-border">
                        <div class="tab-pane active" id="messageList" role="tabpanel">
                            <div class="p-20">
                                <h4>Mesaj Listeleme Filtreleri</h4>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div id="form-group">
                                                <label class="col-4">Grup Adı</label>
                                                <select class="col-6 form-control  " id="messageGroupId" onchange="GetGroupDevicesByGId(this.value)">
                                                    <option selected="">Hepsi</option>
                                                    @if (Model.Groups != null)
                                                    {
                                                        foreach (var item in Model.Groups)
                                                        {

                                                            <option value="@(item.Id)"> @item.Name</option>
                                                        }
                                                    }
                                                </select>
                                            </div>
                                            <div id="form-group">
                                                <label class="col-4">Araclar</label>
                                                <select class="col-6 mt-1 form-control" id="vehiclesSM">
                                                    <option selected="">Seçiniz...</option>
                                                </select>
                                            </div>


                                        </div>
                                        <div class="col-md-5">
                                            <div id="form-group">
                                                <label class="col-5">Başlangıç Zamanı</label>
                                                <input style="font-size: 10px;" class=" col-5 form-control " id="entranceDate" type="date"
                                                       value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                            </div>
                                            <div id="form-group">
                                                <label class="col-5">Bitiş Zamanı</label>
                                                <input style="font-size: 10px;" class="col-5 mt-1 form-control " id="entranceDate"
                                                       type="date" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div id="form-group">
                                                <label class="col-3">Yön</label>
                                                <select class="col-6 form-control">
                                                    <option>Hepsi</option>
                                                </select>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                <div class="col-md-12">
                                    <button class="btn btn-dark">Listele</button>
                                    <button class="btn btn-dark">Harita</button>
                                    <button class="btn btn-dark" style="float:right;">Excel'e Aktar</button>
                                </div>

                                <div class="col-md-12">
                                    <table class="table mt-2 table-bordered table-striped font-10">
                                        <thead>
                                            <tr>
                                                <th>Araç Adı </th>
                                                <th>Yön</th>
                                                <th>Gönderen</th>
                                                <th>Mesaj</th>
                                                <th>Durum</th>
                                                <th>Zaman</th>
                                                <th>Hız</th>
                                                <th>Konum</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane  p-20" id="messageSend" role="tabpanel">
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4>Mesaj Gönderilecek Araç Seçimi</h4>
                                    </div>
                                    <div class="col-md-12">
                                        <div id="form-group">
                                            <label>Grup Adı</label>
                                            <select class="col-4 form-control" id="groupIdSM" onchange="GetGroupDevicesByGroupIdSM(this.value)">
                                                <option selected="">Hepsi</option>
                                                @if (Model.Groups != null)
                                                {
                                                    foreach (var item in Model.Groups)
                                                    {
                                                        <option value="@(item.Id)"> @item.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-5">
                                        <select id="groupLeft" style="width: 100%;" class="form-control" multiple>
                                            @if (Model.GroupDevicesToLeft != null)
                                            {
                                                foreach (var item in Model.GroupDevicesToLeft)
                                                {
                                                    <option value="@(item.Id)">@item.CarPlateNumber</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div class="col-sm-2 mt-3">
                                        <div class="col-md-1">
                                            <button class="btn btn-dark" style="margin-left:40px;" onclick="groupVehiclesToRight()">
                                                >>
                                            </button>
                                        </div>
                                        <div class="col-md-1">
                                            <button class="btn btn-dark" style="margin-left:40px;" onclick="groupVehiclesToLeft()">
                                                <<
                                            </button>
                                        </div>
                                    </div> <div class="col-md-5">
                                        <select id="groupRight" style="width: 100%;"
                                                class="form-control" multiple>
                                        </select>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12 mt-1">
                                        <h4>Gönderilecek Mesaj</h4>
                                        <label>Yazabileceğiniz kalan harf sayısı : 130</label>
                                    </div>
                                    <div class="col-md-12">

                                        <textarea class="form-control" rows="4" cols="50">

                                                </textarea>
                                    </div>
                                    <div class="col-md-4">
                                        <button class="btn btn-dark">Mesaj Gönder</button>
                                    </div>
                                </div>


                            </div>



                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Noktalar Modal -->
    <div id="points" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Nokta</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Nokta Listeleme Filtreleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-md-4">
                                    <label>Nokta Adı</label>
                                    <input style="float:right;" class="col-6 form-control" type="text">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="col-md-4 mt-1">
                                    <label>Nokta Numarası</label>
                                    <input style="float:right; " class="col-6 form-control" type="text">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="col-md-4 mt-1">
                                    <label>Adres</label>
                                    <input style="float:right; " class="col-6 form-control" type="text">
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-12">
                        <button class="btn btn-dark">Listele</button>
                        <button class="btn btn-dark" style="float:right;">Excel'e Aktar</button>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-12 mt-3">
                            <h4 style="float:left"> Noktalar </h4>
                            <div id="buttons" style="float:right;">
                                <button class="btn btn-dark">Nokta Tipi Güncelleme</button>
                                <button class="btn btn-dark">Güncelle</button>
                                <button class="btn btn-dark">Sil</button>
                            </div>
                        </div>
                        <table class="table mt-2 table-bordered table-striped font-10">
                            <thead>
                                <tr>
                                    <th>Araç Adı </th>
                                    <th>Zaman</th>
                                    <th>Hız</th>
                                    <th>Konum</th>
                                    <th>Enlem</th>
                                    <th>Boylam</th>
                                    <th>Olay Tipi</th>
                                    <th>Olay Detayı</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>



                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Bölgeler Modal -->
    <div id="states" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Bölge</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Bölge Listeleme Filtreleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-md-4">
                                    <label>Bölge Adı</label>
                                    <input value="" style="float:right;  " class="col-6 form-control" type="text" id="areaNameTLA">
                                </div>
                            </div>
                            <div class="col-md-12 mt-1">
                                <div class="col-md-4">
                                    <label>Bölge Türü</label>
                                    <select class="form-control col-6" style="float:right" id="areaTypeTLA">
                                        <option value="0" selected>Hepsi</option>
                                        <option value="1">Normal Bölge</option>
                                        <option value="2">Yasaklı Bölge</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-12">
                        <button class="btn btn-dark" style="width:12%;" onclick="GetAreaListOfCompany()">Listele</button>
                        <button class="btn btn-dark" style="float:right;" onclick="location.href='@Url.Action("ExportAreas","Home")'">Excel'e Aktar</button>
                        <button onclick="ShowAreaVehiclesOnModal()" style="float:right; margin-right:3px" class="btn btn-dark">Bölge Araçları </button>
                    </div>
                    <div class="col-md-12">
                        <h4 id="areaTableHEADER" class="col-md-12" style="font-weight:bolder; text-align:center; display:none;"> Bölgeler </h4>

                        <div class="portlet-body table-responsive" id="areaTableContainer" style="height: 400px; overflow-y: auto; overflow-x: auto;">

                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    @*Bölge Araçları Modal*@
    <div id="areaVehiclesMODAL" class="modal fade " tabindex="-1" role="dialog" aria-labelledby="grid-title" aria-modal="true" style="display: none; padding-right: 17px;">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="grid-title">Bölge Araçları</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="portlet-body table-responsive" style="height: 400px; overflow-y: auto; overflow-x: hidden;" id="areaVehiclesTableContainer">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th class="col-md-6" style=" width:50%;font-weight:bolder; font-size:19px; ">Bölge</th>
                                    <th class="col-md-6" style="width:50%;font-weight:bolder; font-size:19px;">Araç</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Rotalar Modal -->

    <div id="routes" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Rota</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Rota Listeleme Filtreleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-md-4">
                                    <label>Rota Adı</label>
                                    <input style="float:right; " id="routeNameTLA" class="col-6 form-control" type="text">
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-12">
                        <button class="btn btn-dark" onclick="GetRouteListOfCompany()">Listele</button>
                        <button class="btn btn-dark" style="float:right;" onclick="location.href='@Url.Action("ExportRoutes","Home")'">Excel'e Aktar</button>
                    </div>

                    <div class="col-md-12">
                        <h4 id="routeTableHEADER" class="col-md-12" style="font-weight:bolder; text-align:center; display:none;"> Rotalar </h4>

                        <div class="portlet-body table-responsive" id="routeTableContainer" style="height: 400px; overflow-y: auto; overflow-x: auto;">

                        </div>

                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- İşEmirleri Modal -->
    <div id="workOrder" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">İş Emri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Arama Kriterleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6">
                                <div id="form-control">
                                    <label class="col-3">Grup Adı</label>
                                    <select class="col-5 form-control" id="inlineFormCustomSelect">
                                        <option selected="">Hepsi</option>
                                    </select>
                                    <div class="checkbox checkbox-success ml-3">
                                        <input id="checkbox1" type="checkbox">
                                        <label for="checkbox1"> Tüm Grup Üyelerinde Ara </label>
                                    </div>
                                </div>
                                <div id="form-control">
                                    <label class="col-3">Araclar</label>
                                    <select class="col-5 form-control" id="inlineFormCustomSelect">
                                        <option selected="">Hepsi</option>
                                    </select>
                                </div>
                                <div class="mt-2" id="form-control">
                                    <label>Durum Filtresi</label>

                                    <input name="group5" type="radio" id="1" class="with-gap radio-col-red"
                                           checked="">
                                    <label for="1">Tümü</label>

                                    <input name="group5" type="radio" id="2" class="with-gap radio-col-red"
                                           checked="">
                                    <label for="2">Yeni</label>

                                    <input name="group5" type="radio" id="3" class="with-gap radio-col-red"
                                           checked="">
                                    <label for="3">Bitti</label>

                                    <input name="group5" type="radio" id="4" class="with-gap radio-col-red"
                                           checked="">
                                    <label for="4">Başladı/Devam Ediyor</label>

                                </div>


                            </div>


                            <div class="col-md-6">
                                <div id="form-group" class="mt-1">
                                    <label class="col-5">Başlangıç Zamanı</label>
                                    <input style="font-size: 10px;" class=" col-6 form-control " id="entranceDate" type="date" value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                </div>
                                <div id="form-group" class="mt-1">
                                    <label class="col-5">Bitiş Zamanı</label>
                                    <input style="font-size: 10px;" class="col-6 form-control " id="entranceDate" type="date" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                </div>
                                <div id="form-group" class="mt-1">
                                    <label class="col-5"> Taslak Adı</label>
                                    <select class="col-6 form-control">
                                        <option>Hepsi </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <button class="btn btn-dark">Listele</button>
                        <button class="btn btn-dark" style="float:right;">Excel'e Aktar</button>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-12 mt-3">
                            <h4 style="float:left"> İş Emri Listesi </h4>
                            <div id="buttons" style="float:right;">
                                <button class="btn btn-dark btn-sm">Taslak İş Emri Oluşturma</button>
                                <button class="btn btn-dark btn-sm">Noktadan İş Emri Oluşturma</button>
                                <button class="btn btn-dark btn-sm">İş Emri Oluşturma</button>
                                <button class="btn btn-dark btn-sm">İşi Kapat</button>
                                <button class="btn btn-dark btn-sm">Sil</button>

                            </div>
                        </div>
                        <table class="table mt-2 table-bordered table-striped font-10">
                            <thead>
                                <tr>
                                    <th>Araç Adı </th>
                                    <th>İş Emri Adı </th>
                                    <th>Baş. Tarihi (Plan.) </th>
                                    <th>Bitiş Tarihi (Plan.)</th>
                                    <th>Harita</th>
                                    <th>Baş. Tarihi (Ger.)</th>
                                    <th>Bitiş Tarihi (Ger.) </th>
                                    <th>Durum </th>
                                    <th>İş Süresi</th>
                                    <th>Mesafe (km)</th>
                                    <th>Bekleme Sayısı</th>
                                    <th>Bekleme Süresi (dk)</th>
                                    <th>Uğranan</th>
                                    <th>İş Emri Noktaları</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>



                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Taslak İşEmirleri Modal -->
    <div id="layoutWorkOrder" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Taslak İşemirleri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-4">
                                <h4>Taslak Listesi</h4>
                            </div>
                            <div class="col-md-8">
                                <div style="float:right;">
                                    <button class="btn btn-dark btn-sm">Yeni Kayıt</button>
                                    <button class="btn btn-dark btn-sm">Kaydet</button>
                                    <button class="btn btn-dark btn-sm">Sil</button>
                                    <button class="btn btn-dark btn-sm">Taslak Detayları</button>
                                    <button class="btn btn-dark btn-sm">Excele Aktar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 mt-3">
                        <table class="table mt-2 table-bordered table-striped font-10">
                            <thead>
                                <tr>
                                    <th>Taslak Adı</th>
                                    <th>Taslak Kodu</th>
                                </tr>
                            </thead>
                        </table>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>


    <div id="sendReportWithEmailMODAL" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" style="display: none; padding-right: 17px; z-index: 999999999999999999 !important;" aria-modal="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="mySmallModalLabel">E-Mail Gönder</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <h5 style="text-align:center;">E-Mail </h5>
                        </div>
                        <div class="col-md-12">
                            <input id="emailToSendReport" value="@Model.User.Mail" type="text" class="col-12 form-control">
                        </div>
                        <div class="col-md-12">
                            <center><button type="button" class="col-5 mt-1 btn btn-dark" onclick="SendReportWithEmail()">Gönder</button></center>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Genel Raporlar Modal -->

    <div id="reports" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel" style="color: #005a7b;">Raporlar</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-5">
                                <h4 style="color: #005a7b;">Rapor Grupları</h4>
                            </div>
                            <div class="col-md-7">
                                <h4 style="color: #005a7b;">Rapor Filtreleri </h4>
                            </div>
                            @*<div class="col-md-12">
                                    <input class="col-4 form-control" type="text" id="searchReportTB">
                                    <button class="btn btn-dark col-1" onclick="showRelatedReport()">Listele</button>
                                </div>*@
                        </div>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6 mt-3">
                                <div class="customTreeViewContainer">
                                    <h5 onclick="handleCustomTreeView($(this))" class="customTreeViewHeader" style="font-weight: bold;color: #005a7b;">
                                        <i class="fa fa-plus" style="font-weight: bold;color: #005a7b;"></i>&nbsp;Sefer Raporları
                                    </h5>

                                    <div class="customTreeViewContent">
                                        <ul class="list-group list-style-none ">
                                            <li>
                                                <a id="seferOzetiRaporuCLICK" href="javascript:;" onclick="showDiv('seferOzetiRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color:#24ada6;"></i>
                                                    Sefer Özeti Raporu
                                                </a>
                                            </li>
                                            <li>
                                                <a id="seferOlayRaporuCLICK" href="javascript:;" onclick="showDiv('seferOlayRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Sefer Olay Raporu
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="customTreeViewContainer">
                                    <h5 onclick="handleCustomTreeView($(this))" class="customTreeViewHeader" style="font-weight: bold;color: #005a7b;">
                                        <i class="fa fa-plus" style="font-weight: bold;color: #005a7b;"></i>&nbsp;Konum Raporları
                                    </h5>

                                    <div class="customTreeViewContent">
                                        <ul class="list-group list-style-none ">
                                            <li>
                                                <a id="gecmisKonumRaporuCLICK" href="javascript:;" onclick="showDiv('gecmisKonumRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Geçmiş Konum
                                                    Raporu
                                                </a>
                                            </li>
                                            <li>
                                                <a id="sonKonumRaporuCLICK" href="javascript:;" onclick="showDiv('sonKonumRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Son
                                                    Konum Raporu
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                @*<div class="customTreeViewContainer">
                                        <h5 onclick="handleCustomTreeView($(this))" class="customTreeViewHeader">
                                            <i class="fa fa-plus"></i>&nbsp;Olay Raporu
                                        </h5>

                                        <div class="customTreeViewContent">
                                            <ul class="list-group list-style-none ">
                                                <li>
                                                    <a id="gecmisKonumRaporuCLICK" href="javascript:;" onclick="showDiv('gecmisKonumRaporu')"style="display:none;"
                                                       data-toggle="modal">
                                                        <i class="fa fa-dot-circle-o"></i>Geçmiş Konum
                                                        Raporu
                                                    </a>
                                                </li>
                                                <li>
                                                    <a id="seferOlayRaporuCLICK" href="javascript:;" onclick="showDiv('seferOlayRaporu')" style="display:none;"
                                                       data-toggle="modal">
                                                        <i class="fa fa-dot-circle-o"></i>Sefer
                                                        Olay Raporu
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>*@
                                <div class="customTreeViewContainer">
                                    <h5 onclick="handleCustomTreeView($(this))" class="customTreeViewHeader" style="font-weight: bold;color: #005a7b;">
                                        <i class="fa fa-plus" style="font-weight: bold;color: #005a7b;"></i>&nbsp;Denetim Raporları Raporu
                                    </h5>

                                    <div class="customTreeViewContent">
                                        <ul class="list-group list-style-none ">
                                            <li>
                                                <a id="aracGiseGecisRaporuCLICK" href="javascript:;" style="display:none;color: #005a7b;"
                                                   onclick="showDiv('aracGiseGecisleriRaporu')"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Araç
                                                    Gişe Geçişleri
                                                    Raporu
                                                </a>
                                            </li>
                                            <li>
                                                <a id="kontakDurumRaporuCLICK" href="javascript:;" style="display:none;color: #005a7b;"
                                                   onclick="showDiv('kontakDurumRaporu')"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Araç
                                                    Kontak Durum raporu
                                                </a>
                                            </li>
                                            <li>
                                                <a id="mesafeOzetRaporuCLICK" href="javascript:;" onclick="showDiv('mesafeOzetRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Mesafe
                                                    Özet Raporu
                                                </a>
                                            </li>
                                            <li>
                                                <a id="bolgeVarisAyrilisRaporuCLICK" href="javascript:;" onclick="showDiv('bolgeVarisRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Bölge
                                                    Varış/Ayrılış
                                                    Raporu
                                                </a>
                                            </li>
                                            <li>
                                                <a id="rotaVarisAyrilisRaporuCLICK" href="javascript:;" onclick="showDiv('rotaVarisRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Rota
                                                    Varış/Ayrılış
                                                    Raporu
                                                </a>
                                            </li>
                                            <li>
                                                <a id="hizAsimiRaporuCLICK" href="javascript:;" onclick="showDiv('hizAsimiRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Hız Aşımı Raporu
                                                </a>
                                            </li>
                                            <li>
                                                <a id="durakRaporuCLICK" href="javascript:;" onclick="showDiv('durakRaporu')" style="display:none;color: #005a7b;"
                                                   data-toggle="modal">
                                                    <i class="fa fa-dot-circle-o fa-lg" style="color: #24ada6;"></i> Durak Raporu
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>


                            <div class="col-md-6" id="reportPane">
                                <div class="customReportDiv" id="aracGiseGecisleriRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;">Araç Gişe Geçişleri Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsGGR" onchange="GetGroupDevicesGGR()">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>

                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Araç Arama</label>
                                        <input id="vehicleSearchGGR" type="text" class=" col-4 mt-1 form-control">
                                        <button type="button" id="vehicleSearchBtnGGR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllGGR" /> <label for="selectAllGGR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select id="vehiclesGGR" style="width: 100%; height:250px;" class="form-control" multiple></select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateGGR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateGGR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Çıktı Türü</label>
                                        <select id="fileTypeGGR" class="col-4  form-control">
                                            <option value="1">Excel </option>
                                            <option value="2">PDF </option>

                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <button class="btn btn-dark" onclick="downloadAracGiseGecisRaporu(1)">Rapor Al</button>
                                        @*<button class="btn btn-dark" onclick="downloadAracGiseGecisRaporu(1)">Rapor İndir</button>*@
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadAracGiseGecisRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailGGR">E-Mail Gönder</button>
                                    </div>
                                </div>
                                <div class="customReportDiv" id="gecmisKonumRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;"> Geçmiş Konum Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsGKR" onchange="GetGroupDevicesGKR()">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Araç Arama</label>
                                        <input id="vehicleSearchGKR" type="text" class=" col-4 mt-1 form-control">
                                        <button type="button" id="vehicleSearchBtnGKR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllGKR" /> <label for="selectAllGKR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select id="vehiclesGKR" style="width: 100%; height:250px;" class=" form-control" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateGKR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateGKR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeGKR" class="col-4 form-control">
                                            <option value="1">Excel</option>
                                            <option value="2">PDF</option>
                                        </select>
                                    </div>
                                    @*<div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">Nokta</label>
                                            <select class="col-4 form-control">
                                                <option>Müşteri Noktası </option>
                                                <option>Yakın Önemli Nokta </option>
                                            </select>
                                        </div>

                                        <div id="form-group">
                                            <label style="font-weight: bold" class="mt-2 col-4">
                                                Raporlanacak Hız
                                                Limiti
                                            </label>
                                            <input class="form-control col-4" type="text">
                                        </div>

                                        <div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">
                                                Hızı Olmayan
                                                Kayıtlar
                                            </label>
                                            <select class="col-4 form-control">
                                                <option>Listelensin </option>
                                                <option>Listelenmesin</option>
                                            </select>
                                        </div>
                                        <div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">
                                                Mesafe Katetmeyen
                                                Kayıtlar
                                            </label>
                                            <select class="col-4 form-control">
                                                <option>Listelensin </option>
                                                <option>Listelenmesin</option>
                                            </select>
                                        </div>

                                        <div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">
                                                Saat
                                                Kırınımı
                                            </label>
                                            <select class="col-4 form-control">
                                                <option>Yok </option>
                                                <option>Var</option>
                                            </select>
                                        </div>
                                        <div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">Mesai Durumu</label>
                                            <select class="col-4 form-control">
                                                <option>Tümü </option>
                                                <option>Mesai Dışı</option>
                                                <option>Mesai İçi</option>
                                            </select>
                                        </div>*@
                                    <div id="form-group">
                                        <button class="btn btn-dark" onclick="downloadGecmisKonumRaporu(1)">Rapor Al</button>
                                        @*<button class="btn btn-dark" onclick="downloadGecmisKonumRaporu(1)">Rapor İndir</button>*@
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadGecmisKonumRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailGKR">E-Mail Gönder</button>
                                    </div>
                                </div>
                                <div class="customReportDiv" id="seferOlayRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;"> Sefer Olay Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsSOLR" onchange="GetGroupDevicesSOLR()">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Arama</label>
                                        <input id="vehicleSearchSOLR" type="text" class=" col-4  mt-1 form-control">
                                        <button type="button" id="vehicleSearchBtnSOLR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllSOLR" /> <label for="selectAllSOLR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select id="vehiclesSOLR" style="width: 100%; height:250px;" class="form-control" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateSOLR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateSOLR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeSOLR" class="col-4  form-control">
                                            <option value="1">Excel</option>
                                            <option value="2">PDF</option>
                                        </select>
                                    </div>

                                    @*<div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">Nokta</label>
                                            <select class="col-4 form-control">
                                                <option>Müşteri Noktası </option>
                                                <option>Yakın Önemli Nokta </option>
                                            </select>
                                        </div>
                                        <div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">Görev Tipi</label>
                                            <select class="col-4 form-control">
                                                <option>Hepsi </option>
                                            </select>
                                        </div>
                                        <div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">
                                                Araç
                                                Görevlisi
                                            </label>
                                            <select class="col-4 form-control">
                                                <option>Hepsi </option>
                                            </select>
                                        </div>

                                        <div id="form-group">
                                            <label style="font-weight: bold" class="col-4 mt-2">Olay Kodu</label>
                                            <select class="col-4 form-control">
                                                <option>Hepsi</option>
                                            </select>
                                        </div>*@
                                    <div id="form-group" class="mt-2">
                                        <button class="btn btn-dark" onclick="downloadSeferOlayRaporu(1)">Rapor Al</button>
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadSeferOlayRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailSOLR">E-Mail Gönder</button>
                                    </div>
                                </div>
                                <div class="customReportDiv" id="hizAsimiRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;"> Hız Aşımı Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsHAR" onchange="GetGroupDevicesHAR()">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Arama</label>
                                        <input id="vehicleSearchHAR" type="text" class=" col-4  mt-1 form-control">
                                        <button type="button" id="vehicleSearchBtnHAR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllHAR" /> <label for="selectAllHAR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select id="vehiclesHAR" style="width: 100%; height:250px;" class="form-control" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateHAR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateHAR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeHAR" class="col-4  form-control">
                                            <option value="1">Excel</option>
                                            <option value="2">PDF</option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <button class="btn btn-dark" onclick="downloadHizAsimiRaporu(1)">Rapor Al</button>
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadHizAsimiRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailHAR">E-Mail Gönder</button>
                                    </div>
                                </div>
                                <div class="customReportDiv" id="durakRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;"> Durak Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsDR" onchange="GetGroupDevicesDR()">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Arama</label>
                                        <input id="vehicleSearchDR" type="text" class=" col-4  mt-1 form-control">
                                        <button type="button" id="vehicleSearchBtnDR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllDR" /> <label for="selectAllDR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select id="vehiclesDR" style="width: 100%; height:250px;" class="form-control" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateDR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateDR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeDR" class="col-4  form-control">
                                            <option value="1">Excel</option>
                                            <option value="2">PDF</option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <button class="btn btn-dark" onclick="downloadDurakRaporu(1)">Rapor Al</button>
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadDurakRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailDAR">E-Mail Gönder</button>
                                    </div>
                                </div>
                                <div class="customReportDiv" id="seferOzetiRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;"> Sefer Özeti Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsSOR" onchange="GetGroupDevicesSOR()">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Arama</label>
                                        <input type="text" class=" col-4  mt-1 form-control" id="vehicleSearchSOR">
                                        <button type="button" id="vehicleSearchBtnSOR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllSOR" /> <label for="selectAllSOR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select style="width: 100%; height:250px;" class="form-control" id="vehiclesSOR" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateSOR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateSOR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeSOR" class="col-4  form-control">
                                            <option value="1">Excel </option>
                                            <option value="2">PDF </option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <button onclick="downloadSeferOzetiRaporu(1)" class="btn btn-dark">Rapor Al</button>
                                        @*<button onclick="downloadSeferOzetiRaporu(1)" class="btn btn-dark">Rapor İndir</button>*@
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadSeferOzetiRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailSOR">E-Mail Gönder</button>
                                    </div>
                                </div>

                                <div class="customReportDiv" id="kontakDurumRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;">Kontak Durum Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsKDR" onchange="GetGroupDevicesKDR()">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Arama</label>
                                        <input type="text" class=" col-4  mt-1 form-control" id="vehicleSearchKDR">
                                        <button type="button" id="vehicleSearchBtnKDR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllKDR" /> <label for="selectAllKDR" style="font-size: 14px; color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select style="width: 100%; height:250px;" class="form-control" id="vehiclesKDR" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateKDR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateKDR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeKDR" class="col-4  form-control">
                                            <option value="1">Excel </option>
                                            <option value="2">PDF </option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <button onclick="downloadKontakDurumRaporu(1)" class="btn btn-dark">Rapor Al</button>
                                        @*<button onclick="downloadSeferOzetiRaporu(1)" class="btn btn-dark">Rapor İndir</button>*@
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadKontakDurumRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailKDR">E-Mail Gönder</button>
                                    </div>
                                </div>
                                <div class="customReportDiv" id="sonKonumRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;">Son Konum Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Grupları</label>
                                        <select class="col-6  form-control" id="groupIdSKR">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeSKR" class="col-4  form-control">
                                            <option value="1">Excel </option>
                                            <option value="2">PDF </option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <button class="btn btn-dark" onclick="downloadSonKonumRaporu(1)">Rapor Al</button>
                                        @*<button class="btn btn-dark" onclick="downloadSonKonumRaporu(1)">Rapor İndir</button>*@
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadSonKonumRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailSKR">E-Mail Gönder</button>
                                    </div>
                                </div>

                                <div class="customReportDiv" id="mesafeOzetRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;">Mesafe Özet Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsMOR" onchange="GetGroupDevicesMOR()">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Arama</label>
                                        <input type="text" class=" col-4  mt-1 form-control" id="vehicleSearchMOR">
                                        <button type="button" id="vehicleSearchBtnMOR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllMOR" /> <label for="selectAllMOR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select id="vehiclesMOR" style="width: 100%; height:250px;" class="form-control" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateMOR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateMOR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeMOR" class="col-4  form-control">
                                            <option value="1">Excel </option>
                                            <option value="2">PDF </option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <button class="btn btn-dark" onclick="downloadMesafeOzetRaporu(1)">Rapor Al</button>
                                        @*<button class="btn btn-dark" onclick="downloadMesafeOzetRaporu(1)">Rapor İndir</button>*@
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadMesafeOzetRaporu(2)');$('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailMOR">E-Mail Gönder</button>
                                    </div>
                                </div>
                                <div class="customReportDiv" id="bolgeVarisRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;">Bölge Varış/Ayrılış Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Bölgeler</label>
                                        <select class="col-6  form-control" id="companyAreaBVAR">
                                            <option selected="">Hepsi</option>
                                            @if (Model.Areas != null)
                                            {
                                                @foreach (var item in Model.Areas)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }}
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsBVAR" onchange="GetGroupDevicesBVAR()">
                                            <option selected="">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                @foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }}
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Arama</label>
                                        <input type="text" class=" col-4  mt-1 form-control" id="vehicleSearchBVAR">
                                        <button type="button" id="vehicleSearchBtnBVAR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllBVAR" /> <label for="selectAllBVAR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select id="vehiclesBVAR" style="width: 100%; height:250px;" class="form-control" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateBVAR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateBVAR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeBVAR" class="col-4  form-control">
                                            <option value="1">Excel </option>
                                            <option value="2">PDF </option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <button onclick="downloadBolgeVarisAyrilisRaporu(1)" class="btn btn-dark">Rapor Al</button>
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadBolgeVarisAyrilisRaporu(2)'); $('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailBVAR">E-Mail Gönder</button>
                                    </div>
                                </div>
                                <div class="customReportDiv" id="rotaVarisRaporu" style="display:none;">
                                    <h4 style="font-weight: bold; color: #005a7b;">Rota Varış/Ayrılış Raporu</h4>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Rotalar</label>
                                        <select class="col-6  form-control" id="companyRouteRVAR">
                                            <option selected="">Hepsi</option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4">Araç Grupları</label>
                                        <select class="col-6  form-control" id="vehicleGroupsRVAR" onchange="GetGroupDevicesRVAR()">
                                            <option selected="">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                @foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }}
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Araç Arama</label>
                                        <input type="text" class=" col-4  mt-1 form-control" id="vehicleSearchRVAR">
                                        <button type="button" id="vehicleSearchBtnRVAR" class=" col-2 btn btn-dark ">ARA</button>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;"> Araçlar : </label>
                                        <div class="mr-1">
                                            <input type="checkbox" id="selectAllRVAR" /> <label for="selectAllRVAR" style="font-size: 14px;color: #005a7b;">Tümünü Seç</label>
                                        </div>
                                        <select id="vehiclesRVAR" style="width: 100%; height:250px;" class="form-control" multiple>
                                        </select>
                                    </div>
                                    <div id="form-group">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 ">Başlangıç Tarihi</label>
                                        <input class=" col-6 form-control" id="startDateRVAR" type="date"
                                               value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Bitiş Tarihi</label>
                                        <input class="col-6 form-control  " id="endDateRVAR" type="date"
                                               value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                    </div>
                                    <div id="form-group" class="mt-1">
                                        <label style="font-weight: bold; color: #005a7b;" class="col-4 mt-2">Çıktı Türü</label>
                                        <select id="fileTypeRVAR" class="col-4  form-control">
                                            <option value="1">Excel </option>
                                            <option value="2">PDF </option>
                                        </select>
                                    </div>
                                    <div id="form-group" class="mt-2">
                                        <button onclick="downloadRotaVarisAyrilisRaporu(1)" class="btn btn-dark">Rapor Al</button>
                                        <button class="btn btn-dark" onclick="$('#sendReportWithEmailMODAL').removeAttr('data-report-name').attr('data-report-name', 'downloadRotaVarisAyrilisRaporu(2)'); $('#sendReportWithEmailMODAL').modal('show');" id="SendReportWithEmailBVAR">E-Mail Gönder</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-dark waves-effect text-left"
                                data-dismiss="modal">
                            Kapat
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
    </div>

    <!-- Analiz Modal -->
    <div id="analyse" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Analiz</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>

                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 ml-5">
                                <div class="col-md-8">
                                    <label class="mt-2">Grup Adı</label>
                                    <select style="float:right;" class="col-8 form-control" id="groupIdAnaliz" onchange="GetGroupDevicesA()">
                                        <option>Hepsi</option>
                                        <option value="5"> Group-1</option>
                                        <option value="6"> Group-2</option>
                                    </select>
                                </div>
                                <div class="col-md-8 mt-1">
                                    <label>Araçlar</label>
                                    <select class="form-control col-8" style="float:right;" id="vehiclesAnaliz">
                                        <option>Hepsi</option>
                                    </select>
                                </div>
                                <div class="col-md-8 mt-2">
                                    <div id="form-group">
                                        <label>Başlangıç Zamanı</label>
                                        <input class=" col-6  form-control " style="float:right;font-size:10px" id="entranceDate" type="date" value="2019-09-24">
                                    </div>
                                </div>
                                <div class="col-md-8 mt-2">
                                    <div id="form-group">
                                        <label>Bitiş Zamanı</label>
                                        <input style="float:right;font-size:10px;" class="col-6   form-control" id="entranceDate" type="date" value="2019-09-25">
                                    </div>
                                </div>
                                <div class="col-md-8 mt-2">
                                    <label>Analiz Tipi</label>
                                    <div style="float:right;">
                                        <input name="group5" type="radio" id="il" class="with-gap radio-col-red">
                                        <label for="il" style="font-size:12px">İl</label>

                                        <input name="group5" type="radio" id="ilce" class="with-gap radio-col-red">
                                        <label for="ilce" style="font-size:12px">İlçe</label>

                                        <input name="group5" type="radio" id="mahalle" class="with-gap radio-col-red">
                                        <label for="mahalle" style="font-size:12px">Mahalle</label>
                                    </div>
                                </div>

                                <div class="col-md-8 mt-2">
                                    <label>Mesai Durumu</label>
                                    <select style="float:right;" class="col-6 form-control">
                                        <option>Hepsi</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 mt-1">
                        <button class="btn  btn-dark" style="float:right;">Harita</button>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect"
                            data-dismiss="modal">
                        Kapat
                    </button>

                </div>
            </div>
        </div>
    </div>

    <!-- Araç Skorlama Modal -->
    <div id="driverScoring" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Araç Skorlama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Listeleme Filtreleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-4">
                                <div id="form-group">
                                    <label class="col-3">Grup Adı</label>
                                    <select class="col-6 form-control   " id="groupIdAS" onchange="GetGroupDevicesAS()">
                                        <option selected="">Hepsi</option>
                                    </select>
                                </div>
                                <div id="form-group">
                                    <label class="col-3">Araç Adı</label>
                                    <select class="col-6 form-control mt-1" id="vehiclesAS">
                                        <option selected="">Seçiniz...</option>
                                    </select>
                                </div>


                            </div>
                            <div class="col-md-6">
                                <div id="form-group">
                                    <label class="col-3">Başlangıç Tarihi</label>
                                    <input style="font-size: 10px;" class=" col-4 form-control" id="entranceDate" type="date" value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                </div>
                                <div id="form-group">
                                    <label class="col-3">Bitiş Tarihi</label>
                                    <input style="font-size: 10px;" class="col-4 form-control mt-1" id="entranceDate" type="date" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="col-md-12 mt-2">
                        <button class="btn btn-dark">Listele</button>
                        <button class="btn btn-dark ml-3" style="float:right ">Güvenli Sürüş Skor Detay</button>
                        <button class="btn btn-dark" style="float:right;">Eko. Sürüş Skor Detay</button>
                    </div>




                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Mesai Analizi Modal  -->
    <div id="shiftAnalyse" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Mesai Analizi</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Listeleme Filtreleri</h4>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-4">
                                <div id="form-group">
                                    <label>Grup Adı</label>
                                    <select class="col-6 form-control   " style="float:right"
                                            id="groupIdMA" onchange="GetGroupDevicesMA()">
                                        <option selected="">Hepsi</option>
                                        @if (Model.Groups != null)
                                        {
                                            foreach (var item in Model.Groups)
                                            {
                                                <option value="@(item.Id)"> @item.Name</option>
                                            }
                                        }
                                    </select>
                                </div>
                                <div class="checkbox checkbox-success ">
                                    <input style="font-size: 10px;" class="col-6 form-control" id="searchMA" type="checkbox" onclick="DisabledMA()">
                                    <label style="font-size: 10px;" for="searchMA"> Tüm Grup Üyelerinde Ara </label>
                                </div>

                                <div id="form-group">
                                    <label>Araç Adı</label>
                                    <select class="col-6 form-control" style="float:right"
                                            id="vehicleIdMA">
                                        <option selected="">Seçiniz...</option>
                                    </select>
                                </div>


                            </div>
                            <div class="col-md-4">
                                <div id="form-group">
                                    <label>Başlangıç Tarihi</label>
                                    <input class=" col-6 form-control" style="float:right;font-size:10px;" id="entranceDate"
                                           type="date" value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                                </div>
                                <div id="form-group" class="mt-3">
                                    <label>Bitiş Tarihi</label>
                                    <input class="col-6 form-control" style="float:right;font-size:10px;" id="entranceDate"
                                           type="date" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="col-md-12 mt-2">
                        <button class="btn btn-dark">Listele</button>
                        <button class="btn btn-dark ml-3" style="float:right ">Güvenli Sürüş Skor Detay</button>
                        <button class="btn btn-dark" style="float:right;">Eko. Sürüş Skor Detay</button>
                    </div>




                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Kullanıcılar Modal -->
    <div id="kullanıcılarmodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Kullanıcılar</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Kullanıcı Listeleme Filtreleri</h4>
                    <br>
                    <div class="col-md-3   float-left">
                        <label>Kullanıcı Adı:</label>
                        <input id="userCodeTF" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left">
                        <label>Adı:</label>
                        <input id="userNameTF" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left">
                        <label>Soyadı:</label>
                        <input id="userSurnameTF" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left">
                        <label>Kullanıcı Yetkisi:</label>
                        <select id="userAuthorityTF" class="form-control input-sm">
                            <option value="0">Hepsi</option>
                            <option value="1">User</option>
                            <option value="2">Admin</option>
                        </select>
                    </div>
                    <div class="float-right mr-auto">
                        <button type="button" onclick="GetUserList()" class="btn btn-dark mt-3">
                            LİSTELE
                        </button>
                    </div>
                </div>
                <div class="float-right ml-5 mb-5">
                    <button type="button" data-toggle="modal" onclick="ShowUserModal()"
                            class="btn btn-dark mt-3">
                        YENİ
                    </button>
                    <button type="button" class="btn btn-dark mt-3" onclick="location.href='/Home/ExportUsersInfo'"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Kullanıcı Listesi</h4>
                        <div id="userListTableContainer" class="table-responsive " style="height: 400px; overflow-y: auto;">

                        </div>
                        <div class="col-md-12 portlet-body" id="loadingContainer7" style="position:relative; display:none;">
                            <center>
                                <img style="width: 75px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                            </center>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- YeniKullanıcıEkleme Modal -->
    <div id="newUserModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Kullanıcı Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>*Kullanıcı Adı:</label>
                        <input value="" id="usercodeTAM" type="text" class="form-control input-sm" />
                    </div>
                    <input id="userIdTAM" type="text" value="0" style="display:none;" />
                    <div class="col-md-6   float-left mt-4">
                        <label>Şirket:</label>
                        <input id="companyIdTAM@(Model.Company.Id)" value="@Model.Company.CompanyDescription" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>*Şifre:</label>
                        <input value="" id="passwordTAM" type="password" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>*Şifre Doğrula:</label>
                        <input value="" id="passwordControlTAM" type="password" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Adı:</label>
                        <input id="usernameTAM" value="" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Soyadı:</label>
                        <input id="userSurnameTAM" value="" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>* Kullanıcı Yetkisi:</label>
                        <select id="userAuthorityIdTAM" class="form-control input-sm">
                            <option value="0">User</option>
                            <option value="1">Admin</option>
                        </select>
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Coğrafi Yetki:</label>
                        <select id="userGeographicalAuthorityIdTAM" class="form-control input-sm">
                            @foreach (var item in Model.GeographicalAuthorities)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Email:</label>
                        <input id="userEmailTAM" type="email" value="" placeholder="example@gmail.com"
                               class="form-control input-sm" />
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="SaveUser()" class="btn btn-dark mt-3"> KAYDET </button>
                        <button type="button" data-dismiss="modal" class="btn btn-dark mt-3"> VAZGEÇ </button>
                    </div>




                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- KullanıcıGüncelleme Modal -->
    <div id="updateUserModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Kullanıcı Güncelle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>*Kullanıcı Adı:</label>
                        <input id="userCodeTUM" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Şirket:</label>
                        <input id="companyId@(Model.Company.Id)" value="@Model.Company.CompanyDescription" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>*Şifre:</label>
                        <input id="passwordTUM" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>*Şifre Doğrula:</label>
                        <input id="passwordControlTUM" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Adı:</label>
                        <input value="" id="userNameTUM" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Soyadı:</label>
                        <input value="" id="userSurnameTUM" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Kullanıcı Yetkisi:</label>
                        <select id="userAuthorityTUM" class="form-control input-sm">
                            <option value="0">User</option>
                            <option value="1">Admin</option>
                        </select>
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Coğrafi Yetki:</label>
                        <select id="userGeographicalAuthorityTUM " class="form-control input-sm">
                            @foreach (var item in Model.GeographicalAuthorities)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Email:</label>
                        <input value="" id="userEmailTUM" type="email" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Son Erişim Tarihi:</label>
                        <input id="sonerisim" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Şifre Geçerlilik Zamanı:</label>
                        <input id="sifregecerlilik" type="text" class="form-control input-sm" />
                    </div>
                    <div class="float-right mr-auto mt-5">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                        <button type="button" onclick="Vazgeç()" class="btn btn-dark mt-3"> VAZGEÇ </button>
                    </div>




                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- KullanıcıyaAraçAtama Modal -->
    <div id="setcartouserModal" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Kullanıcıya Araç Atama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-3    mt-4">
                        <label>Kullanıcı Adı:</label>
                        <select onchange="GetUserDevicesByUserId(this.value)" id="aracatamauserid" class="form-control input-sm ">
                        </select>
                    </div>
                    <div class="col-md-3 form-check mt-5">
                        <input style="display:none" id="IdKAA" value="@Model.User.Id">
                        <input style="display:none" id="NameKAA" value="@Model.User.UserCode">
                        <input type="checkbox" class="check" id="checkusersetcar" onclick="Disabled()">
                        <label for="checkusersetcar">Tüm şirket araçlarında çalış</label>
                    </div>
                    <div class="col-md-3   mt-4">
                        <label>Şirket:</label>
                        <select id="aracAtamaCompanyId" class="form-control input-sm " disabled="disabled" onchange="GetAllCompanyUsers()">
                            <option value="@Model.User.CompanyId" selected>@Model.User.CompanyName</option>

                        </select>
                    </div>
                    <div class="container mt-3">
                        <div class="row mt-2">
                            <div class="col-md-5">
                                <label>Tüm Araçlar</label>
                                <select id="carLeft" style="width: 100%;height: 140%;" class="form-control" multiple="">
                                </select>
                            </div>
                            <div class="col-sm-2 mt-5">
                                <div class="col-md-1 mt-5">
                                    <button class="btn btn-dark btn-xs ml-5" onclick="carToRight()">
                                        &gt;&gt;
                                    </button>
                                </div>
                                <div class="col-md-1">
                                    <button class="btn btn-dark btn-xs ml-5 mt-1" onclick="carToLeft()">
                                        &lt;&lt;
                                    </button>
                                </div>
                            </div> <div class="col-md-5">
                                <label>Atanmış Araçlar</label>
                                <select id="carRight" style="width: 100%;height: 140%;" class="form-control" multiple="">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="float-right mr-auto mt-5">
                        <button type="button" onclick="AssignVehicleToUser()" class="btn btn-dark mt-5" id="saveusersetcar"> KAYDET </button>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- OtomatikRaporlama Araç Atama Modal -->
    <div id="ChooseVehicleForAR" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Araç Atama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="container mt-3">
                        <div class="row mt-2">
                            <div class="col-md-5">
                                <label>Tüm Araçlar</label>
                                <select id="carLeftAutomaticReporting" style="width: 100%;" class="form-control" multiple>
                                </select>
                            </div>
                            <div class="col-sm-2 mt-5">
                                <div class="col-md-1">
                                    <button class="btn btn-dark btn-xs ml-5" onclick="carToRightAutomaticReporting()">
                                        &gt;&gt;
                                    </button>
                                </div>
                                <div class="col-md-1">
                                    <button class="btn btn-dark btn-xs ml-5 mt-1" onclick="carToLeftAutomaticReporting()">
                                        &lt;&lt;
                                    </button>
                                </div>
                            </div> <div class="col-md-5">
                                <label>Atanmış Araçlar</label>
                                <select id="carRightAutomaticReporting" style="width: 100%;" class="form-control" multiple="">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="float-right mr-auto mt-5">
                        <button type="button" onclick="AssignVehicleToReport()" class="btn btn-dark mt-3" id="saveusersetcar"> KAYDET </button>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- KullanıcıyaRaporAtama Modal -->
    <div id="setraportouserModal" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Kullanıcıya Rapor Atama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="row ">
                        <div class="col-md-3    mt-4">
                            <label>Kullanıcı Adı:</label>
                            <select onchange="GetUserReportsByUserId(this.value)" id="raporatamauserid" class="form-control input-sm ">
                                <option value="0" disabled selected hidden>Hepsi</option>
                                @*@foreach (var item in Model.UserList)
                                    {
                                        <option value="@(item.Id)"> @item.UserCode</option>
                                    }*@
                            </select>
                        </div>
                    </div>
                    <div class="container mt-3">
                        <div class="row mt-2">
                            <div class="col-md-5">
                                <label>Tüm Raporlar</label>
                                <select id="raporLeft" style="width: 100%;" class="form-control" multiple="">
                                </select>
                            </div>
                            <div class="col-sm-2 mt-5">
                                <div class="col-md-1">
                                    <button class="btn btn-dark btn-xs ml-5" onclick="raporToRight()">
                                        &gt;&gt;
                                    </button>
                                </div>
                                <div class="col-md-1">
                                    <button class="btn btn-dark btn-xs ml-5 mt-1" onclick="raporToLeft()">
                                        &lt;&lt;
                                    </button>
                                </div>
                            </div> <div class="col-md-5">
                                <label>Atanmış Raporlar</label>
                                <select id="raporRight" style="width: 100%;" class="form-control" multiple="">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="float-right mr-auto mt-5">
                        <button type="button" onclick="AssignReportToUser()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Araçlar Modal -->
    <div id="araclarmodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Araçlar</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body col-md-12">
                    <h4>Araç Listeleme Filtreleri</h4>
                    <br>
                    <div class="col-md-3   float-left">
                        <label>Araç Adı:</label>
                        <input id="carPlateNumberTSV" value="" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left">
                        <label>Kontak:</label>
                        <select id="deviceActivityTSV" class="form-control input-sm">
                            <option value="0">Hepsi</option>
                            <option value="1">Açık</option>
                            <option value="2">Kapalı</option>
                        </select>
                    </div>
                    <div class="col-md-3   float-left">
                        <label>Aktif:</label>
                        <select id="usingStatusIdTSV" class="form-control input-sm">
                            <option value="0">Hepsi</option>
                            <option value="1">Aktif</option>
                            <option value="2">Pasif</option>
                        </select>
                    </div>
                    <div class="float-right mr-auto">
                        <button type="button" id="searchDeviceBTN" class="btn btn-dark mt-3">
                            ARA
                        </button>
                    </div>
                </div>
                <div class="float-right ml-5 ">
                    <button type="button" id="ExportVehiclesCLICK" class="btn btn-dark mt-3"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 style="text-align:center;" class="card-title">Araç Listesi</h4>
                        <div id="companyVehiclesTableContainer" class="table-responsive " style="height: 400px; overflow-y: auto;">
                            <table id="companyVehiclesTable" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Firma Adı</th>
                                        <th>Araç Adı</th>
                                        <th>Cihaz GSM No</th>
                                        <th>Cihaz Id</th>
                                        <th>İkon Tipi</th>
                                        <th>Araç Tipi</th>
                                        <th>Kanuni Hız Tipi</th>
                                        <th>Montaj Türü</th>
                                        <th>Aktiflik Durumu</th>
                                        <th>Motor Bloke Durumu</th>
                                        <th>Aktiflik Zamanı</th>
                                        <th>Son KM Değeri</th>
                                        <th>Çalışma Süresi</th>
                                        <th>Konum Mailleri</th>
                                        <th>Pozisyon Süresi</th>
                                        <th>Pozisyon Mesafesi</th>
                                        <th>Hız Limiti</th>
                                        <th>Rolantı Süresi</th>
                                        <th>Montaj Tarihi</th>
                                        <th>Açıklama</th>
                                        <th></th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody id="deviceListTableTBodyTSV">
                                </tbody>
                            </table>
                            <div class="col-md-12 portlet-body" id="loadingContainer5" style="position:relative; display:none;">
                                <center>
                                    <img style="width: 75px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                                </center>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Araç Bilgileri Panel Modal -->
    <div id="aracbilgileripanelModals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Araç Bilgileri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body font-14">
                    <button type="button" class="btn btn-dark " id="restartLeftSide"> YENİLE </button>
                    <button type="button" class="btn btn-dark " onclick="location.href='@Url.Action("ExportVehicleInformation","Home")'"> EXCEL </button>
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Araç Listesi</h4>
                            <div class="table-responsive m-t-40" id="vehicleListScroll" style="overflow-y: scroll;height: 50vh;">
                                <table id="araclarListesiPanel" class="table table-bordered table-striped font-10">
                                    <thead>
                                        <tr>
                                            <th>Araç Adı</th>
                                            <th>Aktiflik</th>
                                            <th>Kontak Durumu</th>
                                            <th style="width:9%;">Konum Zamanı</th>
                                            <th>Hız</th>
                                            <th>Mesaj Gönder</th>
                                            <th>Konum</th>
                                            <th>Enlem</th>
                                            <th>Boylam</th>
                                            <th>Araç Görevlisi</th>
                                            <th>Email</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                                <div class="col-md-12 portlet-body" id="loadingContainerDIFFS" style="display:none; position:absolute;">
                                    <center>
                                        <img style="width: 60px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                                    </center>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Araç Güncelle Modal -->
    <div id="updatearacModals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Araçlar</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <input style="display:none;" id="updateDId" />
                    <div class="col-md-2   float-left mt-2">
                        <label>Araç Adı:</label>
                        <input id="carPlateNumberAG" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Pozisyon Süresi(dk):</label>
                        <input id="positionTimeAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Pozisyon Mesafesi(m):</label>
                        <input id="positionAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Hız Limiti(s/km):</label>
                        <input id="speedLimitAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Cihaz Id:</label>
                        <input id="deviceIdAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Cihaz GSM No:</label>
                        <input id="deviceGsmAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Kapı Sensörü:</label>
                        <input id="doorSensorAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Sıcaklık Sensörü:</label>
                        <input id="sensorAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Sefer Özelliği:</label>
                        <input id="seferAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Mesajlaşma:</label>
                        <input id="messagingAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Telemetri:</label>
                        <input id="telemetryAG" type="text" class="form-control input-sm" disabled />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Kullanım Durumu:</label>
                        <select id="usingStatusAG" class="form-control input-sm">
                            @foreach (var item in Model.UsingStatus)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Bekleme Süresi:</label>
                        <input id="waitingTimeAG" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Kanuni Hız Tipi:</label>
                        <select id="speedTypeAG" class="form-control input-sm">
                            <option value="0">Seçiniz...</option>
                            @foreach (var item in Model.Vehicle)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Açıklama:</label>
                        <input id="descriptionAG" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-2   float-left mt-2">
                        <label>Araç Tipi:</label>
                        <select id="vehicleTypeAG" class="form-control input-sm" onchange="vehicleTypeChange()">
                            <option value="0">Seçiniz...</option>
                            @foreach (var item in Model.Vehicle)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-2 float-left mt-5">
                        <img style="display: none;" id="typeCar" src="https://i.hizliresim.com/r0Gl53.png" alt="">
                        <img style="display: none;" id="typeMoto" src="https://cdn4.iconfinder.com/data/icons/motorcycle-13/64/adventure-touring-motorcycle-transportation-vehicle-biker-32.png" alt="">
                        <img style="display: none;" id="typeTaxi" src="https://i.hizliresim.com/5Nj5GL.png" alt="">
                        <img style="display: none;" id="typeMini" src="http://individual.icons-land.com/IconsPreview/Transport/PNG/Cars/32x32/Minibus_Green.png" alt="">
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="deviceInformationUpdate()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- AraçTipleri Modal -->
    <div id="aractipimodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Araç Tipleri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>

                <div class="float-right ml-5 mb-5">
                    <button type="button" data-toggle="modal" data-target="#newCarModal"
                            class="btn btn-dark mt-3">
                        YENİ
                    </button>
                    <button type="button" data-toggle="modal" data-target="#updateCarModal"
                            class="btn btn-dark mt-3">
                        GÜNCELLE
                    </button>
                    <button type="button" class="btn btn-dark mt-3 "> SİL </button>
                    <button type="button" class="btn btn-dark mt-3"> EXCEL </button>
                </div>
                <div class="modal-body">
                    <h4>Araç Tipi Listesi</h4>
                    <br>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Araç Listesi</h4>
                        <div class="table-responsive m-t-40">
                            <table id="aractipilistesi" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th>Araç Tipi Adı</th>
                                        <th>Araç Tipi Kodu</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                    </tr>
                                    <tr>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- YeniAraçTipiEkleme Modal -->
    <div id="newCarModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Araç Tipi Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>Şirket:</label>
                        <input id="sirketId" type="text" value="@Model.Company.CompanyDescription" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Araç Tipi Adı:</label>
                        <input id="atip" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>*Araç Tipi Kodu:</label>
                        <input id="acode" type="text" class="form-control input-sm" />
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- AraçTipiGüncelle Modal -->
    <div id="updateCarModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Araç Tipi Güncelle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>Şirket:</label>
                        <input id="sirket" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Araç Tipi Adı:</label>
                        <input id="atip" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Araç Tipi Kodu:</label>
                        <input id="acode" type="text" class="form-control input-sm" />
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- AraçProgramlama Modal -->
    <div id="aracprogmodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Araç Programlama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body col-md-12">
                    <h4>Araç Programlama</h4>
                    <br>
                    <div class="col-md-3   float-left">
                        <label>Grup Adı:</label>
                        <select id="groupIdAP" class="form-control input-sm" onchange="GetDeviceListAP()">
                            <option value="0">Hepsi</option>
                            @if (Model.Groups != null)
                            {
                                foreach (var item in Model.Groups)
                                {
                                    <option value="@item.Id">@item.Name</option>
                                }
                            }
                        </select>
                    </div>
                </div>
                <div class="float-right ml-5 mb-5">
                    @*<button type="button" class="btn btn-dark mt-3"> CANBUS PARAMETRELERİ GÖNDER </button>*@
                    <button type="button" class="btn btn-dark mt-3" onclick="ExportAP()"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Araç Listesi</h4>
                        <div class="table-responsive " style="height: 400px;overflow-y: auto;">
                            <table id="listAP" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Araç Adı</th>
                                        <th>Pozisyon Süresi</th>
                                        <th>Pozisyon Mesafesi</th>
                                        <th>Hız Limiti</th>
                                        <th>Rölanti Süresi</th>
                                        <th>Konum Programlanma Durumu</th>
                                        <th>Hız Programlanma Durumu</th>
                                        <th>Rölanti Programlanma Durumu</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Araç Alarm Modal -->
    <div id="aracalarmmodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Araç Alarm</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Araç Alarm</h4>
                    <br>
                    <div class="col-md-3   float-left">
                        <label>Araç Adı:</label>
                        <select id="alarmVehiclesId" class="form-control input-sm">
                            <option value="0">Seçiniz...</option>
                        </select>
                    </div>
                    <div class="col-md-3   float-left">
                        <label>Alarm Türü:</label>
                        <select id="alarmTypeId" class="form-control input-sm">
                            <option value="0">Seçiniz...</option>
                            <option value="1" title="Bölge Giriş">Bölge Giriş</option>
                            <option value="2" title="Bölge Çıkış">Bölge Çıkış</option>
                            <option value="3" title="Kontak Açıldı">Kontak Açıldı</option>
                            <option value="4" title="Kontak Kapandı">Kontak Kapandı</option>
                            <option value="5" title="Hız Aşımı">Hız Aşımı</option>
                        </select>
                    </div>

                    <div class="float-left mt-3">
                        <button type="button" onclick="ListeleAlarmToSearch()" class="btn btn-dark mt-3">
                            LİSTELE
                        </button>
                    </div>
                </div>
                <div class="float-right ml-5 mb-5">
                    <button type="button" class="btn btn-dark mt-3" data-toggle="modal"
                            data-target="#newaracalarmmodals" onclick="GetDevicesByCompanyForYAA(@Model.Company.Id)">
                        YENİ KAYIT
                    </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Alarm Listesi</h4>
                        <div class="table-responsive m-t-40">
                            <table id="aracAlarmList" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th>Araç Adı</th>
                                        <th>Alarm Türü</th>
                                        <th>Gün Seçimi</th>
                                        <th>Başlangıç Tarihi</th>
                                        <th>Bitiş Tarihi</th>
                                        <th>Email</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Yeni Araç Alarm Modal -->
    <div id="newaracalarmmodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Yeni Araç Alarm</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body col-md-12">
                    <div class="modal-body col-md-6 float-left">
                        <h4>Araçlar</h4>
                        <div class="col-md-6   float-left mt-4">
                            <label>Araç Grupları:</label>
                            <select id="vehicleGroupIdYAA" class="form-control input-sm" onchange="GetGroupDevicesYAA()">
                                <option value="0">Seçiniz...</option>
                                @if (Model.Groups != null)
                                {
                                    foreach (var item in Model.Groups)
                                    {
                                        <option value="@item.Id">@item.Name</option>
                                    }
                                }
                            </select>
                        </div>
                        <div class="col-md-6   float-left mt-4">
                            <label>Araçlar:</label>
                            <select id="vehicleIdYAA" style="width: 100%;height: 215px;" class=" form-control" multiple="">
                            </select>
                        </div>
                    </div>
                    <div class="modal-body col-md-6 float-left">
                        <h4>Alarm Türü</h4>
                        <div class="col-md-6   float-left mt-4">
                            <select id="alarmTypeIdYAA" class=" form-control mt-4">
                                <option value="0">Seçiniz...</option>
                                <option value="1" title="Bölge Giriş">Bölge Giriş</option>
                                <option value="2" title="Bölge Çıkış">Bölge Çıkış</option>
                                <option value="3" title="Kontak Açıldı">Kontak Açıldı</option>
                                <option value="4" title="Kontak Kapandı">Kontak Kapandı</option>
                                <option value="5" title="Hız Aşımı">Hız Aşımı</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-body col-md-6 float-left">
                        <h4>Gün Seçimi</h4>
                        <div class="col-md-6   float-left mt-4">
                            <select id="chooseDayYAA" style="width: 100%; height:100px;" class=" form-control" multiple="">
                                <option value="0">Seçiniz...</option>
                                <option value="1">Pazartesi</option>
                                <option value="2">Salı</option>
                                <option value="3">Çarşamba</option>
                                <option value="4">Perşembe</option>
                                <option value="5">Cuma</option>
                                <option value="6">Cumartesi</option>
                                <option value="7">Pazar</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-body col-md-6 float-left">
                        <h4>Alarm Bilgileri</h4>
                        <div class="col-md-6   float-left mt-4">
                            <label>Başlangıç Tarihi:</label>
                            <input style="font-size: 10px;" id="startDateYAA" type="date" class="form-control input-sm" value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))">
                        </div>
                        <div class="col-md-6   float-left mt-4">
                            <label>Bitiş Tarihi:</label>
                            <input style="font-size: 10px;" id="endDateYAA" type="date" class="form-control input-sm" value="@(DateTime.Now.ToString("yyyy-MM-dd"))">
                        </div>
                    </div>
                    <div class="modal-body col-md-6 float-left">
                        <h4>Gönderim Bilgileri</h4>
                        <div class="col-md-6   float-left mt-4">
                            <label>Email:</label>
                            <input id="emailYAA" type="email" class="form-control input-sm" value="@Model.User.Mail">
                        </div>
                        <div class="col-md-6   float-right mt-4">
                            <button type="button" onclick="saveAlarm()" class="btn btn-dark mt-3" style="float: right;"> KAYDET </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.modal-content -->
        <!-- /.modal-dialog -->
    </div>

    <!-- Araç Telemetri Modal -->
    <div id="aractelemetrimodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Telemetri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <h4>Telemetri Listeleme Filtreleri</h4>
                    <br>
                    <div class="col-md-3   float-left">
                        <label>Grup Adı:</label>
                        <select id="mainCompanyId" class="form-control input-sm">
                            <option value="0">Seçiniz...</option>
                        </select>
                    </div>
                    <div class="col-md-3   float-left">
                        <label>Araç Adı:</label>
                        <select id="mainCompanyId" class="form-control input-sm">
                            <option value="0">Seçiniz...</option>
                        </select>
                    </div>
                    <div class="float-left mt-3">
                        <button type="button" onclick="Listele()" class="btn btn-dark mt-3">
                            LİSTELE
                        </button>
                    </div>
                </div>
                <div class="float-right ml-5 mb-5">
                    <button type="button" class="btn btn-dark mt-3">GÜNCELLE </button>
                    <button type="button" class="btn btn-dark mt-3"> KOPYALA </button>
                    <button type="button" class="btn btn-dark mt-3 "> SİL </button>
                    <button type="button" class="btn btn-dark mt-3"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Telemetri Listesi</h4>
                        <div class="table-responsive m-t-40">
                            <table id="telemetriListesi" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th>Telemetri Tipi</th>
                                        <th>Aktiflik</th>
                                        <th>Kontrol Tipi</th>
                                        <th>Min Kontrol Değeri</th>
                                        <th>Max Kontrol Değeri</th>
                                        <th>Standart Olay Üretimi</th>
                                        <th>Acil Durum Olay Üretimi</th>
                                        <th>Ani Değişim Kontrol Süresi</th>
                                        <th>Tekrarlı Olay Kontrol Süresi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                        <td>Admin</td>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                    </tr>
                                    <tr>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                        <td>Admin</td>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                        <td>Tiger Nixon</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->s
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Görevliler Modal -->
    <div id="gorevliModal" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Görevliler</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                </div>
                <div class="float-right ml-5 mb-5">
                    <button type="button" class="btn btn-dark mt-3" data-toggle="modal"
                            onclick="ShowCompanyEmployeeModal()">
                        YENİ GÖREVLİ
                    </button>
                    <button type="button" class="btn btn-dark mt-3" onclick="location.href='/Home/ExportEmployeesInfo'"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive"></div>
                        <h4 class="card-title">Görevli Listesi</h4>
                        <div class="portlet-body table-responsive" style="height: 400px; overflow-y: auto; overflow-x: hidden;" id="companyEmployeeListContainer">

                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->s
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Yeni Görevli Ekle Modal -->
    <div id="yeniGorevliModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Görevli Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="form-control">
                        <input id="empId" value="0" style="display:none;" />
                        <input id="empCompanyId" value="@Model.Company.Id" style=" display:none;" />Şirket: <b>@Model.Company.CompanyDescription</b>
                    </div>
                    <div class="container mt-3">
                        <div class="row">
                            <div class="col-md-6">

                                <div class="col-md-6  mt-1">
                                    <label>*Görevli No:</label>
                                    <input id="empNo" type="text" class="form-control input-sm" style="width:250%" />
                                </div>
                                <div class="col-md-6 ">
                                    <label>*Görevli Adı:</label>
                                    <input id="empName" type="text" class="form-control input-sm" style="width:250%" />
                                </div>
                                <div class="col-md-6 ">
                                    <label>*Görevli Soyadı:</label>
                                    <input id="empSurname" type="text" class="form-control input-sm" style="width:250%" />
                                </div>
                                <div class="col-md-6 ">
                                    <label>Doğum Tarihi:</label>
                                    <input id="empBirthDate" value="" type="date" class="form-control input-sm" style="width:250%" />
                                </div>
                                <div class="col-md-6 ">
                                    <label>Ehliyet No:</label>
                                    <input id="empLicenceNo" type="text" class="form-control input-sm" style="width:250%" />
                                </div>

                            </div>
                            <div class="col-md-6">
                                <div class="col-md-6 ">
                                    <label>Ehliyet Sınıfı:</label>
                                    <select id="empLicenceClass" class="form-control input-sm" style="width:250%">
                                        <option value="0" selected>Seçiniz...</option>
                                        <option>A</option>
                                        <option>B</option>
                                        <option>C</option>
                                        <option>E</option>
                                    </select>
                                </div>
                                <div class="col-md-6  ">
                                    <label>Ehliyet Tarihi:</label>
                                    <input id="empLicenceDate" value="" type="date" class="form-control input-sm" style="width:250%" />
                                </div>
                                <div class="col-md-6 ">
                                    <label>Cep Telefonu:</label>
                                    <input id="empPhoneNumber" type="text" class="form-control input-sm" style="width:250%" />
                                </div>
                                <div class="col-md-6   ">
                                    <label>Ev Telefonu:</label>
                                    <input id="empHomePhoneNumber" type="text" class="form-control input-sm" style="width:250%" />
                                </div>
                                <div class="col-md-6  ">
                                    <label>Adres:</label>
                                    <input id="empAddress" type="text" class="form-control input-sm" style="width:250%" />
                                </div>
                                <div class="col-md-6 ">
                                    <label>Görev Tipi:</label>
                                    <select id="empOccupation" class="form-control input-sm" style="width:250%">
                                        <option value="0" selected>Seçiniz...</option>
                                        <option title="Yolcu">Yolcu</option>
                                        <option title="Talep Eden">Talep Eden</option>
                                        <option title="Güvenlik Görevlisi">Güvenlik Görevlisi</option>
                                        <option title="Hostes">Hostes</option>
                                        <option title="Şoför">Şoför</option>
                                        <option title="Yardımcı Şoför">Yardımcı Şoför</option>
                                        <option title="Müdür">Müdür</option>
                                        <option title="Uzman">Uzman</option>
                                        <option title="Uzman Yardımcısı">Uzman Yardımcısı</option>
                                        <option title="Yönetici Yardımcısı">Yönetici Yardımcısı</option>
                                        <option title="Yönetici">Yönetici</option>
                                    </select>
                                </div>
                                @*<div class="col-md-6  ">
                                        <input type="checkbox" class="check " id="golusturch">
                                        <label for="golusturch "> Kullanıcı Oluştur </label>
                                    </div>*@
                            </div>
                            @*<div class="col-md-6 ">
                                    <img id="gimage" class="xkm" style="width:120px; height:120px;" src="/Content/assets/images/gorevli.jpeg">
                                    <button type="button" onclick="" class="btn btn-dark mt-3">
                                        Resim Yükle
                                    </button>
                                </div>*@
                        </div>
                        <div>
                            <center><button type="button" onclick="SaveCompanyEmployee()" class="btn btn-dark mt-3"> KAYDET </button></center>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Görevli Güncelle Modal -->
    <div id="updategörevliModal" class="modal fade hide" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Görevli Güncelle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <img id="gimage" class="xkm" style="width:120px; height:120px;"
                             src="~/Content/assets/images/gorevli.jpeg">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3">
                            Resim Yükle
                        </button>
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Şirket:</label>
                        <input id="sirketgörevligunc" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Görevli No:</label>
                        <input id="gorevlinogunc" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>*Görevli Adı:</label>
                        <input id="gadigunc" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Görevli Soyadı:</label>
                        <input id="gsoyadigunc" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Doğum Tarihi:</label>
                        <input id="gdtarihgunc" type="date" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Ehlite No:</label>
                        <input id="gehliyetnogunc" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Ehliyet Sınıfı:</label>
                        <select id="gesinifigunc" class="form-control input-sm">
                            <option value="0">Seçiniz...</option>
                            <option value="a">A</option>
                            <option value="b">B</option>
                            <option value="c">C</option>
                            <option value="e">E</option>
                        </select>
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Ehliyet Tarihi:</label>
                        <input id="getarihgunc" type="date" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Cep Telefonu:</label>
                        <input id="gceptelgunc" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Ev Telefonu:</label>
                        <input id="gevtelgunc" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Adres:</label>
                        <input id="gadresgunc" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Görev Tipi:</label>
                        <select id="yetkilocationgunc" class="form-control input-sm">
                            <option value="00">Seçiniz...</option>
                            <option value="0" title="Yolcu">Yolcu</option>
                            <option value="1" title="Talep Eden">Talep Eden</option>
                            <option value="2" title="Güvenlik Görevlisi">Güvenlik Görevlisi</option>
                            <option value="3" title="Hostes">Hostes</option>
                            <option value="4" title="Şoför">Şoför</option>
                            <option value="5" title="Yardımcı Şoför">Yardımcı Şoför</option>
                            <option value="6" title="Müdür">Müdür</option>
                            <option value="7" title="Uzman">Uzman</option>
                            <option value="8" title="Uzman Yardımcısı">Uzman Yardımcısı</option>
                            <option value="9" title="Yönetici Yardımcısı">Yönetici Yardımcısı</option>
                            <option value="10" title="Yönetici">Yönetici</option>
                        </select>
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <div id="appendedCompanyEmployeeModal" class="modal fade bs-example-modal-lg hide" tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Görevli Atama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="float-right ml-5 mb-3">
                        <button type="button" class="btn btn-dark  " data-toggle="modal" onclick="ShowCompanyEmployeeMissionSaveModal();">Yeni</button>
                        <button class="btn btn-dark" type="button" onclick="location.href='@Url.Action("ExportCompanyEmployeeMission","Home")'">Excele Aktar</button>
                    </div>
                    <h4 class="modal-title" id="myLargeModalLabel">Görevli Listesi</h4>
                    <div class="portlet-body table-responsive"
                         style="height: 400px; overflow-y: auto; overflow-x: hidden;"
                         id="appendedCompanyEmployeeListContainer">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                    <th>Araç Adı</th>
                                    <th>Görevli No</th>
                                    <th>Görevli Adı</th>
                                    <th>Görevli Soyadı</th>
                                    <th>Görev Tipi</th>
                                    <th>Başlangıç Tarihi</th>
                                    <th>Bitiş Tarihi</th>
                                    <th>Açıklama</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect text-left"
                            data-dismiss="modal">
                        Kapat
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <div id="addMissionModal" class="modal fade " tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Yeni Görev Kaydı</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <h5>Görev Bilgileri</h5>
                        <div class="form horizontal row " style="background-color:#f9f9f9;">
                            <input type="text" id="companyEmployeeMissionId" value="0" style="display:none;" />
                            <div class="form-group row col-md-10 ">
                                <label class=" col-5  ">*Araç Adı</label>
                                <select class="form-control col-6" id="missionVehicleId"></select>
                            </div>
                            <div class="form-group row col-md-10 ">
                                <label class=" col-5  ">*Görevli Adı</label>
                                <select class="form-control col-6" id="missionEmployeeId"></select>
                            </div>
                            <div class="form-group row col-md-10 ">
                                <label class=" col-5  ">*Başlangıç Tarihi</label>
                                <input type="date" class="form-control col-6" id="missionStartDate" />
                            </div>
                            <div class="form-group row col-md-10 ">
                                <label class=" col-5  ">*Bitiş Tarihi</label>
                                <input type="date" class="form-control col-6" id="missionEndDate" />
                            </div>
                            <div class="form-group row col-md-10 ">
                                <label class=" col-5  ">*Açıklama</label>
                                <textarea class="form-control col-6" id="missionExplanation"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark waves-effect waves-light" onclick="SaveCompanyEmployeeMission();">Kaydet</button>
                    <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Görevli Atama Modal -->
    <div id="görevliatamamodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Görevli Atama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                </div>
                <div class="float-right ml-5 mb-5">
                    <button type="button" class="btn btn-dark mt-3" data-toggle="modal"
                            data-target="#updategörevliatamaModal">
                        GÜNCELLE
                    </button>
                    <button type="button" class="btn btn-dark mt-3" data-toggle="modal"
                            data-target="#newgörevliatamaModal">
                        YENİ
                    </button>
                    <button type="button" class="btn btn-dark mt-3 "> SİL </button>
                    <button type="button" class="btn btn-dark mt-3"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Görevli Listesi</h4>
                        <div class="table-responsive m-t-40">
                            <table id="görevliatamalistesi" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th>Araç Adı</th>
                                        <th>Görevli No</th>
                                        <th>Görevli Adı</th>
                                        <th>Görevli Soyadı</th>
                                        <th>Görev Tipi</th>
                                        <th>Başlangıç Tarihi</th>
                                        <th>Bitiş Tarihi</th>
                                        <th>Açıklama</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                        <td>Admin</td>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                    </tr>
                                    <tr>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                        <td>Admin</td>
                                        <td>Tiger Nixon</td>
                                        <td>Var</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->s
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Yeni GörevliAtama Ekle Modal -->
    <div id="newgörevliatamaModal" class="modal fade hide" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Görevli Atama Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>Araç Adı:</label>
                        <select id="gaaracadı" class="form-control input-sm">
                            <option value="0">Seçiniz...</option>
                            <option value="a">A</option>
                            <option value="b">B</option>
                            <option value="c">C</option>
                            <option value="e">E</option>
                        </select>
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Görevli Adı:</label>
                        <select id="gagörevliadi" class="form-control input-sm">
                            <option value="0">Seçiniz...</option>
                            <option value="a">A</option>
                            <option value="b">B</option>
                            <option value="c">C</option>
                            <option value="e">E</option>
                        </select>
                    </div>

                    <div class="col-md-6   float-left mt-4">
                        <label>Başlangıç Tarihi:</label>
                        <input style="font-size: 10px;" id="gabaştarih" type="date" class="form-control input-sm" value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Bitiş Tarihi:</label>
                        <input style="font-size: 10px;" id="gabittarih" type="date" class="form-control input-sm" value="@DateTime.Now.ToString("yyyy-MM-dd")" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Açıklama:</label>
                        <input id="gaciklama" type="text" class="form-control input-sm" />
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>

                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Şirket Mesai İşlemleri Modal -->
    <div id="companyShiftModal" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Şirket Mesai İşlemleri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body col-md-12">
                    <div id="companyShiftId" value="0" style="display:none;"></div>
                    <div class="col-md-3   float-left mt-4">
                        <label>* Başlangıç Tarihi:</label>
                        <input id="startDateCS" type="date" value="@(DateTime.Now.ToString("yyyy-MM-dd"))" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left mt-4">
                        <label>* Bitiş Tarihi:</label>
                        <input id="endDateCS" type="date" value="@(DateTime.Now.AddYears(1).ToString("yyyy-MM-dd"))" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left mt-4">
                        <label>* Başlangıç Saati:</label>
                        <input id="startHourCS" type="time" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left mt-4">
                        <label>* Bitiş Saati:</label>
                        <input id="endHourCS" type="time" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left mt-4">
                        <label>* Çizelge Adı:</label>
                        <input id="shiftNameCS" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-3   float-left mt-4">
                        <label>Veri İşleme:</label>
                        <select id="dataProcessCS" class="form-control input-sm">
                            <option value="1" selected disabled>Mesai dışı konumlar işlensin</option>
                            @*<option value="2">Mesai dışı konumlar işlenmesin</option>*@
                        </select>
                    </div>
                    <div class="col-md-6   float-left mt-5" id="daysOfShiftCS">
                        <input type="checkbox" class="check" id="shiftSendPZTCS">
                        <label for="shiftSendPZTCS">Pzt</label>
                        <input type="checkbox" class="check" id="shiftSendSALCS">
                        <label for="shiftSendSALCS">Salı</label>
                        <input type="checkbox" class="check" id="shiftSendCARCS">
                        <label for="shiftSendCARCS">Çrş</label>
                        <input type="checkbox" class="check" id="shiftSendPERCS">
                        <label for="shiftSendPERCS">Prş</label>
                        <input type="checkbox" class="check" id="shiftSendCUMCS">
                        <label for="shiftSendCUMCS">Cuma</label>
                        <input type="checkbox" class="check" id="shiftSendCMTCS">
                        <label for="shiftSendCMTCS">Cmt</label>
                        <input type="checkbox" class="check" id="shiftSendPZRCS">
                        <label for="shiftSendPZRCS">Pzr</label>
                    </div>

                </div>
                <div class="float-right ml-5 mb-5">
                    <button onclick="SaveCompanyShift()" type="button" class="btn btn-dark mt-3"> Kaydet </button>
                    <button type="button" class="btn btn-dark mt-3" onclick="location.href='@Url.Action("ExportCompanyShift","Home")'"> EXCEL </button>

                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Şirket Mesai İşlemleri Listesi</h4>
                        <div class="table-responsive m-t-40" id="companyShiftListContainer">

                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->s
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- İstisna Mesai İşlemleri Modal -->
    <div id="imislemlerimodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">İstisna Mesai İşlemleri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">

                    <div class="col-md-6   float-left mt-4">
                        <label>Başlangıç Tarihi:</label>
                        <input style="font-size: 10px;" id="imibaştarih" type="date" class="form-control input-sm" value="@(DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd"))" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Bitiş Tarihi:</label>
                        <input style="font-size: 10px;" id="imibittarih" type="date" class="form-control input-sm" value="@DateTime.Now.ToString("yyyy-MM-dd")" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Başlangıç Saati:</label>
                        <input id="imibaşsaat" type="time" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Bitiş Saati:</label>
                        <input id="imibitsaat" type="time" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Çizelge Adı:</label>
                        <input id="imicizelgeadi" type="text" class="form-control input-sm" />
                    </div>

                    <div class="col-md-6   float-left mt-4">
                        <br><br>
                        <input type="checkbox" class="check" id="pztch">
                        <label for="pztch">Pzt</label>
                        <input type="checkbox" class="check" id="salıch">
                        <label for="salıch">Salı</label>
                        <input type="checkbox" class="check" id="çrşch">
                        <label for="çrşch">Çrş</label>
                        <input type="checkbox" class="check" id="prşch">
                        <label for="prşch">Prş</label>
                        <input type="checkbox" class="check" id="cumach">
                        <label for="cumach">Cuma</label>
                        <input type="checkbox" class="check" id="cmtch">
                        <label for="cmtch">Cmt</label>
                        <input type="checkbox" class="check" id="pzrch">
                        <label for="pzrch">Pzr</label>
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Araç Adı:</label>
                        <select class="select2 m-b-10 select2-multiple" id="multi" style="width: 100%"
                                multiple="multiple" data-placeholder="Choose">
                            <option value="AL">Alabama</option>
                            <option value="AR">Arkansas</option>
                            <option value="IL">Illinois</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="OK">Oklahoma</option>
                            <option value="SD">South Dakota</option>
                            <option value="TX">Texas</option>
                            <option value="TN">Tennessee</option>
                            <option value="WI">Wisconsin</option>
                        </select>
                    </div>
                    <div class="col-md-6   float-right mt-4">
                        <br>
                        <button type="button" class="btn btn-dark mt-3 float-right "> KAYDET </button>
                    </div>

                </div>
                <div class="float-right ml-5 mb-5">
                    <button type="button" class="btn btn-dark mt-3 "> SİL </button>
                    <button type="button" class="btn btn-dark mt-3"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">İstisna Mesai İşlemleri Listesi</h4>
                        <div class="table-responsive m-t-40">
                            <table id="şmilistesi" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th>Çizelge Adı</th>
                                        <th>Araç Adı</th>
                                        <th>Durumu</th>
                                        <th>Başlangıç Tarihi</th>
                                        <th>Bitiş Tarihi</th>
                                        <th>Başlangıç Saati</th>
                                        <th>Bitiş Saati</th>
                                        <th>Pazartesi</th>
                                        <th>Salı</th>
                                        <th>Çarşamba</th>
                                        <th>Perşembe</th>
                                        <th>Cuma</th>
                                        <th>Cumartesi</th>
                                        <th>Pazar</th>
                                        <th>Tanım Zamanı</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                        <td>Admin</td>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Admin</td>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                    </tr>
                                    <tr>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                        <td>Admin</td>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Var</td>
                                        <td>Tiger Nixon</td>
                                        <td>System Architect</td>
                                        <td>Edinburgh</td>
                                        <td>Admin</td>
                                        <td>Var</td>
                                        <td>example@hotmail.com</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->s
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Nokta Grup İşlemleri Modal -->
    <div id="ngimodals" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Nokta Grup İşlemleri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#nghome"
                               role="tab" aria-selected="true">
                                <span class="hidden-sm-up">
                                    <i class="ti-home"></i>
                                </span> <span class="hidden-xs-down">
                                    Nokta
                                    Grupları
                                </span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#pointGroup"
                               role="tab" aria-selected="false">
                                <span class="hidden-sm-up">
                                    <i class="ti-user"></i>
                                </span>
                                <span class="hidden-xs-down">Nokta Grup İlişkisi</span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content tabcontent-border">
                        <div class="tab-pane active" id="nghome" role="tabpanel">
                            <div class="col-md-12 mt-2">
                                <div class="card">
                                    <button type="button" class="btn btn-dark mt-3 " data-toggle="modal"
                                            data-target="#newngModal">
                                        Yeni Kayıt
                                    </button>
                                    <button type="button" class="btn btn-dark mt-3 ">Kaydet</button>
                                    <button type="button" class="btn btn-dark mt-3 ">Sil</button>
                                    <button type="button" class="btn btn-dark mt-3">Excele Aktar</button>
                                    <div class="card-body">
                                        <div class="table-responsive m-t-40">
                                            <table id="ngilistesi" class="table table-bordered table-striped font-10">
                                                <thead>
                                                    <tr>
                                                        <th>Grup Adı</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Tiger Nixon</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Var</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="tab-pane p-20" id="pointGroup" role="tabpanel">
                            <div class="col-md-12">
                                <h4>Nokta Grup İlişkisi</h4>
                                <div class="form-group">
                                    <label>Grup adı</label>
                                    <select class="form-control">
                                        <option>Adliye Taksi</option>
                                        <option>Adliye Taksi</option>
                                        <option>Adliye Taksi</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-5">
                                            <select id="ngiLeft" style="width: 100%;" class="form-control"
                                                    multiple>
                                                <option value="1">34 FTR 5487</option>
                                                <option value="2">34 YRT 8751</option>
                                                <option value="3">34 RGT 5778</option>
                                            </select>
                                        </div>
                                        <div class="col-md-2 mt-5">
                                            <button class="btn btn-dark" onclick="ngiToRight()"> >> </button>
                                            <button class="btn btn-dark" onclick="ngiToLeft()">
                                                <<
                                            </button>
                                        </div> <div class="col-md-5">
                                            <select id="ngiRight" style="width: 100%;"
                                                    class="form-control" multiple>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-dark mt-5 float-right ">Kaydet</button>
                            </div>

                        </div>

                    </div>
                </div>
            </div>



        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
        </div>

        <!-- /.modal-content -->
        <!-- /.modal-dialog -->
    </div>
    <!-- Yeni NG Ekle Modal -->
    <div id="newngModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Yeni Grup Adı Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>Grup Adı:</label>
                        <input id="smesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Bölge Grup İşlemleri Modal -->
    <div id="bgimodals" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Bölge Grup İşlemleri</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#bghome"
                               role="tab" aria-selected="true">
                                <span class="hidden-sm-up">
                                    <i class="ti-home"></i>
                                </span> <span class="hidden-xs-down">
                                    Bölge
                                    Grupları
                                </span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#bpointGroup"
                               role="tab" aria-selected="false">
                                <span class="hidden-sm-up">
                                    <i class="ti-user"></i>
                                </span>
                                <span class="hidden-xs-down">Bölge Grup İlişkisi</span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content tabcontent-border">
                        <div class="tab-pane active" id="bghome" role="tabpanel">
                            <div class="col-md-12 mt-2">
                                <div class="card">
                                    <button type="button" class="btn btn-dark mt-3 " data-toggle="modal"
                                            data-target="#newbgModal">
                                        Yeni Kayıt
                                    </button>
                                    <button type="button" class="btn btn-dark mt-3 ">Kaydet</button>
                                    <button type="button" class="btn btn-dark mt-3 ">Sil</button>
                                    <button type="button" class="btn btn-dark mt-3">Excele Aktar</button>
                                    <div class="card-body">
                                        <div class="table-responsive m-t-40">
                                            <table id="ngilistesi" class="table table-bordered table-striped font-10">
                                                <thead>
                                                    <tr>
                                                        <th>Grup Adı</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Tiger Nixon</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Var</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="tab-pane p-20" id="bpointGroup" role="tabpanel">
                            <div class="col-md-12">
                                <h4>Nokta Grup İlişkisi</h4>
                                <div class="form-group">
                                    <label>Grup adı</label>
                                    <select class="form-control">
                                        <option>Adliye Taksi</option>
                                        <option>Adliye Taksi</option>
                                        <option>Adliye Taksi</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-5">
                                            <select id="bgiLeft" style="width: 100%;" class="form-control"
                                                    multiple>
                                                <option value="1">34 FTR 5487</option>
                                                <option value="2">34 YRT 8751</option>
                                                <option value="3">34 RGT 5778</option>
                                            </select>
                                        </div>
                                        <div class="col-md-2 mt-5">
                                            <button class="btn btn-dark" onclick="bgiToRight()"> >> </button>
                                            <button class="btn btn-dark" onclick="bgiToLeft()">
                                                <<
                                            </button>
                                        </div> <div class="col-md-5">
                                            <select id="bgiRight" style="width: 100%;"
                                                    class="form-control" multiple>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-dark mt-5 float-right ">Kaydet</button>
                            </div>

                        </div>

                    </div>
                </div>
            </div>



        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-dark waves-effect" data-dismiss="modal">Kapat</button>
        </div>

        <!-- /.modal-content -->
        <!-- /.modal-dialog -->
    </div>
    <!-- Yeni BG Ekle Modal -->
    <div id="newbgModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Yeni Grup Adı Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>Grup Adı:</label>
                        <input id="smesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Standart Mesajlar Modal -->
    <div id="smmodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Standart Mesajlar</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                </div>
                <div class="float-right ml-5 mb-5">
                    <button type="button" class="btn btn-dark mt-3" data-toggle="modal"
                            data-target="#newsmModal">
                        YENİ KAYIT
                    </button>
                    <button type="button" class="btn btn-dark mt-3 "> SİL </button>
                    <button type="button" class="btn btn-dark mt-3"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Standart Mesajlar Listesi</h4>
                        <div class="table-responsive m-t-40">
                            <table id="görevlilerlistesi" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th>Standart Metin</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Tiger Nixon</td>
                                    </tr>
                                    <tr>
                                        <td>Var</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->s
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Yeni Standart Mesaj Ekle Modal -->
    <div id="newsmModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Yeni Standart Mesaj Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>Standart Mesaj:</label>
                        <input id="smesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Sms Tanımları Modal -->
    <div id="stmodals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Sms Tanımları</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                </div>
                <div class="float-right ml-5 mb-5">
                    <button type="button" class="btn btn-dark mt-3" data-toggle="modal"
                            data-target="#newstModal">
                        YENİ KAYIT
                    </button>
                    <button type="button" class="btn btn-dark mt-3" data-toggle="modal"
                            data-target="#updatestModal">
                        GÜNCELLE
                    </button>
                    <button type="button" class="btn btn-dark mt-3 "> SİL </button>
                    <button type="button" class="btn btn-dark mt-3"> EXCEL </button>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Sms Tanımları Listesi</h4>
                        <div class="table-responsive m-t-40">
                            <table id="görevlilerlistesi" class="table table-bordered table-striped font-10">
                                <thead>
                                    <tr>
                                        <th>GSM No</th>
                                        <th>Adı</th>
                                        <th>Soyadı</th>
                                        <th>Departman</th>
                                        <th>Görevi</th>
                                        <th>Konum Sorgulama</th>
                                        <th>Aktiflik Durumu</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                    </tr>
                                    <tr>
                                        <td>Var</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                        <td>Tiger Nixon</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->s
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Yeni Sms Tanımları Ekle Modal -->
    <div id="newstModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Yeni Sms Tanımları </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>GSM No:</label>
                        <input id="smesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Adı:</label>
                        <input id="smesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Soyadı:</label>
                        <input id="smesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Departman:</label>
                        <input id="smesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Görevi:</label>
                        <input id="smesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <input type="checkbox" class="check" id="konumsorgulamach">
                        <label for="konumsorgulamach">Konum sorgulama</label>
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!--  Sms Tanımları Güncelle Modal -->
    <div id="updatestModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Sms Tanımları Güncelle </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6   float-left mt-4">
                        <label>GSM No:</label>
                        <input id="upsmesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Adı:</label>
                        <input id="upsmesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Soyadı:</label>
                        <input id="upsmesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Departman:</label>
                        <input id="upsmesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <label>Görevi:</label>
                        <input id="upsmesaj" type="text" class="form-control input-sm" />
                    </div>
                    <div class="col-md-6   float-left mt-4">
                        <input type="checkbox" class="check" id="upkonumsorgulamach">
                        <label for="upkonumsorgulamach">Konum sorgulama</label>
                    </div>
                    <div class="float-right mr-auto mt-4">
                        <button type="button" onclick="Kaydet()" class="btn btn-dark mt-3"> KAYDET </button>
                    </div>


                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    <!-- Filtre Panel Modal -->
    <div id="filtrepanelModals" class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog"
         aria-labelledby="myLargeModalLabel" style="display: none; padding-right: 19px;" aria-modal="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Filtre</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body font-14">
                    <h4>Filtre</h4>
                    <br>
                    <div class="col-md-6   float-left">
                        <label>Grup Adı:</label>
                        <select id="groupIdTLPLT" class="form-control input-sm font-14">
                            <option value="0">Hepsi</option>
                            @if (Model.Groups != null)
                            {
                                foreach (var item in Model.Groups)
                                {
                                    <option value="@item.Id">@item.Name</option>
                                }
                            }
                        </select>
                        <button type="button" onclick="DisplayOnMapWithSelected()" class="btn btn-dark mt-2" style="width:100%;">
                            Seçilenleri Haritada Göster
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive portlet-body" id="tableContainerTLPLT" style="height: 400px; overflow-y: auto; overflow-x: hidden;">
                            <h4 style="text-align:center;" class="card-title">Araç Listesi</h4>
                            <center style="margin-top:15px;">
                                <table style="width:95%" id="araclarlistesi" class="table table-bordered table-striped font-10">
                                    <thead>
                                        <tr>
                                            <th scope="col" style="font-size:14px;"></th>
                                            <th scope="col" style="font-size:14px;">Araç Adı</th>
                                            <th scope="col" style="font-size:14px;">Hız</th>
                                            <th scope="col" style="font-size:14px;">Son Konum Zamanı</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </center>
                            <div class="col-md-12 portlet-body" id="loadingContainerTLPLT" style="display:none; position:absolute;">
                                <center>
                                    <img style="width: 50px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                                </center>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>




    <!--Modals End-->
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
        </svg>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <header class="topbar is_stuck" style="background-color: rgb(37, 77, 88);position: fixed;top: 0px;width: 100%;">
            <nav class="navbar top-navbar navbar-expand-md navbar-light" style="max-width: unset;">
                <!-- ============================================================== -->
                <!-- Logo -->
                <!-- ============================================================== -->
                <div class="navbar-header" style="background-color: rgb(37, 77, 88)">
                    <a class="navbar-brand" href="#">
                        <img src="~/Content/assets/images/vera-logo.png" style="width:200px;opacity: 1 !important;" class="light-logo"
                             alt="homepage" />
                    </a>
                </div>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <div class="navbar-collapse" style="position: absolute; right: 0;">
                    <!-- ============================================================== -->
                    <!-- toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav mr-auto mt-md-0">
                        <!-- This is  -->
                        <li class="nav-item">
                            <a class="nav-link nav-toggler hidden-md-up text-muted waves-effect waves-dark"
                               href="javascript:void(0)"><i class="mdi mdi-menu"></i></a>
                        </li>
                        <!-- ============================================================== -->
                        <!-- Profile -->
                        <!-- ============================================================== -->
                        <li style="float:right" id="mobilHeader">
                            <a href="javascript:;" onclick="$('#dashboard').toggle(); ">
                                <i class="fa fa-info-circle mt-4" title="Araç Bilgileri" style="color:white">
                                    <label style="color: white;margin-left:3px;">Araç Paneli</label>
                                </i>
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-muted waves-effect waves-dark" href="#"
                               data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <img src="~/Content/assets/images/users/user.png" alt="user" class="profile-pic" style="width:40px;height:30px;" />
                            </a>
                            <div class="dropdown-menu dropdown-menu-right scale-up">
                                <ul class="dropdown-user">
                                    <li>
                                        <div>
                                            <div class="u-text">
                                                <center><h4>@Model.User.UserCode</h4></center>
                                            </div>
                                        </div>
                                    </li>
                                    <li role="separator" class="divider"></li>
                                    <li><a href="@Url.Action("Logout", "Login" )"><i class="fa fa-power-off"></i> Çıkış Yap</a></li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <aside class="left-sidebar" style="background-color:#f2f4f8d9;" id="leftSidebar">
            <div id="mobileMenu" class="col-md-6 offset-md-3">
                <!-- Sidebar scroll-->
                <div class="scroll-sidebar">
                    <!-- Sidebar navigation-->
                    <nav class="sidebar-nav">
                        <ul id="sidebarnav">
                            <li>

                                <a class="has-arrow waves-effect waves-dark" href="#" aria-expanded="false">
                                    <i style="color: #2b3643;" class="mdi mdi-gauge"></i><span style="color: #2b3643;font-weight: bold;font-size:16px;" class="hide-menu">
                                        Kullanıcı
                                        İşlemleri
                                    </span>
                                </a>
                                <ul aria-expanded="false" class="collapse" style="background-color: #ffffffc9">
                                    @if (companyUser.IsCompanyAdmin)
                                    {
                                        <li>
                                            <a href="#groupsModal" data-toggle="modal" role="button" onclick="GroupDevicesToLeft()">Gruplarım </a>
                                        </li>
                                    }
                                    <li>
                                        <a href="#automaticReporting" data-toggle="modal" role="button" onclick="GetAuthomaticReportList()">
                                            Otomatik
                                            Raporlama
                                        </a>
                                    </li>
                                    <li>
                                        <a onclick="FillUserInformationFields()" href="javascript;" data-toggle="modal" role="button">
                                            Kullanıcı
                                            Bilgileri
                                        </a>
                                    </li>
                                    @*<li>
                                            <a href="#followedEvents" data-toggle="modal" role="button">
                                                Takip Edilen
                                                Olaylar
                                            </a>
                                        </li>*@
                                    @*<li>
                                            <a href="#alarmNotificationUpdate" data-toggle="modal"
                                               role="button">
                                                Alarm
                                                Bildirim Güncelleme
                                            </a>
                                        </li>*@
                                    @*<li>
                                            <a href="index4.html" data-toggle="modal" role="button">
                                                Telemetri
                                                Ayarları
                                                Güncelleme
                                            </a>
                                        </li>*@
                                    <li>
                                        <a href="#passwordUpdate" data-toggle="modal" role="button">
                                            Şifre
                                            Yenileme
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript;" onclick="ShowUserQuestionAndAnswer()" data-toggle="modal"
                                           role="button">
                                            Şifre
                                            Hatırlatma
                                            Sorusu
                                        </a>
                                    </li>
                                    @*<li>
                                            <a href="index4.html" data-toggle="modal" role="button">
                                                Grafik
                                                Paneli
                                            </a>
                                        </li>*@
                                    @*<li>
                                            <a href="index4.html" data-toggle="modal" role="button">Araç Paneli</a>
                                        </li>*@
                                </ul>
                            </li>
                            <li>
                                <a class="has-arrow waves-effect waves-dark" href="#" aria-expanded="false">
                                    <i style="color: #2b3643;" class="mdi mdi-bullseye"></i><span style="color: #2b3643;font-weight: bold;font-size:16px;" class="hide-menu">İşlemler</span>
                                </a>
                                <ul aria-expanded="false" class="collapse" style="background-color: #ffffffc9">
                                    <li><a id="OlaylarModalsCLICK" data-toggle="modal" role="button" href="#events">Olaylar</a></li>
                                    <li><a id="seferOzetiListCLICK" data-toggle="modal" role="button" href="#journeys">Seferler</a></li>
                                    <li>
                                        <a id="pastLocationInfoCLICK" data-toggle="modal" role="button" href="#pastLocationInfo">
                                            Geçmiş Konumlar
                                        </a>
                                    </li>
                                    @*<li>
                                            <a data-toggle="modal" role="button" href="#messages">Mesajlar</a>
                                        </li>*@
                                    @*<li>
                                            <a data-toggle="modal" role="button"
                                               href="app-contact2.html">Telemetri</a>
                                        </li>*@
                                    @*<li><a data-toggle="modal" role="button" href="#points">Noktalar</a></li>*@
                                    @if (companyUser.IsCompanyAdmin)
                                    {
                                        <li><a data-toggle="modal" role="button" href="#states" onclick="GetAreaListOfCompany()">Bölgeler</a></li>
                                    }
                                    <li><a data-toggle="modal" role="button" href="#routes" onclick="GetRouteListOfCompany()">Rotalar</a></li>
                                    @*<li>
                                            <a data-toggle="modal" role="button" href="#workOrder">İşemirleri</a>
                                        </li>
                                        <li>
                                            <a data-toggle="modal" role="button" href="#layoutWorkOrder">
                                                Taslak
                                                İşemirleri
                                            </a>
                                        </li>*@
                                </ul>
                            </li>
                            <li>
                                <a class="has-arrow waves-effect waves-dark" href="#" aria-expanded="false">
                                    <i style="color: #2b3643;" class="mdi mdi-chart-bubble"></i><span style="color: #2b3643;font-weight: bold;font-size:16px;" class="hide-menu">Raporlar</span>
                                </a>
                                <ul aria-expanded="false" class="collapse" style="background-color: #ffffffc9">
                                    <li>
                                        <a id="genelRaporlarCLICK" data-toggle="modal" role="button" href="#reports">Genel Raporlar</a>
                                    </li>
                                    @*<li><a data-toggle="modal" role="button" href="#analyse">Analiz</a></li>
                                        <li>
                                            <a data-toggle="modal" role="button" href="#driverScoring">
                                                Araç
                                                Skorlama
                                            </a>
                                        </li>
                                        <li>
                                            <a data-toggle="modal" role="button" href="#shiftAnalyse">
                                                Mesai
                                                Analizi
                                            </a>
                                        </li>*@
                                </ul>
                            </li>
                            @if (companyUser.IsCompanyAdmin)
                            {
                                <li>
                                    <a class="has-arrow waves-effect waves-dark" href="#" aria-expanded="false">
                                        <i style="color: #2b3643;" class="mdi mdi-book-open-variant"></i><span style="color: #2b3643;font-weight: bold;font-size:16px;" class="hide-menu">Yönetim</span>
                                    </a>
                                    <ul aria-expanded="false" class="collapse" style="background-color: #ffffffc9">
                                        <li>
                                            <a href="#" class="has-arrow">Kullanıcı Bilgileri</a>
                                            <ul aria-expanded="false" class="collapse">
                                                <li>
                                                    <a href="javascript:" onclick="GetUserList()"
                                                       role="button">Kullanıcılar</a>
                                                </li>
                                                <li>
                                                    <a href="#setcartouserModal" data-toggle="modal"
                                                       role="button" onclick="GetDevicesByCompany(@Model.Company.Id)">Kullanıcıya Araç Atama</a>
                                                </li>
                                                <li>
                                                    <a href="#setraportouserModal" data-toggle="modal"
                                                       role="button" onclick="GetAllReports(@Model.Company.Id)">Kullanıcıya Rapor Atama</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <a href="#" class="has-arrow">Araç Bilgileri</a>
                                            <ul aria-expanded="false" class="collapse">
                                                <li>
                                                    <a href="#araclarmodals" data-toggle="modal"
                                                       role="button" id="araclarModalId">Araçlar</a>
                                                </li>
                                                @*<li>
                                                        <a href="#aractipimodals" data-toggle="modal" role="button">
                                                            Araç
                                                            Tipleri
                                                        </a>
                                                    </li>*@
                                                <li>
                                                    <a href="#aracprogmodals" data-toggle="modal" role="button" id="AracProgModalCLICK">
                                                        Araç
                                                        Programlama
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#aracalarmmodals" data-toggle="modal"
                                                       role="button" onclick="GetDevicesByCompanyForAlarms(@Model.Company.Id)">Alarm</a>
                                                </li>
                                                @*<li>
                                                        <a href="#aractelemetrimodals" data-toggle="modal"
                                                           role="button">Telemetri</a>
                                                    </li>*@
                                            </ul>
                                        </li>
                                        <li>
                                            <a href="#" class="has-arrow">Görevli Bilgileri</a>
                                            <ul aria-expanded="false" class="collapse">
                                                <li>
                                                    <a id="gorevlilerAction" href="#gorevliModal" data-toggle="modal"
                                                       role="button">Görevliler</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:;" id="companyEmployeeMissionAction" data-toggle="modal"
                                                       role="button">
                                                        Görevli
                                                        Atama
                                                    </a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <a href="#" class="has-arrow">Mesai İşlemleri</a>
                                            <ul aria-expanded="false" class="collapse">
                                                <li>
                                                    <a href="javascript;" onclick="GetCompanyShiftList()" data-toggle="modal"
                                                       role="button">
                                                        Şirket
                                                        Mesai İşlemleri
                                                    </a>
                                                </li>
                                                @*<li>
                                                        <a href="#imislemlerimodals" data-toggle="modal"
                                                           role="button">
                                                            İstisna
                                                            Mesai İşlemleri
                                                        </a>
                                                    </li>*@
                                            </ul>
                                        </li>
                                        @*<li>
                                                <a data-toggle="modal" role="button" href="#channels" onclick="GetAllChannelsOfCompany()">Kanallar</a>
                                            </li>*@
                                        @*<li>
                                                <a href="#" class="has-arrow">Grup İşlemleri</a>
                                                <ul aria-expanded="false" class="collapse">
                                                    <li>
                                                        <a href="#ngimodals" data-toggle="modal" role="button">
                                                            Nokta
                                                            Grup
                                                            İşlemleri
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a href="#bgimodals" data-toggle="modal" role="button">
                                                            Bölge
                                                            Grup
                                                            İşlemleri
                                                        </a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                <a href="#" class="has-arrow">Diğer</a>
                                                <ul aria-expanded="false" class="collapse">
                                                    <li>
                                                            <a href="#smmodals" data-toggle="modal" role="button">
                                                                Standart
                                                                Mesajlar
                                                            </a>
                                                        </li>
                                                    <li>
                                                        <a href="#stmodals" data-toggle="modal" role="button">
                                                            Sms
                                                            Tanımları
                                                        </a>
                                                    </li>
                                                </ul>
                                            </li>*@
                                    </ul>
                                </li>
                            }
                            <li class="nav-small-cap">FORMS, TABLE &amp; WIDGETS</li>
                        </ul>
                    </nav>
                </div>
                <div style="clear: both;"></div>
            </div>
            @*<div class="col-md-12">
                    <div class="row">
                          <input style="z-index:9999999923123123123123;"  id="searchCarPlateNumberToFilter" type="text" class="form-control font-10"
                          placeholder="Ara" required="" aria-invalid="false">
                    </div>
                </div>*@
        </aside>
        <div>
            <button class="right-side-toggle waves-effect waves-light btn-inverse btn btn-circle btn-sm pull-right m-l-10" style="left: 50px; top:500px" onclick="Toggle()" id="car">
                <i class="fa fa-car" aria-hidden="true" style="animation-name: none"></i>
            </button>
        </div>
        <div id="rightMenuContainer" class="right-sidebar shw-rside col-md-3" style="background-color:#ffffffd9; height:100%; left: 0px ;padding:0px ;margin-top:115px; width: 0px !important;">
            <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 100%;">
                <div id="leftSideVehiclesScrollDiv" class="slimscrollleft" style="overflow: hidden; width: auto; height: 100%;">
                    <div class="r-panel-body">
                        <div style="width: calc(100% + 40px); margin: -20px;">
                            <div onclick="tabbing(this)" data-tab-target="tabTarget1"
                                 class="actionIcon tab_btn tab_btn_active">
                                Araçlar
                            </div>
                            <div onclick="tabbing(this)" data-tab-target="tabTarget2" class="actionIcon tab_btn">
                                Filtrele
                            </div>

                            <div id="tabTarget1" style="background-color: rgb(57, 118, 136);color:white !important; height: 100vh; padding: 10px; font-size: 14px; overflow-y: auto;"
                                 class="customTabContent">
                                <div class="col-md-12 list-group">
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item " style="background-color:#ffffff00;">
                                            <div class="form-group">
                                                <div class="controls">
                                                    <div class="input-group col-md-12 float-left ml-4">
                                                        <div class="row">
                                                            <input style="font-size:14px;z-index:9999999923123123123123;" id="searchCarPlateNumberToFilter" type="text" class="form-control col-7 " placeholder="Ara" required="" onkeyup="readData()">
                                                            <button type="button" id="solPanelTemizle" onclick="EmptyLeftSide()" class="col-4 btn ml-1" style="font-size:14px;background-color:rgb(37, 77, 88);color:white;">
                                                                Temizle
                                                            </button>
                                                            <select id="chooseDisplayVehicle" style="margin-top:5px;font-size:12px;" class="form-control col-7 ">
                                                                <option value="1" selected>Araç Adı Gösterilsin</option>
                                                                <option value="2">Araç Adı Gösterilmesin</option>
                                                            </select>
                                                            <button onclick="GetLastLocationTimeOfDevicesWithGroup()" title="Araçların Son Konumu" type="button" data-toggle="modal" data-target="#filtrepanelModals" class="btn glyphicon glyphicon-search float-right ml-1 mt-1 col-2" style="font-size:12px;background-color:rgb(37, 77, 88);color:white;">
                                                                <i class="fa fa-car" aria-hidden="true"></i>
                                                            </button>
                                                            <button type="button" onclick="GetDevicesInformation


                                                                    )" title="Araç Bilgileri" data-toggle="modal" data-target="#aracbilgileripanelModals" class="btn glyphicon glyphicon-search float-right mt-1 col-2" style="margin-left:2px; font-size:12px;background-color:rgb(37, 77, 88);color:white;">
                                                                <i class="fa fa-file" aria-hidden="true"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="help-block"></div>
                                                </div>
                                            </div>
                                        </li>


                                    </ul>


                                    <div id="rightClickMenuContainer"
                                         onclick="$(this).fadeOut(10);"
                                         style="position: fixed; top: 0px; left: 0px; z-index: 2147483647; background-color: transparent; width: 100%; height: 100%; display: none;">
                                        <div id="rightClickMenu" style="box-shadow: grey 5px 5px; position: absolute; top: 0px; left: 0px; background-color: rgb(240, 248, 255); width: 130px; margin-top: 230px; margin-left: 30px; display: block;">
                                            <div class="dropdown">
                                                <ul id="customDropDown" class="dropdown-menu" style="display: block;background-color: #ffffffcf;">
                                                    <li><a tabindex="-1" href="javascript:;" onclick="DisplayVehicleOnMap()" style="font-size: 12px;font-weight: bolder;color: black;">Haritada Göster</a></li>
                                                    <li><a tabindex="-1" href="javascript:;" onclick="DisplayVehicleOnAnotherMap()" style="font-size: 12px;font-weight: bolder;color: black;" id="displayVehicleOnAnotherMapCLICK">Ayrı Haritada İzle</a></li>
                                                    @*<li><a tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Motor Blokajını Kaldır</a></li>*@
                                                    <li class="dropdown-submenu" onmouseover="$('#raporlarDrop').show()" onmouseout="$('#raporlarDrop').hide()">
                                                        <a class="test" tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Raporlar <span class="caret"></span></a>
                                                        <ul class="dropdown-menu" id="raporlarDrop" style="background-color: #ffffffcf;">
                                                            <li class="dropdown-submenu" onmouseover="$('#konumlarDrop').show()" onmouseout="$('#konumlarDrop').hide()">
                                                                <a class="test" style="font-size: 12px;font-weight: bolder;color: black;" href="#">
                                                                    Konumlar<span class="caret"></span>
                                                                </a>
                                                                <ul class="dropdown-menu" id="konumlarDrop" style="background-color: #ffffffcf;">
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showGecmisKonumRaporu(1)">Son 1 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showGecmisKonumRaporu(6)">Son 6 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showGecmisKonumRaporu(24)">Son 24 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showGecmisKonumRaporu(168)">Son 1 hafta</a></li>
                                                                </ul>
                                                            </li>
                                                            <li class="dropdown-submenu" onmouseover="$('#olaylarDrop').show()" onmouseout="$('#olaylarDrop').hide()">
                                                                <a class="test" style="font-size: 12px;font-weight: bolder;color: black;" href="#">
                                                                    Olaylar<span class="caret"></span>
                                                                </a>
                                                                <ul class="dropdown-menu" id="olaylarDrop" style="background-color: #ffffffcf;">
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showSeferOlayRaporu(1)">Son 1 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showSeferOlayRaporu(6)">Son 6 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showSeferOlayRaporu(24)">Son 24 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showSeferOlayRaporu(168)">Son 1 hafta</a></li>
                                                                </ul>
                                                            </li>
                                                            <li class="dropdown-submenu" onmouseover="$('#seferlerDrop').show()" onmouseout="$('#seferlerDrop').hide()">
                                                                <a class="test" style="font-size: 12px;font-weight: bolder;color: black;" href="#">
                                                                    Seferler<span class="caret"></span>
                                                                </a>
                                                                <ul class="dropdown-menu" id="seferlerDrop" style="background-color: #ffffffcf;">
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showSeferOzetiRaporu(1)">Son 1 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showSeferOzetiRaporu(6)">Son 6 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showSeferOzetiRaporu(24)">Son 24 saat</a></li>
                                                                    <li><a href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="showSeferOzetiRaporu(168)">Son 1 hafta</a></li>
                                                                </ul>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    @if (companyUser.IsCompanyAdmin)
                                                    {
                                                        <li class="dropdown-submenu" onmouseover="$('#NBRDrop').show()" onmouseout="$('#NBRDrop').hide()">
                                                            <a class="test" tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Bölge/Rota<span class="caret"></span></a>
                                                            <ul class="dropdown-menu" id="NBRDrop" style="background-color: #ffffffcf;">
                                                                @*<li><a href="#" tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" data-toggle="modal" data-target="#aracnoktailiskiModal">İlişkili Noktalar</a></li>*@
                                                                <li><a href="#" id="aracbölgeiliskiId" style="font-size: 12px;font-weight: bolder;color: black;" tabindex="-1" data-toggle="modal" data-target="#aracbölgeiliskiModal">İlişkili Bölgeler</a></li>
                                                                <li><a href="#" id="aracrotailiskiId" tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" data-toggle="modal" data-target="#aracrotailiskiModal">İlişkili Rotalar</a></li>
                                                            </ul>
                                                        </li>
                                                    }
                                                    <li class="dropdown-submenu" onmouseover="$('#gKDrop').show()" onmouseout="$('#gKDrop').hide()">
                                                        <a class="test" style="font-size: 12px;font-weight: bolder;color: black;" tabindex="-1" href="#">Geçmiş Konum<span class="caret"></span></a>
                                                        <ul class="dropdown-menu" id="gKDrop" style="background-color: #ffffffcf;">
                                                            <li><a tabindex="-1" href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="DisplayPastLocationOfDevicesOnMap(1)">Son 1 saat</a></li>
                                                            <li><a tabindex="-1" href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="DisplayPastLocationOfDevicesOnMap(2)">Son 6 saat</a></li>
                                                            <li><a tabindex="-1" href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="DisplayPastLocationOfDevicesOnMap(3)">Son 24 saat</a></li>
                                                            <li><a tabindex="-1" href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="DisplayPastLocationOfDevicesOnMap(4)">Son 1 hafta</a></li>
                                                        </ul>
                                                    </li>
                                                    <li class="dropdown-submenu" onmouseover="$('#pDrop').show()" onmouseout="$('#pDrop').hide()">
                                                        <a class="test" style="font-size: 12px;font-weight: bolder;color: black;" tabindex="-1" href="#">Performans<span class="caret"></a>
                                                        <ul class="dropdown-menu" id="pDrop" style="background-color: #ffffffcf;">
                                                            <li><a tabindex="-1" href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="ShowPerformance(1)">Günlük</a></li>
                                                            <li><a tabindex="-1" href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="ShowPerformance(2)">Son 1 hafta</a></li>
                                                            <li><a tabindex="-1" href="javascript:;" style="font-size: 12px;font-weight: bolder;color: black;" onclick="ShowPerformance(3)">Son 1 ay</a></li>
                                                        </ul>
                                                    </li>
                                                    @*<li class="dropdown-submenu" onmouseover="$('#seferler2Drop').show()" onmouseout="$('#seferler2Drop').hide()">
                                                            <a class="test" tabindex="-1" href="#">Seferler<span class="caret"></span></a>
                                                            <ul class="dropdown-menu" id="seferler2Drop">
                                                                <li><a tabindex="-1" href="#">Son 1 saat</a></li>
                                                                <li><a tabindex="-1" href="#">Son 6 saat</a></li>
                                                                <li><a tabindex="-1" href="#">Son 24 saat</a></li>
                                                                <li><a tabindex="-1" href="#">Son 1 hafta</a></li>
                                                            </ul>
                                                        </li>*@
                                                    @*<li class="dropdown-submenu" onmouseover="$('#aSDrop').show()" onmouseout="$('#aSDrop').hide()">
                                                            <a class="test" tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Araç Skoru<span class="caret"></span></a>
                                                            <ul class="dropdown-menu" id="aSDrop">
                                                                <li><a tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Son 24 saat</a></li>
                                                                <li><a tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Son 1 hafta</a></li>
                                                                <li><a tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Son 1 ay</a></li>
                                                            </ul>
                                                        </li>
                                                        <li class="dropdown-submenu" onmouseover="$('#mADrop').show()" onmouseout="$('#mADrop').hide()">
                                                            <a class="test" tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Mesai Analizi<span class="caret"></span></a>
                                                            <ul class="dropdown-menu" id="mADrop">
                                                                <li><a tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Son 24 saat</a></li>
                                                                <li><a tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Son 1 hafta</a></li>
                                                                <li><a tabindex="-1" style="font-size: 12px;font-weight: bolder;color: black;" href="#">Son 1 ay</a></li>
                                                            </ul>
                                                        </li>*@
                                                </ul>
                                            </div>
                                        </div>
                                    </div>



                                    <ul style="margin-bottom: 150px;">
                                        <li class="list-group " id="deviceListLeftSide" style="width:110%;">

                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div style="color: #2b3643;display: none; padding: 5px;font-size: 14px;" id="tabTarget2"
                                 class="customTabContent">
                                <div style="margin-top:75px;">
                                    <div class="col-md-6" style="float:left">
                                        <label style="text-align:center;color: #2b3643;">Grup Adı:</label>
                                        <select id="groupIdToSearchDevice" class="form-control input-sm " style="font-size:12px;width:100%;">
                                            <option value="0">Hepsi</option>
                                            @if (Model.Groups != null)
                                            {
                                                foreach (var item in Model.Groups)
                                                {
                                                    <option value="@item.Id">@item.Name</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div class="col-md-6" style="float:left">
                                        <label style="text-align:center; color: #2b3643;">Araç Durumu:</label>
                                        <select id="vehicleFiltering" style="font-size:12px;width:100%;"
                                                class="form-control ">
                                            <option value="0">Hepsi</option>
                                            <option value="1">Kontak Açık</option>
                                            <option value="2">Kontak Kapalı</option>
                                            <option value="3">Sinyal Yok</option>
                                        </select>
                                    </div>
                                    <div style="float:right">
                                        <button onclick="GetDevicesByGroupId()" type="button"
                                                class="btn btn-dark mt-2 " style="font-size:14px;">
                                            Uygula
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slimScrollBar"
                 style="background: rgb(220, 220, 220); width: 5px; position: absolute; top: 0px; opacity: 0.4; display: none; border-radius: 7px; z-index: 99; right: 1px; height: 826.833px;">
            </div>
            <div class="slimScrollRail"
                 style="width: 5px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 0.2; z-index: 90; right: 1px;">
            </div>
        </div>
        <div class=" shw-rside col-md-2" id="dashboard" style="display:block !important;border:groove; width: 100%; position: absolute; top:160px; right: 5px;height:160px; z-index: 21 !important; background-color: rgb(255, 255, 255);">
            <div class="row">
                <div class=" col-md-6" style="width:50%;background-color: #eeede959;">
                    <center><h5 style="color: #0084ad;">Filo Durumu</h5></center>
                    <div class="mt-3">
                        <center> <i class="fa fa-key fa-2x float-left" style="color:red"></i><p id="pkapali" style="margin-left:100px;color: black;font-weight: bold;"></p></center>
                    </div>
                    <div class="mt-3">
                        <center><i class="fa fa-key fa-2x float-left" style="color:lawngreen"></i><p id="pacik" style="margin-left:100px;color: black;font-weight: bold;"></p></center>
                    </div>
                    <div class="mt-3 mb-3">
                        <center> <i class="fa fa-key fa-2x float-left" style="color:black"></i><p id="psinyal" style="margin-left:100px;color: black;font-weight: bold;"></p></center>
                    </div>
                </div>
                <div class=" col-md-6" style="width:50%;background-color: #eeede959;">
                    <center>
                        <h5 style="color: #0084ad;">Kilometre</h5>
                    </center>
                    <center><p style="font-size:24px;color: black;font-weight: bold;" id="kmDashboard"></p></center>
                    <center><p style="font-size:15px;color: black;margin-top:40px;font-weight: bold;"> @DateTime.Now.ToString("yyyy-MM-dd")</p></center>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" id="mapToDrawPolylines" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h4 style="color:white;">Harita - Konumlar </h4>
                    <button style="color:white;" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12 modal_body_content">
                            <h4 style="color:white;" id="mapToDrawPolylinesHeader"></h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 modal_body_map">
                            <div class="location-map" id="location-map">
                                <div style="width: 100%; height: 500px;" id="map2"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 modal_body_end">
                            <p>©@DateTime.Now.Year VERAMOBIL</p>
                        </div>
                    </div>
                    <div id="bottomButtonsPlayButtons" class="bottomButtons" style="display: none;">
                        <b id="playInfoTarih"></b><br />
                        <b id="playInfoAnlikHiz"></b>
                        <b id="playInfoAdres"></b>
                        <center>
                            <img onclick="playInterval += 25; $('#oynatmaHizi').html(playInterval/100);" src="~/Content/assets/images/5.png" />
                            <img id="gecmisPlayPauseButton" style="margin-left: 2.5%; margin-right: 2.5%;" onclick="if (!isGecmisKonumPlaying) { this.src = '../Content/assets/images/3.png'; isGecmisKonumPlaying = true; oynatBakalim(); } else { isGecmisKonumPlaying = false; this.src = '../Content/assets/images/2.png'; }" src="~/Content/assets/images/2.png" />
                            <img onclick="if (playInterval > 10) playInterval -= 25; $('#oynatmaHizi').html(playInterval/100);" src="~/Content/assets/images/4.png" />
                        </center>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="mapByGroupId" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h4 style="color:white;">Harita - Konumlar </h4>
                    <button style="color:white;" onclick="CloseDisplayVehiclesOnMap()" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12 modal_body_content">
                            <h4 style="color:white;" id="mapByGroupIdHeader"></h4>
                        </div>
                    </div>
                    <div class="col-md-12" id="mapByGroupIdMaps">
                    </div>
                    <div class="row">
                        <div class="col-md-12 modal_body_end">
                            <p>©@DateTime.Now.Year VERAMOBIL</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="mapToShowSpesificDevice" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h4 style=" color: white; ">Harita - Konumlar </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" style=" color: white; ">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p style=" color: #f2f4f8; ">Araç Konumu :</p> <label style="color:white; font-size:25px" id="vehicleCarPlateForMap3"></label>
                    <div class="row">
                        <div class="col-md-12 modal_body_content">

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 modal_body_map">
                            <div class="location-map" id="location-map">
                                <div style="width: 100%; height: 500px;" id="map3"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 modal_body_end">
                            <p style="color:white;">©@DateTime.Now.Year VERAMOBIL</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="performans" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h4 style=" color: white; ">Performans </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" style=" color: white; ">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body" id="performansBody">

                    <div class="row">
                        <div class="col-md-12 modal_body_end">
                            <p style="color:white;">©@DateTime.Now.Year VERAMOBIL</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="addMapArea" class="modal fade bs-example-modal-sm hide" tabindex="-1" role="dialog"
         aria-labelledby="mySmallModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="mySmallModalLabel">Bölge Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label> Bölge Adı </label>
                            <input style="  display:none;" id="companyAreaId" value="0" />
                            <input id="areaName" class="form-control">
                        </div>
                        <div class="col-md-12">
                            <label> Bölge Türü</label>
                            <select id="areaType" class="form-control">
                                <option value="1" selected>Normal Bölge</option>
                                <option value="2">Yasaklı Bölge</option>
                            </select>
                        </div>
                        @*<div class="col-md-12">
                                <label> Renk </label>
                                <select id="areaColor" class="form-control">
                                    <option value="0">Yeşil</option>
                                    <option value="1">Mavi</option>
                                </select>
                            </div>*@
                    </div>

                </div>
                <div class="modal-footer col-md-12">
                    <button type="button" class="btn btn-dark waves-effect" onclick="SaveCompanyMapArea()">Kaydet</button>
                    <button class="btn btn-dark waves-effect" type="button" data-dismiss="modal" aria-hidden="true">Vazgeç</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <div id="addMapRoute" class="modal fade bs-example-modal-sm hide" tabindex="-1" role="dialog"
         aria-labelledby="mySmallModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="mySmallModalLabel">Rota Ekle</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label> Rota Adı </label>
                            <input style="  display:none;" id="companyRouteId" value="0" />
                            <input id="routeName" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="modal-footer col-md-12">
                    <button type="button" class="btn btn-dark waves-effect" onclick="SaveCompanyMapRoute()">Kaydet</button>
                    <button class="btn btn-dark waves-effect" type="button" data-dismiss="modal" aria-hidden="true">Vazgeç</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <div id="addAP" class="modal fade bs-example-modal-sm hide" tabindex="-1" role="dialog"
         aria-labelledby="mySmallModalLabel" style="display: none; padding-right: 17px;" aria-modal="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="mySmallModalLabel">Araç Programlama</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <input type="text" id="updateDeviceAPId" style="display:none" />
                        <div class="col-md-12">
                            <label>Pozisyon Süresi:</label>
                            <select id="positionTimeAP" class="form-control input-sm">
                                <option value="0">Seçiniz...</option>
                                <option value="1">1dakika</option>
                                <option value="5">5dakika</option>
                                <option value="8">8dakika</option>
                                <option value="10">10dakika</option>
                                <option value="15">15dakika</option>
                                <option value="20">20dakika</option>
                                <option value="25">25dakika</option>
                                <option value="30">30dakika</option>
                                <option value="35">35dakika</option>
                                <option value="40">40dakika</option>
                                <option value="45">45dakika</option>
                                <option value="50">50dakika</option>
                                <option value="55">55dakika</option>
                                <option value="60">60dakika</option>
                                <option value="70">70dakika</option>
                                <option value="80">80dakika</option>
                                <option value="90">90dakika</option>
                            </select>
                        </div>
                        <div class="col-md-12">
                            <label>Pozisyon Mesafesi:</label>
                            <select id="positionDistanceAP" class="form-control input-sm">
                                <option value="0">Seçiniz...</option>
                                <option value="1">1km</option>
                                <option value="2">2km</option>
                                <option value="3">3km</option>
                                <option value="4">4km</option>
                                <option value="5">5km</option>
                                <option value="6">6km</option>
                                <option value="10">10km</option>
                                <option value="30">30km</option>
                                <option value="50">50km</option>
                                <option value="100">100km</option>
                            </select>
                        </div>
                        <div class="col-md-12">
                            <label>Hız Limiti:</label>
                            <select id="speedLimitAP" class="form-control input-sm">
                                <option value="0">Seçiniz...</option>
                                <option value="10">10km/s</option>
                                <option value="20">20km/s</option>
                                <option value="30">30km/s</option>
                                <option value="40">40km/s</option>
                                <option value="50">50km/s</option>
                                <option value="60">60km/s</option>
                                <option value="70">70km/s</option>
                                <option value="80">80km/s</option>
                                <option value="90">90km/s</option>
                                <option value="100">100km/s</option>
                                <option value="110">110km/s</option>
                                <option value="120">120km/s</option>
                                <option value="130">130km/s</option>
                                <option value="140">140km/s</option>
                                <option value="150">150km/s</option>
                            </select>
                        </div>
                        <div class="col-md-12">
                            <label>Rölanti Süresi:</label>
                            <select id="rolantiTimeAP" class="form-control input-sm">
                                <option value="0">Seçiniz...</option>
                                <option value="1">1dakika</option>
                                <option value="5">5dakika</option>
                                <option value="8">8dakika</option>
                                <option value="10">10dakika</option>
                                <option value="15">15dakika</option>
                                <option value="20">20dakika</option>
                                <option value="25">25dakika</option>
                                <option value="30">30dakika</option>
                                <option value="35">35dakika</option>
                                <option value="40">40dakika</option>
                                <option value="45">45dakika</option>
                                <option value="50">50dakika</option>
                                <option value="55">55dakika</option>
                                <option value="60">60dakika</option>
                                <option value="70">70dakika</option>
                                <option value="80">80dakika</option>
                                <option value="90">90dakika</option>
                            </select>
                        </div>
                    </div>

                </div>
                <div class="modal-footer col-md-12">
                    <button type="button" class="btn btn-dark waves-effect" onclick="UpdateAP()">Programla</button>
                    <button class="btn btn-dark waves-effect" type="button" data-dismiss="modal" aria-hidden="true">Vazgeç</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <div id="loadingModal" class="modal fade bs-example-modal-sm " tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" style="display: none; padding-right: 17px; z-index: 999283712893721893211 !important;" aria-modal="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content" style="background-color:#f2f4f8;">
                <div class="modal-header">
                    <h4 class="modal-title" id="mySmallModalLabel">Raporlar Hazırlanıyor...</h4>
                </div>
                <div class="modal-body">
                    <div class="col-md-12 portlet-body" id="loadingContainer3" style="position:relative;">
                        <center>
                            <img style="width: 75px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                        </center>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div id="map"></div>
    <div id="companyInfo">
        <input style="display:none" id="idCompany" value="@Model.User.Id">
        <input style="display:none" id="nameCompany" value="@Model.User.UserCode">
    </div>
    <div class="topButtons" style="z-index:99999999999999999999999999 !important;margin-top: 125px;">
        <img style="float:right;height: 30px;" src="~/Content/assets/images/light-logo.png" onclick="toogleTraffic();" />
        <img style="float:right;height: 30px;" src="~/Content/assets/images/earth-logo.png" onclick="changeMapType();" />
    </div>
    <input id="pac-input" class="controls" type="text" placeholder="Adres Ara" style="z-index:999!important;margin-right: 20px;">
    @*<img id="markerImage" src="~/Content/assets/images/2.png" />*@
    <input type="text" id="isCompanyAdmin" value="'@companyUser.IsCompanyAdmin'" style="display:none;" />
    <script>

        var oldMarkers = [];
        var oldLabelMarkers = [];
        var stopOrContinue = 1;
        var typeMapChange = "roadmap";



        var map;
        var nokta = { lat: 40, lng: 32 };

        function initMap() {

            map = new google.maps.Map(document.getElementById('map'), {
                center: nokta,
                zoom: 7,
                gestureHandling: 'greedy',
                mapTypeId:typeMapChange
                //styles: [
                //    {
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#ebe3cd"
                //            }
                //        ]
                //    },
                //    {
                //        "elementType": "labels.text.fill",
                //        "stylers": [
                //            {
                //                "color": "#523735"
                //            }
                //        ]
                //    },
                //    {
                //        "elementType": "labels.text.stroke",
                //        "stylers": [
                //            {
                //                "color": "#f5f1e6"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "administrative",
                //        "elementType": "geometry.stroke",
                //        "stylers": [
                //            {
                //                "color": "#c9b2a6"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "administrative.land_parcel",
                //        "elementType": "geometry.stroke",
                //        "stylers": [
                //            {
                //                "color": "#dcd2be"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "administrative.land_parcel",
                //        "elementType": "labels.text.fill",
                //        "stylers": [
                //            {
                //                "color": "#ae9e90"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "landscape.natural",
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#dfd2ae"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "poi",
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#dfd2ae"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "poi",
                //        "elementType": "labels.text.fill",
                //        "stylers": [
                //            {
                //                "color": "#93817c"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "poi.park",
                //        "elementType": "geometry.fill",
                //        "stylers": [
                //            {
                //                "color": "#a5b076"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "poi.park",
                //        "elementType": "labels.text.fill",
                //        "stylers": [
                //            {
                //                "color": "#447530"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "road",
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#f5f1e6"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "road.arterial",
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#fdfcf8"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "road.highway",
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#f8c967"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "road.highway",
                //        "elementType": "geometry.stroke",
                //        "stylers": [
                //            {
                //                "color": "#e9bc62"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "road.highway.controlled_access",
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#e98d58"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "road.highway.controlled_access",
                //        "elementType": "geometry.stroke",
                //        "stylers": [
                //            {
                //                "color": "#db8555"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "road.local",
                //        "elementType": "labels.text.fill",
                //        "stylers": [
                //            {
                //                "color": "#806b63"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "transit.line",
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#dfd2ae"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "transit.line",
                //        "elementType": "labels.text.fill",
                //        "stylers": [
                //            {
                //                "color": "#8f7d77"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "transit.line",
                //        "elementType": "labels.text.stroke",
                //        "stylers": [
                //            {
                //                "color": "#ebe3cd"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "transit.station",
                //        "elementType": "geometry",
                //        "stylers": [
                //            {
                //                "color": "#dfd2ae"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "water",
                //        "elementType": "geometry.fill",
                //        "stylers": [
                //            {
                //                "color": "#b9d3c2"
                //            }
                //        ]
                //    },
                //    {
                //        "featureType": "water",
                //        "elementType": "labels.text.fill",
                //        "stylers": [
                //            {
                //                "color": "#92998d"
                //            }
                //        ]
                //    }
                //]
            });

            //setMarkers($('#chooseDisplayVehicle').val());

            var content =
                '<div style="width:150px; max-height:200px; overflow: inherit" >' +
                '<ul id="asdfa" class="list-group" >' +
                '<h4>İşlemler</h4>' +
                '<a type="button" href="javascript:;" onclick="DisplayVehicles(0)"><li class="list-group-item">Haritayı Temizle</li></a>' +
                '<a type="button" hreF="javascript:;" onclick="DisplayVehicles(1)"><li class="list-group-item ">Araçları Göster</li></a>';
                //'<a type="button"><li class="list-group-item ">Rota Oluştur</li></a>' +
                //'<a type="button"><li class="list-group-item ">En Yakındaki Araçlar</li></a>' +
                //'</ul>  ' +
                //'<ul  class="list-group">' +
                //'<h4>Rota Hesaplama</h4>' +
                //'<a type="button"><li class="list-group-item ">Rota Başlangıç</li></a>' +
                //'<a type="button"><li class="list-group-item ">Rota Ara  Nokta Ekle</li></a>' +
                //'<a type="button"><li class="list-group-item ">Rota Bitiş (Süreye Göre)</li></a> ' +
                //'<a type="button"><li class="list-group-item ">Rota Bitiş (Mesafeye Göre)</li></a> ' +
                //'<a type="button"><li class="list-group-item ">Rotayı Sil</li></a> ' +

            if ($('#isCompanyAdmin').val() == "'True'") {
                content += '<a type="button" href="javascript:;" onclick="AddCompanyArea()"><li class="list-group-item ">Bölge Ekle</li></a> ';
                content += '<a type="button" href="javascript:;" onclick="AddCompanyRoute()"><li class="list-group-item ">Rota Ekle</li></a> ';
            }
            content+=  '</ul>' +
                       ' </div>';
            var infowindow = new google.maps.InfoWindow({ content: content });
            var icon = {
                url: "https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png", // url
                scaledSize: new google.maps.Size(70, 70), // scaled size
                origin: new google.maps.Point(0, 0), // origin
                anchor: new google.maps.Point(0, 0), // anchor
            };
            var marker = new google.maps.Marker({
                map: map,
                icon: icon
            });

            map.addListener('rightclick', function (event) {
                var myLatLng = { lat: event.latLng.lat(), lng: event.latLng.lng() };
                marker.setPosition(myLatLng);
                infowindow.open(map, marker);
            });
            // Create the search box and link it to the UI element.

            var input = document.getElementById('pac-input');
            var searchBox = new google.maps.places.SearchBox(input);
            map.controls[google.maps.ControlPosition.TOP_RIGHT].push(input);
            // Bias the SearchBox results towards current map's viewport.
            map.addListener('bounds_changed', function () {
                searchBox.setBounds(map.getBounds());
            });

            // Listen for the event fired when the user selects a prediction and retrieve
            // more details for that place.
            var markers = [];
            searchBox.addListener('places_changed', function () {
                var places = searchBox.getPlaces();
                if (places.length == 0) {
                    return;
                }
                var bounds = new google.maps.LatLngBounds();
                for (var i = 0, place; place = places[i]; i++) {
                  var image = {
                    url: place.icon,
                    size: new google.maps.Size(30, 30),
                    origin: new google.maps.Point(0, 0),
                    anchor: new google.maps.Point(17, 34),
                    scaledSize: new google.maps.Size(30, 30)
                  };

                  // Create a marker for each place.
                  var marker = new google.maps.Marker({
                    map: map,
                    icon: image,
                    title: place.name,
                    position: place.geometry.location
                  });
                for (var i = 0; i < markers.length; i++) {
                    markers[i].setMap(null);
                }
                  markers.push(marker);
                    bounds.extend(place.geometry.location);
                    document.getElementById("pac-input").value = "";
                }

                map.fitBounds(bounds);
                            var latxx = places[0].geometry.location.lat();
                            var lngxx = places[0].geometry.location.lng();
                            var myLatLng = { lat: latxx, lng: lngxx };
                            map.setCenter(myLatLng);
                            map.setZoom(16);
                        });
        }

               @*function setMarkers()
               {
                $('#chooseDisplayVehicle').click(function () {
                    stopOrContinue = 1;
                });
                var id = $('#chooseDisplayVehicle').val();
                $.ajax({
                    url: '@Url.Action("DisplayVehiclesOnMap", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                      '_stopOrContinue':stopOrContinue
                    },
                    success: function (data) {

                        if (stopOrContinue == 0) {
                            return;
                        }
                        for (var i = 0; i < oldMarkers.length; i++) {
                            oldMarkers[i].setMap(null);
                        }
                        oldMarkers = [];
                        if (oldLabelMarkers.length != 0) {
                            for (var i = 0; i < oldLabelMarkers.length; i++) {
                                  oldLabelMarkers[i].setMap(null);
                              }
                          }
                        oldLabelMarkers = [];
                        for (var i = 0; i < data.length; i++) {
                            if (id == 1) {

                                var item = data[i];
                                var myLatLng = { lat: item.lat, lng: item.lng };

                                var icon= null;
                                if (item.ActivityTime == 1) {
                                     icon = {
                                         path: (item.IoStatus == "Açık" ? google.maps.SymbolPath.FORWARD_CLOSED_ARROW : google.maps.SymbolPath.CIRCLE),
                                         scale:(item.IoStatus == "Açık" ? 5 : 7),
                                         fillColor: item.IoStatus == "Açık"?"#66ff00":"#ff0000",
                                         fillOpacity: 0.8,
                                         strokeWeight: 1,
                                         rotation: item.DirectionDegree, //this is how to rotate the pointer
                                         labelOrigin: { x: 0, y: 0 },
                                         labelInBackground: true
                                     };
                                }
                                else if (item.ActivityTime == 0) {
                                 icon = {
                                    path: google.maps.SymbolPath.CIRCLE,
                                    scale: 7,
                                    fillColor: "#000000",
                                    fillOpacity: 0.8,
                                    strokeWeight: 1
                                    };
                                }
                                var image = null;
                                if (item.IoStatus != "Açık" || item.ActivityTime==0) {
                                    image = {
                                        url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                        // This marker is 20 pixels wide by 32 pixels high.
                                        size: new google.maps.Size(60, 20),
                                        // The origin for this image is (0, 0).
                                        //origin: new google.maps.Point(0,0),
                                        // The anchor for this image is the base of the flagpole at (0, 32).
                                        anchor: new google.maps.Point(30, -7)
                                    };
                                }
                                else if (data[i]["directionDegree"] >= 90 && data[i]["directionDegree"] <= 270)
                                {
                                    image = {
                                        url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                        // This marker is 20 pixels wide by 32 pixels high.
                                        size: new google.maps.Size(60, 20),
                                        // The origin for this image is (0, 0).
                                        //origin: new google.maps.Point(0,0),
                                        // The anchor for this image is the base of the flagpole at (0, 32).
                                        anchor: new google.maps.Point(30, -10)
                                    };
                                }
                                else {
                                    image = {
                                        url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                        // This marker is 20 pixels wide by 32 pixels high.
                                        size: new google.maps.Size(60, 20),
                                        // The origin for this image is (0, 0).
                                        //origin: new google.maps.Point(0,0),
                                        // The anchor for this image is the base of the flagpole at (0, 32).
                                        anchor: new google.maps.Point(30, -17)
                                    };
                                }

                                var marker = new google.maps.Marker({
                                    position: { lat: item.lat, lng: item.lng },
                                    title: item.CarPlateNumber,
                                    icon: icon,
                                    map: map,
                                });
                                var markerLabel = new google.maps.Marker({
                                        position: { lat: item.lat, lng: item.lng },
                                        title: item.CarPlateNumber,
                                        icon: image,
                                        map: map,
                                        label: {
                                            text: item.CarPlateNumber.substring(0,8),
                                            color: '#222222',
                                            fontSize: '12px',
                                            fontWeight: 'bold'
                                        }
                                    });
                            var content =
                                '<div style="width:280px; max-height:300px; overflow: inherit" >' +
                                '<ul id="vehicleInfo" class=" list-group">' +
                                    '<h4>Arac Bilgileri</h4>' +
                                        '<li class="list-group-item active">Plaka : ' + item.CarPlateNumber + '</li>' +
                                        '<li class="list-group-item ">Tarih : ' + item.Date + '</li>' +
                                        '<li class="list-group-item ">Hız : ' + item.KmPerHour + '</li>' +
                                        '<li class="list-group-item ">Konum : ' + item.Location + '</li>' +
                                        '<li class="list-group-item ">Enlem : ' + item.lat + '</li>' +
                                        '<li class="list-group-item ">Boylam : ' + item.lng + '</li>' +
                                        '<li class="list-group-item ">Rakım (Yukseklik) : ' + item.Altitude + '</li>' +
                                        '<li class="list-group-item ">Kontak Durumu : ' + item.IoStatus + '</li>' +
                                        '<li class="list-group-item ">Günlük Km : ' + item.TotaLkm + '</li> ' +
                                ' </ul> ' +
                                ' </div>';
                            var infowindow = new google.maps.InfoWindow();
                            google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                                return function () {
                                    infowindow.setContent(content);
                                    infowindow.open(map, marker);
                                    windows.push(infowindow);
                                    google.maps.event.addListener(map, 'click', function () {
                                        infowindow.close();
                                    });
                                };
                            })(marker, content, infowindow));
                            //map.setCenter(myLatLng);
                            oldMarkers.push(marker);
                            oldLabelMarkers.push(markerLabel);

                            }
                            else if (id == 2) {
                            var item = data[i];
                                var myLatLng = { lat: item.lat, lng: item.lng };
                            //var myLatLng = { lat: parseFloat(data[i].split('--')[0].replace(",", ".")), lng: parseFloat(data[i].split('--')[1].replace(",", ".")) };
                            if (item.IoStatus == "Açık") {
                                var icon = {
                                    path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                                    scale: 5,
                                    fillColor: "#66ff00",
                                    fillOpacity: 0.8,
                                    strokeWeight: 1,
                                    rotation: item.DirectionDegree, //this is how to rotate the pointer
                                    labelOrigin: { x: 0, y: 0 },
                                    labelInBackground:true
                                };
                            }
                            if (item.IoStatus == "Kapalı") {
                                var icon = {
                                    path: google.maps.SymbolPath.CIRCLE,
                                    scale: 7,
                                    fillColor: "#FF0000",
                                    fillOpacity: 0.8,
                                    strokeWeight: 1
                                };

                            }
                            if (item.ActivityTime == 0) {
                                var icon = {
                                    path: google.maps.SymbolPath.CIRCLE,
                                    scale: 7,
                                    fillColor: "#000000",
                                    fillOpacity: 0.8,
                                    strokeWeight: 2
                                };
                            }
                            var marker = new google.maps.Marker({
                                    position: { lat: item.lat, lng: item.lng },
                                    title: item.CarPlateNumber,
                                    icon: icon,
                                    map: map
                                });

                            var content =
                                '<div style="width:280px; max-height:300px; overflow: inherit" >' +
                                '<ul id="vehicleInfo" class=" list-group">' +
                                    '<h4>Arac Bilgileri</h4>' +
                                        '<li class="list-group-item active">Plaka : ' + item.CarPlateNumber + '</li>' +
                                        '<li class="list-group-item ">Tarih : ' + item.Date + '</li>' +
                                        '<li class="list-group-item ">Hız : ' + item.KmPerHour + '</li>' +
                                        '<li class="list-group-item ">Konum : ' + item.Location + '</li>' +
                                        '<li class="list-group-item ">Enlem : ' + item.lat + '</li>' +
                                        '<li class="list-group-item ">Boylam : ' + item.lng + '</li>' +
                                        '<li class="list-group-item ">Rakım (Yukseklik) : ' + item.Altitude + '</li>' +
                                        '<li class="list-group-item ">Kontak Durumu : ' + item.IoStatus + '</li>' +
                                        '<li class="list-group-item ">Günlük Km : ' + item.TotaLkm + '</li> ' +
                                ' </ul> ' +
                                ' </div>';
                            var infowindow = new google.maps.InfoWindow();
                            google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                                return function () {
                                    infowindow.setContent(content);
                                    infowindow.open(map, marker);
                                    windows.push(infowindow);
                                    google.maps.event.addListener(map, 'click', function () {
                                        infowindow.close();
                                    });
                                };
                            })(marker, content, infowindow));
                            //map.setCenter(myLatLng);
                            oldMarkers.push(marker);
                            }
                        }
                        var refreshTime = parseInt($('#userHomepageRefreshTime').text());
                        setTimeout(function () {
                            setMarkers(id)
                        }, refreshTime);
                        console.log("called");

                    },
                    error: function (xhr) {
                        console.log("hata");
                        console.log(xhr);
                    }
                });
        }*@
        var map2;
          function initMap2(latlong) {
            map2 = new google.maps.Map(document.getElementById('map2'), {
                center: latlong,
                zoom: 10
            });
        }
        var map3;
          function initMap3() {
            map3 = new google.maps.Map(document.getElementById('map3'), {
                center: { lat: 41.015137, lng: 28.979530 },
                zoom: 8
            });
        }

    function DisplayVehicleOnMap() {
        DisplayDeviceOnMapByDeviceId(lastOptionClickedDeviceId);
             @*$.ajax({
                url: '@Url.Action("DisplayVehicleOnMap","Home")',
                datatype: 'json',
                type:'post',
                data: {
                    "_deviceId":lastOptionClickedDeviceId
                },
                success : function (item) {
                    var myLatLng={ lat: item.lat, lng: item.lng };
                    map.setCenter(myLatLng);
	                map.setZoom(15);
		        },
                error: function (xhr) {
                    console.log("hata");
                    console.log(xhr);
                }
            });*@
        }
        $('#displayVehicleOnAnotherMapCLICK').click(function () {
            $('#mapToShowSpesificDevice').modal('show');
              initMap3();
            DisplayVehicleOnAnotherMap();
        });
        var oldSpesificDeviceMarkers = [];
        function DisplayVehicleOnAnotherMap() {
            $.ajax({
                url: '@Url.Action("DisplayVehicleOnMap","Home")',
                datatype: 'json',
                type: 'post',
                data: {
                    "_deviceId": lastOptionClickedDeviceId
                },
                success: function (item) {
                    if (oldSpesificDeviceMarkers.length > 0) {
                        for (var i = 0; i < oldSpesificDeviceMarkers.length; i++) {
                            oldSpesificDeviceMarkers[i].setMap(null);
                        }
                    }
                    oldSpesificDeviceMarkers = [];
                    var myLatLng = { lat: item.lat, lng: item.lng };
                    //var myLatLng = { lat: parseFloat(data[i].split('--')[0].replace(",", ".")), lng: parseFloat(data[i].split('--')[1].replace(",", ".")) };
                    $('#vehicleCarPlateForMap3').text(item.CarPlateNumber);
                    var icon = null;
                    var icon2 = null;
                    if (item.ActivityTime == "Aktif") {
                        if (item.IoStatus == "Açık") {
                            icon = {
                                            url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-green.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(15, 15)
                                        };
                                        icon2 = {
                                            path:google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                            scale:2,
                                            fillColor:"#52cd00",
                                            fillOpacity: 0.8,
                                            strokeWeight: 0,
                                            rotation: item.DirectionDegree,
                                            anchor: new google.maps.Point(0,8),
                                            labelOrigin: { x: 0, y: 0 },
                                            labelInBackground: true
                                        };

                            var marker = new google.maps.Marker({
                                position: { lat: item.lat, lng: item.lng },
                                title: item.CarPlateNumber,
                                icon: icon,
                                map: map3
                            });
                            var marker2 = new google.maps.Marker({
                                position: { lat: item.lat, lng: item.lng },
                                title: item.CarPlateNumber,
                                icon: icon2,
                                map: map3
                            });

                        }
                        else {
                            icon = {
                                url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-red.png',
                                size: new google.maps.Size(32, 32),
                                anchor: new google.maps.Point(0, 0)
                            };
                            var marker = new google.maps.Marker({
                                position: { lat: item.lat, lng: item.lng },
                                title: item.CarPlateNumber,
                                icon: icon,
                                map: map3
                            });
                        }

                    }
                    else if (item.ActivityTime == "Pasif") {
                        icon = {
                            url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-black.png',
                            size: new google.maps.Size(32, 32),
                            anchor: new google.maps.Point(0, 0)
                        };
                            var marker = new google.maps.Marker({
                                position: { lat: item.lat, lng: item.lng },
                                title: item.CarPlateNumber,
                                icon: icon,
                                map: map3
                            });
                    }

                    var content =
                        '<div style="width:280px; max-height:300px;margin-top:300px !important; overflow: auto" >' +
                        '<ul id="vehicleInfo" class=" list-group">' +
                        '<h4>Arac Bilgileri</h4>' +
                        '<li class="list-group-item active">Plaka : ' + item.CarPlateNumber + '</li>' +
                        '<li class="list-group-item ">Tarih : ' + item.Date + '</li>' +
                        '<li class="list-group-item ">Hız : ' + item.KmPerHour + '</li>' +
                        '<li class="list-group-item ">Konum : ' + item.Location + '</li>' +
                        '<li class="list-group-item ">Enlem : ' + item.lat + '</li>' +
                        '<li class="list-group-item ">Boylam : ' + item.lng + '</li>' +
                        '<li class="list-group-item ">Rakım (Yukseklik) : ' + item.Altitude + '</li>' +
                        '<li class="list-group-item ">Kontak Durumu : ' + item.IoStatus + '</li>' +
                        '<li class="list-group-item ">Son Km Değeri : ' + item.TotalKmDaily + '</li> ' +
                        ' </ul> ' +
                        ' </div>';
                    var infowindow = new google.maps.InfoWindow();
                        google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                            return function () {
                                infowindow.setContent(content);
                                infowindow.open(map, marker);
                                windows.push(infowindow);
                                google.maps.event.addListener(map, 'click', function () {
                                    infowindow.close();
                                });
                            };
                        })(marker, content, infowindow));
                        map3.setCenter(myLatLng);
                    map3.setZoom(16);
                    oldSpesificDeviceMarkers.push(marker);
                    if (item.IoStatus == "Açık") {
                        oldSpesificDeviceMarkers.push(marker2);
                    }


                    //var refreshTime = parseInt($('#userHomepageRefreshTime').text());
                    if ($('#mapToShowSpesificDevice').hasClass('show')) {
                        setTimeout(function () {
                            DisplayVehicleOnAnotherMap()
                        }, 15000);
                        console.log("called");
                    }
                },
                error: function (xhr) {
                    console.log("hata");
                    console.log(xhr);
                }
            });
        }
    </script>
    <script>

        $(window).on("load", function () {
            initMap();
        });

        function GetAreaListOfCompany() {
             $("#areaTableContainer").html("");
            var areaNameTLA = $('#areaNameTLA').val();
            var areaTypeTLA = $('#areaTypeTLA').val();
            $.ajax({
                url: '@Url.Action("GetAreaListOfCompany","Home")',
                datatype: 'html',
                type: 'post',
                data :{
                    '_areaNameTLA':areaNameTLA,
                    '_areaTypeTLA':areaTypeTLA
                },
                success : function (data) {
                    $('#areaTableContainer').html(data);
                    $('#areaTableHEADER').show('slow');
                }
            });
        }
        function GetRouteListOfCompany() {
             $("#routeTableContainer").html("");
            var routeNameTLA = $('#routeNameTLA').val();
            $.ajax({
                url: '@Url.Action("GetRouteListOfCompany","Home")',
                datatype: 'html',
                type: 'post',
                data :{
                    '_routeNameTLA':routeNameTLA
                },
                success : function (data) {
                    $('#routeTableContainer').html(data);
                    $('#routeTableHEADER').show('slow');
                }
            });
        }
        function ShowPerformance(id) {
            $('#performans').modal('show');
            $("#rightClickMenuContainer").fadeOut(250);
            var anidönüs=0,asirihiz=0,anihiz=0,darbe=0;
            $.ajax({
                url: '@Url.Action("GetPercentage","Home")',
                dataType: 'Json',
                type: 'Post',
                data: {
                    "_deviceId": lastOptionClickedDeviceId,
                    "_type": id
                },
                success: function (data) {
                    console.log(data);
                    asirihiz = data.AsiriHiz;
                    darbe = data.Darbe;
                    anihiz = data.AniHiz;
                    anidönüs = data.AniDönüs;
                    $('#performansBody').html("<div class='mt-3'><h4 style='color:white'>"+data.CarPlateNumber+"</h4><label style='color:white'>Ani Dönüş</label></div><div class='progress mt-2' style='height:30px !important'><div class='progress-bar bg-success' role='progressbar' style='width: "+anidönüs+"%;color: black;font-weight: bold;' aria-valuenow='"+anidönüs+"' aria-valuemin='0' aria-valuemax='100'>"+anidönüs+"%</div></div><div class='mt-3'><label style='color:white'>Darbe</label></div><div class='progress mt-2' style='height:30px !important'><div class='progress-bar bg-info' role='progressbar' style='width: "+darbe+"%;color: black;font-weight: bold;' aria-valuenow='"+darbe+"' aria-valuemin='0' aria-valuemax='100'>"+darbe+"%</div></div><div class='mt-3'><label style='color:white'>Ani Hızlanma</label></div><div class='progress mt-2' style='height:30px !important'><div class='progress-bar bg-warning' role='progressbar' style='width: "+anihiz+"%;color: black;font-weight: bold;' aria-valuenow='"+anihiz+"' aria-valuemin='0' aria-valuemax='100'>"+anihiz+"%</div></div><div class='mt-3'><label style='color:white'>Aşırı Hız</label></div><div class='progress mt-2' style='height:30px !important'><div class='progress-bar bg-danger' role='progressbar' style='width: "+asirihiz+"%;color: black;font-weight: bold;' aria-valuenow='"+asirihiz+"' aria-valuemin='0' aria-valuemax='100'>"+asirihiz+"%</div></div>");
                 }
            });

            }
        function ShowAreaOnMap(id, areaName) {
             $('#bottomButtonsPlayButtons').css("display", "none");
            $('#mapToDrawPolylines').modal('show');
            $('#mapToDrawPolylinesHeader').text('' + areaName + '');
            var myLatLng = { lat: 41.015137, lng: 28.979530 };
            initMap2(myLatLng);
            var flightPlanCoordinates = [];
            $.ajax({
                url: '@Url.Action("GetAreaLatLongs","Home")',
                dataType: 'Json',
                type: 'Post',
                data: { '_areaId': id },
                success: function (data) {
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        flightPlanCoordinates.push({ lat: item.lat, lng: item.lng });
                    }

                   var bermudaTriangle = new google.maps.Polygon({
                        paths: [flightPlanCoordinates],
                        strokeColor: '#FF0000',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#FFC107',
                        fillOpacity: 0.35
                      });
                    bermudaTriangle.setMap(map2);
                    map2.setCenter(flightPlanCoordinates[0]);
                    map2.setZoom(16);
                 }
            });
        }
        function ShowRouteOnMap(id, routeName) {
             $('#bottomButtonsPlayButtons').css("display", "none");
            $('#mapToDrawPolylines').modal('show');
            $('#mapToDrawPolylinesHeader').text(''+routeName+'');
            var myLatLng = { lat: 41.015137, lng: 28.979530 };
            initMap2(myLatLng);
            var flightPlanCoordinates = [];
            $.ajax({
                url: '@Url.Action("GetRouteLatLongs","Home")',
                dataType: 'Json',
                type: 'Post',
                data: { '_routeId': id },
                success: function (data) {
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        flightPlanCoordinates.push({ lat: item.lat, lng: item.lng });
                    }

                   var bermudaTriangle = new google.maps.Polygon({
                        paths: [flightPlanCoordinates],
                        strokeColor: '#FF0000',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#FFC107',
                        fillOpacity: 0.35
                      });
                    bermudaTriangle.setMap(map2);
                    map2.setCenter(flightPlanCoordinates[0]);
                    map2.setZoom(16);
                 }
            });
        }
        var killDisplayOnMapWithSelectOrContinue = 0;
        function CloseDisplayVehiclesOnMap() { killDisplayOnMapWithSelectOrContinue = clearTimeout(killDisplayOnMapWithSelectOrContinue);}
        function DisplayOnMapWithSelected() {
            var selected = [];
            $('#tableContainerTLPLT input:checked').each(function () {
                selected.push($(this).attr('id'));
            });
            if (selected.length == 0) {
                swal("Hata!", "Lütfen araç seçiniz!", "error");
                return;
            }
            if (selected.length > 9) {
                swal("Hata!", "Lütfen maximum 9 araç seçiniz!", "error");
                return;
            }
            else if(!$('#mapByGroupId').hasClass('show')) {
                $('#mapByGroupId').modal('show');
            }
            $.ajax({
                url: '@Url.Action("DisplayOnMapWithSelected","Home")',
                datatype: 'json',
                type: 'post',
                data: {
                    "_selected": selected
                },
                success: function (data) {
                    if (data) {
                        if (!$('#mapByGroupId').hasClass('show'))
                            return;
                        $('#mapByGroupIdMaps').html("");
                        for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            var tempMap = "map" + (4 + i);
                            $('#mapByGroupIdMaps').append('<div class="col-md-4 float-left mt-2" id="Add' + tempMap + '"><h6 style="color:white;text-align: center;">' + item.CarPlateNumber + '</h6><div  style="height:300px;" id="' + tempMap + '"></div></div>');
                            tempMap = new google.maps.Map(document.getElementById(tempMap), {
                                center: { lat: 41.015137, lng: 28.979530 },
                                zoom: 15
                            });

                            var icon = null;
                            var icon2 = null;
                            if (item.ActivityTime == "Aktif") {
                                if (item.IoStatus == "Açık") {
                                        icon = {
                                            url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-green.png',
                                            size: new google.maps.Size(25, 25),
                                            anchor: new google.maps.Point(15, 15)
                                        };
                                        icon2 = {
                                            path:google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                            scale:2,
                                            fillColor:"#52cd00",
                                            fillOpacity: 0.8,
                                            strokeWeight: 0,
                                            rotation: item.DirectionDegree,
                                            anchor: new google.maps.Point(0,8),
                                            labelOrigin: { x: 0, y: 0 },
                                            labelInBackground: true
                                        };
                                    var marker = new google.maps.Marker({
                                    position: { lat: item.lat, lng: item.lng },
                                    title: item.CarPlateNumber,
                                    icon: icon,
                                    map: tempMap
                                    });
                                    var marker2 = new google.maps.Marker({
                                    position: { lat: item.lat, lng: item.lng },
                                    title: item.CarPlateNumber,
                                    icon: icon2,
                                    map: tempMap
                                    });
                                }
                                else if (item.IoStatus == "Kapalı") {
                                    icon = {
                                        url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-red.png',
                                        size: new google.maps.Size(32, 32),
                                        anchor: new google.maps.Point(0, 0)
                                    };
                                    var marker = new google.maps.Marker({
                                    position: { lat: item.lat, lng: item.lng },
                                    title: item.CarPlateNumber,
                                    icon: icon,
                                    map: tempMap
                                    });
                                }
                            }
                            else if (item.ActivityTime == "Pasif") {
                                icon = {
                                    url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-black.png',
                                    size: new google.maps.Size(32, 32),
                                    anchor: new google.maps.Point(0, 0)
                                };
                                var marker = new google.maps.Marker({
                                position: { lat: item.lat, lng: item.lng },
                                title: item.CarPlateNumber,
                                icon: icon,
                                map: tempMap
                                });
                            }

                            var content =
                                '<div style="width:280px; max-height:300px;margin-top:300px !important; overflow: auto" >' +
                                '<ul id="vehicleInfo" class=" list-group">' +
                                '<h4>Arac Bilgileri</h4>' +
                                '<li class="list-group-item active">Plaka : ' + item.CarPlateNumber + '</li>' +
                                '<li class="list-group-item ">Tarih : ' + item.Date + '</li>' +
                                '<li class="list-group-item ">Hız : ' + item.KmPerHour + '</li>' +
                                '<li class="list-group-item ">Konum : ' + item.Location + '</li>' +
                                '<li class="list-group-item ">Enlem : ' + item.lat + '</li>' +
                                '<li class="list-group-item ">Boylam : ' + item.lng + '</li>' +
                                '<li class="list-group-item ">Rakım (Yukseklik) : ' + item.Altitude + '</li>' +
                                '<li class="list-group-item ">Kontak Durumu : ' + item.IoStatus + '</li>' +
                                '<li class="list-group-item ">Son Km Değeri : ' + item.TotalKmDaily + '</li> ' +
                                ' </ul> ' +
                                ' </div>';
                            var infowindow = new google.maps.InfoWindow();
                            google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                                return function () {
                                    infowindow.setContent(content);
                                    infowindow.open(map, marker);
                                    windows.push(infowindow);
                                    google.maps.event.addListener(map, 'click', function () {
                                        infowindow.close();
                                    });
                                };
                            })(marker, content, infowindow));
                            tempMap.setCenter({ lat: item.lat, lng: item.lng });
                        }
                        if (data.length == 1) {
                            $('#Addmap4').addClass('col-md-12');
                        }
                        if (data.length == 2) {
                            $('#Addmap4').addClass('col-md-6');
                            $('#Addmap5').addClass('col-md-6');
                        }
                        if (data.length == 4) {
                            $('#Addmap4').addClass('col-md-6');
                            $('#Addmap5').addClass('col-md-6');
                            $('#Addmap6').addClass('col-md-6');
                            $('#Addmap7').addClass('col-md-6');
                        }
                    }
                    if ($('#mapByGroupId').hasClass('show')) {
                        killDisplayOnMapWithSelectOrContinue=setTimeout(function () {
                            DisplayOnMapWithSelected()
                        }, 10000);
                    }

                },
                error: function (xhr) {
                    console.log("hata");
                    console.log(xhr);
                }
            });
        }
        function ShowAreaVehiclesOnModal() {

            $('#areaVehiclesMODAL').modal('show');
             $('#areaVehiclesTableContainer tbody').html("");
            $.ajax({
                url: '@Url.Action("GetAreasWithVehicles","Home")',
                dataType: 'json',
                type: 'post',
                success: function (data) {
                    if (data) {
                        var html = "";
                        for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            html += '<tr><td>' + item.AreaName + '</td> <td>' + item.CarPlateNumber + '</td></tr>';
                        }
                      $('#areaVehiclesTableContainer tbody').append(html);
                    }
                }

            });

        }
        var polygonArray = [];
        var polylineArray = [];
        function ShowAddCompanyAreaModal(){
            $("#addMapArea select").val('0');
            $('#areaName').val('');
            $('#addMapArea').modal('show');
            $("#companyAreaId").val('0');
        }
        function ShowAddCompanyRouteModal(){
            $('#routeName').val('');
            $('#addMapRoute').modal('show');
            $("#companyRouteId").val('0');
        }
        function AddCompanyArea() {
            polygonArray = [];
              var drawingManager = new google.maps.drawing.DrawingManager({
                    drawingMode: google.maps.drawing.OverlayType.POLYGON,
                    drawingControl: true,
                    drawingControlOptions: {
                        position: google.maps.ControlPosition.TOP_CENTER,
                        drawingModes: [
                        google.maps.drawing.OverlayType.MARKER,
                        google.maps.drawing.OverlayType.CIRCLE,
                        google.maps.drawing.OverlayType.POLYGON,
                        google.maps.drawing.OverlayType.POLYLINE,
                        google.maps.drawing.OverlayType.RECTANGLE]
                    },
                    polygonOptions: {
                        fillColor: '#BCDCF9',
                        fillOpacity: 0.5,
                        strokeWeight: 2,
                        strokeColor: '#57ACF9',
                        clickable: true,
                        editable: true,
                        zIndex: 1
                    }
                });
            console.log(drawingManager);
            drawingManager.setMap(map);

                google.maps.event.addListener(drawingManager, 'polygoncomplete', function (polygon) {
                    for (var i = 0; i < polygon.getPath().getLength(); i++) {
                        console.log(polygon.getPath().getAt(i).toUrlValue(6));
                         polygonArray.push(polygon.getPath().getAt(i).toUrlValue(6));
                    }
                    ShowAddCompanyAreaModal();
                    drawingManager.setMap(null);
                });
        }
        function AddCompanyRoute() {
            polylineArray = [];
              var drawingManager2 = new google.maps.drawing.DrawingManager({
                    drawingMode: google.maps.drawing.OverlayType.POLYGON,
                    drawingControl: true,
                    drawingControlOptions: {
                        position: google.maps.ControlPosition.TOP_CENTER,
                        drawingModes: [
                        google.maps.drawing.OverlayType.MARKER,
                        google.maps.drawing.OverlayType.CIRCLE,
                        google.maps.drawing.OverlayType.POLYGON,
                        google.maps.drawing.OverlayType.POLYLINE,
                        google.maps.drawing.OverlayType.RECTANGLE]
                    },
                    polygonOptions: {
                        fillColor: '#BCDCF9',
                        fillOpacity: 0.5,
                        strokeWeight: 5,
                        strokeColor: '#57ACF9',
                        clickable: true,
                        editable: false,
                        zIndex: 1
                    }
                });
            console.log(drawingManager2);
            drawingManager2.setMap(map);

                google.maps.event.addListener(drawingManager2, 'polygoncomplete', function (polygon) {
                    for (var i = 0; i < polygon.getPath().getLength(); i++) {
                        console.log(polygon.getPath().getAt(i).toUrlValue(6));
                         polylineArray.push(polygon.getPath().getAt(i).toUrlValue(6));
                    }
                    ShowAddCompanyRouteModal();
                    drawingManager2.setMap(null);
                });
            }
        function SaveCompanyMapArea() {
            var areaName = $('#areaName').val();
            var companyAreaId = $('#companyAreaId').val();
            var areaType = $('#areaType').val();
            if (areaName == "" || areaType==null) {
                swal("Hata!", "Lütfen tüm alanları doldurunuz...", "error");
                return;
            }
            $.ajax({
                url: '@Url.Action("SaveCompanyMapArea", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    '_companyAreaId': companyAreaId,
                    '_areaName': areaName,
                    '_areaType': areaType,
                    '_polygonArray': polygonArray
                },
                success: function (data) {
                    if (data) {
                        polygonArray = [];
                        swal("Başarılı!", "Bölge Kaydedildi", "success").then((value) => {
                            window.location.reload();
                        });
                    }
                    else {
                        swal("Hata!", "Bölge kaydetmek için yetkiniz yok !", "error");
                    }
                },

            });

        }
        function SaveCompanyMapRoute() {
            var routeName = $('#routeName').val();
            var companyRouteId = $('#companyRouteId').val();
            if (routeName == "") {
                swal("Hata!", "Lütfen boş bırakmayınız...", "error");
                return;
            }
              $.ajax({
                url: '@Url.Action("SaveCompanyMapRoute", "Home")',
                type: 'POST',
                dataType: 'json',
                  data: {
                    '_companyRouteId' :companyRouteId,
                    '_routeName':routeName,
                    '_polylineArray':polylineArray
                },
                  success: function (data) {
                      if (data) {
                          polylineArray = [];
                          swal("Başarılı!", "Rota Kaydedildi", "success").then((value) => {
                              window.location.reload();
                          });
                      }
                      else {
                          swal("Hata!", "Rota kaydetmek için yetkiniz yok !", "error");
                      }
                },

            });

        }
        function UpdateAP() {
            var updateDeviceAPId = $('#updateDeviceAPId').val();
            var positionTimeAP = $('#positionTimeAP').val();
            var positionDistanceAP = $('#positionDistanceAP').val();
            var speedLimitAP = $('#speedLimitAP').val();
            var rolantiTimeAP = $('#rolantiTimeAP').val();
              $.ajax({
                url: '@Url.Action("UpdateAP", "Home")',
                type: 'POST',
                dataType: 'json',
                  data: {
                    '_fillDeviceLast':updateDeviceAPId,
                    '_positionTimeAP': positionTimeAP,
                    '_positionDistanceAP' :positionDistanceAP,
                    '_speedLimitAP':speedLimitAP,
                    '_rolantiTimeAP':rolantiTimeAP
                },
                  success: function (data) {
                      if (data) {
                          swal("Başarılı!", "Araç Programlandı", "success");
                          GetDeviceListAP();
                      }
                      else {
                          swal("Hata!", "Araç Programlanamadı !", "error");
                      }
                },

            });

        }
        function GetCompanyAreaById(id) {
        $('#addMapArea').modal('show');
        $.ajax({
            url: '@Url.Action("GetCompanyAreaById","Home")',
            dataType: 'Json',
            type: 'post',
            data: {
                '_id': id
            },
            success: function (data) {
                $('#companyAreaId').val(data["Id"]);
                $('#areaName').val(data["Name"]);
                $('#areaType').val(data["IsRestricted"]==true?1:2);
            }
        });
        }
        function GetCompanyRouteById(id) {
        $('#addMapRoute').modal('show');
        $.ajax({
            url: '@Url.Action("GetCompanyRouteById","Home")',
            dataType: 'Json',
            type: 'post',
            data: {
                '_id': id
            },
            success: function (data) {
                $('#companyRouteId').val(data["Id"]);
                $('#routeName').val(data["Name"]);
            }
        });
        }
        function AracProgramlama(id) {
        $('#addAP').modal('show');
        $.ajax({
            url: '@Url.Action("GetDeviceById","Home")',
            dataType: 'Json',
            type: 'post',
            data: {
                '_id': id
            },
            success: function (data) {
                $('#updateDeviceAPId').val(data["Id"]);
                $('#updateDeviceAPId').val(data["Id"]);
                $('#positionTimeAP').val(data["ProgrammedLocationSendTime"]);
                $('#positionDistanceAP').val(data["ProgrammedLocationDistance"]);
                $('#speedLimitAP').val(data["ProgrammedSpeedLimit"]);
                $('#rolantiTimeAP').val(data["ProgrammedWaitingTime"]);
            }
        });
    }
        function DeleteCompanyArea(id) {
            swal({
                title: "Emin misiniz?",
                text: "Bu bölgeyi silerseniz geri alamayacaksınız!!",
                icon: "warning",
                buttons: [
                    'Hayır, iptal et!',
                    'Evet, eminim!'
                ],
                dangerMode: true,
            }).then(function (isConfirm) {
                if (isConfirm) {
                    $.ajax({
                        url: '@Url.Action("DeleteCompanyArea","Home")',
                        datatype: 'json',
                        type: 'post',
                        data: {
                            "_id": id
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Bölge Silindi!", "success");
                                GetAreaListOfCompany();
                            }
                            else {
                                swal("Hata", "Bölge Silinemedi!", "error");
                            }
                        },

                    });
                }
            })
        }
        function DeleteCompanyRoute(id) {
            swal({
                title: "Emin misiniz?",
                text: "Bu rotayı silerseniz geri alamayacaksınız!!",
                icon: "warning",
                buttons: [
                    'Hayır, iptal et!',
                    'Evet, eminim!'
                ],
                dangerMode: true,
            }).then(function (isConfirm) {
                if (isConfirm) {
                    $.ajax({
                        url: '@Url.Action("DeleteCompanyRoute","Home")',
                        datatype: 'json',
                        type: 'post',
                        data: {
                            "_id": id
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Rota Silindi!", "success");
                                GetRouteListOfCompany();
                            }
                            else {
                                swal("Hata", "Rota Silinemedi!", "error");
                            }
                        },

                    });
                }
            })
        }
        var isGecmisKonumPlaying = false;
        var playInterval = 150;
        var isGecmisKonumShowing = false;
        var gecmisKonumData = null;
        var gecmisKonumDataIndex = null;
        var gecmisKonumMarker = null;
        var gecmisKonumMarker2 = null;
        function DisplayPastLocationOfDevicesOnMap(time) {
            var myLatLng2 = { lat: 41.015137, lng: 28.979530 };
            initMap2(myLatLng2);
             $('#bottomButtonsPlayButtons').css("display", "block");
            gecmisKonumDataIndex = 0;
            $('#mapToDrawPolylines').modal('show');
            $('#mapToDrawPolylinesHeader').text("Geçmiş Konum");

            var flightPlanCoordinates = [];
            var directionDegrees = [];
            var deviceId = lastOptionClickedDeviceId;
            $.ajax({
                url: '@Url.Action("DisplayPastLocationOfDevicesOnMap", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    '_deviceId': deviceId,
                    '_time' : time
                },
                success: function (data) {
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        flightPlanCoordinates.push({ lat: item.lat, lng: item.lng });
                        directionDegrees.push(item.DirectionDegree);
                        var myLatLng = {lat: item.lat, lng: item.lng};
                    }
                    gecmisKonumData = data;

                     initMap2(myLatLng);
                    for (var i = 0; i < gecmisKonumData.length; i++) {
                    if (gecmisKonumData[i].IoStatus.endsWith("0")) {
                        gecmisKonumDataIndex++;
                    }
                    else {
                        i = gecmisKonumData.length + 5;
                    }
                    }


                    if (gecmisKonumDataIndex >= gecmisKonumData.length) {
                        gecmisKonumDataIndex = 0;
                    }
                        var baslangicLatLong = flightPlanCoordinates[0];
                    var sonLatLong = flightPlanCoordinates[flightPlanCoordinates.length - 1];

                    var iconBaslangic= {
                                    url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-green.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(15, 15)
                    };
                    var iconBaslangic2= {
                                            path:google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                            scale:2,
                                            fillColor:"#52cd00",
                                            fillOpacity: 0.8,
                                            strokeWeight: 0,
                                            rotation: item.DirectionDegree,
                                            anchor: new google.maps.Point(0,15),
                                            labelOrigin: { x: 0, y: 0 },
                                            labelInBackground: true
                    };
                    gecmisKonumMarker = new google.maps.Marker({
                                    position: { lat: baslangicLatLong.lat, lng: baslangicLatLong.lng },
                                    icon: iconBaslangic,
                                    map: map2,
                                    title:'Başlangıç'
                    });
                    gecmisKonumMarker2 = new google.maps.Marker({
                                    position: { lat: baslangicLatLong.lat, lng: baslangicLatLong.lng },
                                    icon: iconBaslangic2,
                                    map: map2,
                                    title:'Başlangıç'
                                });

                    var iconBitis = {
                                    path:google.maps.SymbolPath.CIRCLE,
                                    scale:6,
                                    fillColor:"#ff0000",
                                    fillOpacity: 0.8,
                                    strokeWeight: 1,
                                    labelOrigin: { x: 0, y: 0 },
                                    labelInBackground: true,
                                    rotation: directionDegrees[directionDegrees.length-1]
                    };
                    var markerBitis = new google.maps.Marker({
                                    position: { lat: sonLatLong.lat, lng: sonLatLong.lng },
                                    icon: iconBitis,
                                    map: map2,
                                    title:'Bitiş'
                    });

                var flightPath = new google.maps.Polyline({
                    path: flightPlanCoordinates,
                    geodesic: true,
                    strokeColor: '#000000',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });

                    flightPath.setMap(map2);
                    gecmisKonumMarker.setMap(map2);
                    markerBitis.setMap(map2);
                },
                error: function (xhr) {
                    console.log("hata");
                    console.log(xhr);
                }
            });
        }
        function oynatBakalim() {
            if (isGecmisKonumPlaying) {
            var data = gecmisKonumData;

            gecmisKonumDataIndex++;
            var icon= {
                                            url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-green.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(15, 15)
            };
            var icon2= {
                                            path:google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                            scale:2,
                                            fillColor:"#52cd00",
                                            fillOpacity: 0.8,
                                            strokeWeight: 0,
                                            rotation: data[gecmisKonumDataIndex].DirectionDegree,
                                            anchor: new google.maps.Point(0,8),
                                            labelOrigin: { x: 0, y: 0 },
                                            labelInBackground: true
                    };

                var obj = { lat: data[gecmisKonumDataIndex].lat, lng: data[gecmisKonumDataIndex].lng };
            animatedMove(gecmisKonumMarker,gecmisKonumMarker2, 0.1, gecmisKonumMarker.position, obj);
            gecmisKonumMarker.setIcon(icon);
            gecmisKonumMarker2.setIcon(icon2);
            gecmisKonumMarker.setMap(map2); gecmisKonumMarker2.setMap(map2);
            //map2.panTo({ lat: data[gecmisKonumDataIndex]["Latitude"], lng: data[gecmisKonumDataIndex]["Longtitude"] });

            /*var day = data[gecmisKonumDataIndex].Date.split("-")[2].split('T')[0];
            var month = data[gecmisKonumDataIndex].Date.split("-")[1];
            var year = data[gecmisKonumDataIndex].Date.split("-")[0];

            var hour = data[gecmisKonumDataIndex].Date.split("T")[1].split(':')[0];
            var minute = data[gecmisKonumDataIndex].Date.split("T")[1].split(':')[1];

            var tamTarih = day + "/" + month + "/" + year + " " + hour + ":" + minute;*/

            $("#playInfoTarih").html("Tarih: " + data[gecmisKonumDataIndex].Date);
            $("#playInfoAnlikHiz").html("Anlık Hız: " + data[gecmisKonumDataIndex].KmPerHour + " km/s");
            //$("#playInfoAdres").html(data[gecmisKonumDataIndex].Location);

            setTimeout(oynatBakalim, playInterval);
        }
        }
        function animatedMove(marker,marker2, t, current, moveto) {
        var lat = current.lat();
        var lng = current.lng();

        var deltalat = (moveto.lat - current.lat()) / 100;
        var deltalng = (moveto.lng - current.lng()) / 100;

        var delay = 10 * t;
        for (var i = 0; i < 100; i++) {
            (function (ind) {
                setTimeout(
                    function () {
                        var lat = marker.position.lat();
                        var lng = marker.position.lng();
                        lat += deltalat;
                        lng += deltalng;
                        latlng = new google.maps.LatLng(lat, lng);
                        marker.setPosition(latlng);
                        marker2.setPosition(latlng);
                    }, delay * ind
                );
            })(i)
        }
    }
    </script>


    <script>
        $(document).ready(function () {
            GetDevicesForFrontSide();
            jQuery(function ($) {
                $('#pastLocationListContainer').on('scroll', function () {
                    if ($(this).scrollTop() + $(this).innerHeight() >= $(this)[0].scrollHeight) {
                        GetPastLocationList();
                    }
                })
            });
            //jQuery(function ($) {
            //    $('#tabTarget1').on('scroll', function () {
            //        if ($(this).scrollTop() + $(this).innerHeight() >= $(this)[0].scrollHeight) {
            //            GetDevicesForFrontSide();
            //        }
            //    })
            //});
            //jQuery(function ($) {
            //    $('#companyVehiclesTableContainer').on('scroll', function () {
            //        if ($(this).scrollTop() + $(this).innerHeight() >= $(this)[0].scrollHeight) {
            //            GetDeviceListTSV();
            //        }
            //    })
            //});
            //jquery(function ($) {
            //    $('#tablecontainertlplt').on('scroll', function () {
            //        if ($(this).scrolltop() + $(this).innerheight() >= $(this)[0].scrollheight) {
            //            GetLastLocationTimeOfDevicesWithGroup();
            //        }
            //    })
            //});
            jQuery(function ($) {
                $('#vehicleListScroll').on('scroll', function () {
                    if ($(this).scrollTop() + $(this).innerHeight() >= $(this)[0].scrollHeight) {
                        GetDevicesInformationForFrontSide();
                    }
                })
            });



            $(".select2").select2();

            $('.dropdown-submenu a.test').on("click", function (e) {
                $(this).next('ul').toggle();
                e.stopPropagation();
                e.preventDefault();
            });

            $(".caret").removeAttr("class").attr("class", "	fa fa-angle-right pull-right").attr("style", "margin-top: 10px !important");
        });


        function getOffset(el) {
            var _x = 0;
            var _y = 0;
            while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {
                _x += el.offsetLeft - el.scrollLeft;
                _y += el.offsetTop - el.scrollTop;
                el = el.offsetParent;
            }
            return { top: _y, left: _x };
        }

        function showSubMenu(elem) {

            $("#rightClickMenuContainer").fadeIn(250);
            var objOffset = getOffset(elem);
            var height = $("#rightClickMenu").height();
            var toptop = 0;
            var x1 = parseInt(elem.getBoundingClientRect().top);
            var x2 = parseInt($("#rightClickMenu").height());
            var xR = x1 - x2;
            if (x1 < 550) {
                $("#rightClickMenu").css("margin-top", x1);

                $("#rightClickMenu").css("margin-left", objOffset.left + 20);
            }
            else {
                $("#rightClickMenu").css("margin-top", x1 - 180);

                $("#rightClickMenu").css("margin-left", objOffset.left + 20);
            }


            $("#rightClickMenu").css("margin-left", objOffset.left + 20);
        }

    </script>
    <script type="text/javascript">

        $('#groupIdTLPLT').change(function () {
            $('#tableContainerTLPLT tbody').html("");
            GetLastLocationTimeOfDevicesWithGroup();
        });
        var lastDeviceId = 0;
        function GetLastLocationTimeOfDevicesWithGroup() {
            $('#loadingContainerTLPLT').show();
            var groupIdTLPLT = $('#groupIdTLPLT').val();
            $.ajax({
                url: '@Url.Action("GetLastLocationTimeOfDevicesWithGroup","Home")',
                dataType: 'json',
                type: 'json',
                data: {
                    '_groupIdTLPLT': groupIdTLPLT,
                    '_lastDeviceId':lastDeviceId
                },
                success: function (data) {
                    $('#tableContainerTLPLT tbody').html("");
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        var td = '<tr><td><input style="font-size: 10px;" type="checkbox" id=' + item.LastDeviceId + ' class="md-check"><label style="font-size: 10px;" for=' + item.LastDeviceId + '><span></span><span class="check"></span><span class="box"></span></label></td> <td>' + item.CarPlateNumber + '</td> <td>' + item.KmPerHour + ' </td>  <td>' + item.LastLocationTime + ' </td></tr> ';
                        $('#tableContainerTLPLT tbody').append(td);
                    }
                    $('#loadingContainerTLPLT').hide();
                    lastDeviceId=data[data.length - 1].Id;
                }
            });
        }


        //$(function () {
        //    if ($('#searchCarPlateNumberToFilter').val() == "") {
        //        GetDevicesForFrontSide();
        //    }
        //});
        @*function GetLatLongFromVehicleName() {
            var searchCarPlateNumberToFilter = $('#searchCarPlateNumberToFilter').val();
                    $.ajax({
                    url: '@Url.Action("GetLatLongFromVehicleName","Home")',
                    type: 'POST',
                    dataType: 'json',
                    async : false,
                    data: {
                        '_carPlateNumber' :  searchCarPlateNumberToFilter
                    },
                    success: function (data) {
                        if (data) {
                                var myLatLng={ lat: data.lat, lng: data.lng };
                                 map.setCenter(myLatLng);
                                 map.setZoom(16);
                        }
                    }
                });
        }*@
        var lastDeviceId = 0;
        $('#chooseDisplayVehicle').change(function () {
            var showOrNot = $('#chooseDisplayVehicle').val();
            if (showOrNot == 2) {
                for (var i = 0; i < oldLabelMarkers.length; i++) {
                    oldLabelMarkers[i].setMap(null);
                }
                oldLabelMarkers = [];
            }
            else if (showOrNot == 1) {
                recreateTheMarkers();
                //var timeToShowDevices = parseInt($('#userHomepageRefreshTime').text()) / 1000;
                //var textToShow = "Araç adları " + timeToShowDevices + " sn içinde gösterilecek...\n Anasayfa Yenileme Süresi değiştirmek için => Kullanıcı İşlemleri => Kullanıcı Bilgileri ";
                //if (timeToShowDevices > 30) {
                //    textToShow = "Araç adları " + (timeToShowDevices / 60) + " dk içinde gösterilecek...\n Anasayfa Yenileme Süresi değiştirmek için => Kullanıcı İşlemleri => Kullanıcı Bilgileri";
                //    if ((timeToShowDevices / 60) > 10) {
                //        textToShow = "Anasayfa Yenileme Süresi Yok...\n Anasayfa Yenileme Süresi değiştirmek için => Kullanıcı İşlemleri => Kullanıcı Bilgileri";
                //    }
                //}
                //swal("", textToShow, "info");
            }
            stopOrContinue = 1;
        });
        var lastDevicesFlag = [];
        var killOrContinue;//Kill timeOut function and start from beginning
        function userInformationUpdate() {
                var userNameTU = $('#userNameTU').val();
                var userLastNameTU = $('#userLastNameTU').val();
                var emailTU = $('#emailTU').val();
                var homepageRefreshTimeTU = $('#homepageRefreshTimeTU').val();
                    $.ajax({
                        url: '@Url.Action("UpdateUserInf", "Home")',
                        dataType: 'json',
                        data: {
                            "_userNameTU": userNameTU,
                            "_userLastNameTU": userLastNameTU,
                            "_emailTU": emailTU,
                            "_homepageRefreshTimeTU": homepageRefreshTimeTU,
                        },
                        success: function (data) {
                            if (data) {
                                var oldRefreshTime = $('#userHomepageRefreshTime').text() / 1000 / 60;
                                $('#userHomepageRefreshTime').text("" + homepageRefreshTimeTU + "");
                                var newRefreshTime =  $('#userHomepageRefreshTime').text() / 1000 / 60;
                                if (oldRefreshTime != newRefreshTime) {
                                    killOrContinue = clearTimeout(killOrContinue);
                                    if (newRefreshTime <= 10) {
                                        GetDevicesForFrontSide();
                                    }
                                }
                                swal("Başarılı !", "Kullanıcı Bilgileri Güncellendi", "success");
                            }
                            else if(data==false) {
                                swal("Hata !", "Güncellenemedi", "error");
                                return;
                            }
                        }
                    });
        }

        var dashTotalKM = 0;
        function GetDevicesForFrontSide() {
            var acikSayac = 0;
            var kapaliSayac = 0;
            var sinyalSayac = 0;
            $.ajax({
                url: '@Url.Action("GetDevicesForFrontSide", "Home")',
                type: 'POST',
                dataType: 'json',
                success: function (data) {
                    console.log(data);
                    lastDevicesFlag = [];
                    lastDevicesFlag = data;
                    var latLongList = [];
                    if (data) {

                            for (var i = 0; i < oldMarkers.length; i++) {
                                oldMarkers[i].setMap(null);
                            }
                            oldMarkers = [];
                            if (oldLabelMarkers.length != 0) {
                                for (var i = 0; i < oldLabelMarkers.length; i++) {
                                    oldLabelMarkers[i].setMap(null);
                                }
                            }
                            oldLabelMarkers = [];

                        if (showAllVehiclesOrGroupVehicles == 0) {
                            $('#deviceListLeftSide').html('');
                        }
                        dashTotalKM = 0;
                        var latControl = [];
                        var longControl = [];
                        for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            var html = "";
                            var activeOrPassive = '';
                            var title = "";
                            var isContains = true;
                            //if (latControl.includes(item.Latitude) && longControl.includes(item.Longtitude)) {
                            //    debugger;
                            //    latControl.push(item.Latitude);
                            //    longControl.push(item.Longtitude);
                            //    item.Latitude += 0.10;
                            //    item.Longtitude += 0.10;
                            //}
                            if (showAllVehiclesOrGroupVehicles == 0) {
                                if (isFilteringToAll == 1) {

                                    isContains = deviceIdsFlag.includes(item.LastDeviceId);
                                }
                                if (isContains) {
                                    if (item.IoStatus == "1") {
                                        title = "Kontak Açık";
                                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/green.png" height="32" width="32"></a>';
                                    }
                                    if (item.IoStatus == "0" && item.ActivityTime == "Aktif") {
                                        title = "Kontak Kapalı";
                                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/red.png" height="32" width="32"></a>';
                                    }
                                    if (item.ActivityTime == "Pasif") {
                                        title = "Sinyal Yok";
                                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/black.png" height="32" width="32"></a>';
                                    }
                                    var fullKonum = item.Konum;
                                    //if (item.Konum!=null && item.Konum.length > 35)
                                    //    item.Konum = item.Konum.substring(0, 35) + "...";

                                    html += "<li style='padding:0px;'>";
                                    html += "<div class='row' style='font-size:11px;'>";
                                    html += "<div class='col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2' style='margin-top:40px;'>" + activeOrPassive + "  </div>";
                                    html += '<div class="col-md-8 col-8 col-xs-8 col-lg-8 col-sm-8 font-6 mt-2"> <div > <center><button onclick="DisplayDeviceOnMapByDeviceId(' + item.LastDeviceId + ')" data-toggle="tooltip" title="' + item.CarPlateNumber + '" type="button" class="btn"   style="font-weight:bold;font-family:monospace;font-size:18px;color:white;"+>' + item.CarPlateNumber +"  "+item.Employee+ '</button><center></div><a data-toggle="tooltip" title="' + fullKonum + '" ><label  style="margin-top:2px;color:white;">' + item.Konum + '</label></a> <br>  <i class="fa fa-map-marker" aria-hidden="true"></i> <label data-toggle="tooltip" title="Günlük Katedilen Km" style="color:white;" id="deviceTotalKm' + item.LastDeviceId + '">'+item.TotalKmDaily+' </label><i class="fa fa-tachometer ml-3" aria-hidden="true"></i> <label data-toggle="tooltip" style="color:white;" title="Anlık Km">' + item.KmPerHour + '</label><i class="fa fa-clock-o ml-3" aria-hidden="true" style="margin-left: 1px;"></i>  <label data-toggle="tooltip" style="color:white;"  title="Son Konum Zamanı" id="deviceLastLocationTime' + item.LastDeviceId + '">'+item.LastDeviceDataCreateDate+'</label> </div>';
                                    html += '<div class="col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2" style="margin-top:33px;right:20px"> <a href="javascript:;" onclick="lastOptionClickedDeviceId = ' + item.LastDeviceId + '; showSubMenu(this)"> <i style="color:black;"  class="ml-2 mt-2 fa fa-cogs fa-lg"></i>  </a>  </div>';
                                    html += '</div>';
                                    html += "</li>";
                                    $("#deviceListLeftSide").append(html);

                                    dashTotalKM = parseInt(dashTotalKM) + parseInt(item.TotalKmDaily);
                                    //if (dashTotalKM < 0) {
                                     //   console.log(item.CarPlateNumber);
                                    //}
                                    $('#kmDashboard').text(dashTotalKM + " km");

                                    @*$.ajax({
                                        url: '@Url.Action("GetTotalKMBetweenTwoDateOfADevice", "Home")',
                                        type: 'post',
                                        dataType: 'json',
                                        data: {
                                            '_deviceId': item.LastDeviceId
                                        },
                                        success: function (returnedData) {
                                            dashTotalKM += parseInt(returnedData.TotalKM);
                                            $('#kmDashboard').text(dashTotalKM + " km");
                                            $('#deviceTotalKm' + returnedData.DeviceId).text(returnedData.TotalKM + "km");
                                            $('#deviceTotalKm' + returnedData.DeviceId).remove("i");
                                            for (var i = 0; i < lastDevicesFlag.length; i++) {
                                                var flagDevice = lastDevicesFlag[i];
                                                if (flagDevice.LastDeviceId == returnedData.DeviceId)
                                                    flagDevice.TotalKmDaily = returnedData.TotalKM;
                                            }
                                            //$('#totalKmDailyMarker' + returnedData.DeviceId).text(returnedData.TotalKM + "km");
                                            //$('#totalKmDailyMarker' + returnedData.DeviceId).remove("i");
                                        }
                                    });*@
                                    @*$.ajax({
                                        url: '@Url.Action("GetLastLocationTimeOfDevice", "Home")',
                                        type: 'post',
                                        dataType: 'json',
                                        data: {
                                            '_deviceId': item.LastDeviceId
                                        },
                                        success: function (returnedData) {
                                            $('#deviceLastLocationTime' + returnedData.DeviceId).text(returnedData.LastLocationTime);
                                            $('#deviceLastLocationTime' + returnedData.DeviceId).remove("i");
                                             for (var i = 0; i < lastDevicesFlag.length; i++) {
                                                var flagDevice = lastDevicesFlag[i];
                                                if (flagDevice.LastDeviceId == returnedData.DeviceId)
                                                    flagDevice.LastLocationTime = returnedData.LastLocationTime;
                                            }
                                            //$('#totalKmDailyMarker' + returnedData.DeviceId).text(returnedData.TotalKM + "km");
                                            //$('#totalKmDailyMarker' + returnedData.DeviceId).remove("i");
                                        }
                                    });*@
                                }
                            }

                            if (stopOrContinue != 0) { //Markerlar gösterilmeye devam ediyorsa

                                var kontakAcikKapali = item.IoStatus == "1" ? "Açık" : "Kapalı";
                                // for infoWindow
                                var content =
                                    '<div style="width:280px;max-height:200px; overflow: inherit;z-index:9999999999999999999999999999999999999999999999999999999999999999999999999 !important;" >' +
                                    '<ul id="vehicleInfo" class=" list-group">' +
                                    '<h4>Arac Bilgileri</h4>' +
                                    '<li class="list-group-item active">Plaka : ' + item.CarPlateNumber + '</li>' +
                                    '<li class="list-group-item ">Tarih : ' + item.LastDeviceDataCreateDate + '</li>' +
                                    '<li class="list-group-item ">Hız : ' + item.KmPerHour + '</li>' +
                                    '<li class="list-group-item ">Konum : ' + item.Konum + '</li>' +
                                    '<li class="list-group-item ">Enlem : ' + item.Latitude + '</li>' +
                                    '<li class="list-group-item ">Boylam : ' + item.Longtitude + '</li>' +
                                    '<li class="list-group-item ">Rakım (Yukseklik) : ' + item.Altitude + '</li>' +
                                              '<li class="list-group-item ">Kontak Durumu : ' +kontakAcikKapali + '</li>' +
                                            //'<li class="list-group-item " >Günlük Km :<label id="totalKmDailyMarker' + item.LastDeviceId + '"><i class="fa fa-spinner fa-pulse"></i></label> </li> ' +
                                            ' </ul> ' +
                                        ' </div>';

                                var icon = null;
                                var icon2 = null;
                                if (item.ActivityTime == "Aktif") {
                                    if (item.IoStatus == "1") {
                                        acikSayac++;
                                        if (item.VehicleType == "0") {
                                            icon = {
                                                url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-green.png',
                                                size: new google.maps.Size(32, 32),
                                                anchor: new google.maps.Point(15, 15),
                                            };
                                            icon2 = {
                                                path: google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                                scale: 2,
                                                fillColor: "#52cd00",
                                                fillOpacity: 0.8,
                                                strokeWeight: 0,
                                                rotation: item.DirectionDegree,
                                                anchor: new google.maps.Point(0, 8),
                                                labelOrigin: { x: 0, y: 0 },
                                                labelInBackground: true
                                            };
                                        }
                                        if (item.VehicleType == "2") {
                                            if (item.DirectionDegree >= 90 && item.DirectionDegree <= 360) {
                                                icon = {
                                                    url: 'https://i.hizliresim.com/r0Gl53.png',
                                                    size: new google.maps.Size(32, 32),
                                                    anchor: new google.maps.Point(15, 5),
                                                    rotation: item.DirectionDegree
                                                };
                                            }
                                            else {
                                                icon = {
                                                    url: 'https://i.hizliresim.com/r0Gl53.png',
                                                    size: new google.maps.Size(32, 32),
                                                    anchor: new google.maps.Point(15, 15),
                                                    rotation: item.DirectionDegree
                                                };
                                            }
                                            icon2 = {
                                                path: google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                                scale: 2,
                                                fillColor: "#52cd00",
                                                fillOpacity: 0.8,
                                                strokeWeight: 0,
                                                rotation: item.DirectionDegree,
                                                anchor: new google.maps.Point(0, 8),
                                                labelOrigin: { x: 0, y: 0 },
                                                labelInBackground: true
                                            };
                                        }
                                        if (item.VehicleType == "3") {
                                            if (item.DirectionDegree >= 90 && item.DirectionDegree <= 360) {
                                                icon = {
                                                    url: 'https://cdn4.iconfinder.com/data/icons/motorcycle-13/64/adventure-touring-motorcycle-transportation-vehicle-biker-32.png',
                                                    size: new google.maps.Size(32, 32),
                                                    anchor: new google.maps.Point(10, 5),
                                                    rotation: item.DirectionDegree
                                                };
                                            }
                                            else {
                                                icon = {
                                                    url: 'https://cdn4.iconfinder.com/data/icons/motorcycle-13/64/adventure-touring-motorcycle-transportation-vehicle-biker-32.png',
                                                    size: new google.maps.Size(32, 32),
                                                    anchor: new google.maps.Point(10, 10),
                                                    rotation: item.DirectionDegree
                                                };
                                            }
                                            icon2 = {
                                            path:google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                            scale:2,
                                            fillColor:"#52cd00",
                                            fillOpacity: 0.8,
                                            strokeWeight: 0,
                                            rotation: item.DirectionDegree,
                                            anchor: new google.maps.Point(0,8),
                                            labelOrigin: { x: 0, y: 0 },
                                            labelInBackground: true
                                        };
                                        }
                                        if (item.VehicleType == "4") {
                                            if (item.DirectionDegree >= 90 && item.DirectionDegree <= 360) {
                                                icon = {
                                                    url: 'https://i.hizliresim.com/5Nj5GL.png',
                                                    size: new google.maps.Size(32, 32),
                                                    anchor: new google.maps.Point(10, 0),
                                                    rotation: item.DirectionDegree
                                                };
                                            }
                                            else {
                                                icon = {
                                                    url: 'https://i.hizliresim.com/5Nj5GL.png',
                                                    size: new google.maps.Size(32, 32),
                                                    anchor: new google.maps.Point(10, 10),
                                                    rotation: item.DirectionDegree
                                                };
                                            }
                                            icon2 = {
                                                path: google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                                scale: 2,
                                                fillColor: "#52cd00",
                                                fillOpacity: 0.8,
                                                strokeWeight: 0,
                                                rotation: item.DirectionDegree,
                                                anchor: new google.maps.Point(0, 8),
                                                labelOrigin: { x: 0, y: 0 },
                                                labelInBackground: true
                                            };
                                        }
                                        if (item.VehicleType == "5") {
                                            icon2 = {
                                                    path: google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                                    scale: 2,
                                                    fillColor: "#52cd00",
                                                    fillOpacity: 0.8,
                                                    strokeWeight: 0,
                                                    rotation: item.DirectionDegree,
                                                    anchor: new google.maps.Point(0, 8),
                                                    labelOrigin: { x: 0, y: 0 },
                                                    labelInBackground: true
                                                };
                                            if (item.DirectionDegree >= 90 && item.DirectionDegree <= 360) {
                                                icon = {
                                                    url: '../Content/assets/images/MinibusGreen.png',
                                                    size: new google.maps.Size(32, 32),
                                                    anchor: new google.maps.Point(10, 0),
                                                    rotation: item.DirectionDegree
                                                };
                                            }
                                            else {
                                                icon = {
                                                    url: '../Content/assets/images/MinibusGreen.png',
                                                    size: new google.maps.Size(32, 32),
                                                    anchor: new google.maps.Point(10, 10),
                                                    rotation: item.DirectionDegree
                                                };
                                            }

                                        }

                                var image = null;
                                        var markerLabel = null;

                                        if ($('#chooseDisplayVehicle').val() == 1) { //Marker labeller gösterilmesi isteniyorsa.

                                            if (item.IoStatus != "1" || item.ActivityTime == "Pasif" && item.VehicleType == "0") {
                                                image = {
                                                    url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                    size: new google.maps.Size(60, 13),
                                                    anchor: new google.maps.Point(15, -25)
                                                };
                                            }
                                            else if (item.DirectionDegree >= 90 && item.DirectionDegree <= 270 && item.VehicleType == "0") {
                                                image = {
                                                    url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                    size: new google.maps.Size(60, 13),
                                                    anchor: new google.maps.Point(30, -15)
                                                };
                                            }
                                            else if (item.VehicleType != "0") {
                                                image = {
                                                    url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                    size: new google.maps.Size(60, 13),
                                                    anchor: new google.maps.Point(15, -25)
                                                };
                                            }
                                            else {
                                                image = {
                                                    url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                    size: new google.maps.Size(60, 13),
                                                    anchor: new google.maps.Point(30, -10)
                                                };
                                            }
                                            markerLabel = new google.maps.Marker({
                                                position: { lat: item.Latitude, lng: item.Longtitude },
                                                title: item.CarPlateNumber,
                                                icon: image,
                                                map: map,
                                                label: {
                                                    text: item.CarPlateNumber.substring(0, 8),
                                                    color: '#222222',
                                                    fontSize: '12px',
                                                    fontWeight: 'bold'
                                                }
                                            });
                                        }
                                        var marker = new google.maps.Marker({
                                            position: { lat: item.Latitude, lng: item.Longtitude },
                                            title: item.CarPlateNumber,
                                            icon: icon,
                                            map: map,
                                        });

                                        var marker2 = new google.maps.Marker({
                                            position: { lat: item.Latitude, lng: item.Longtitude },
                                            title: item.CarPlateNumber,
                                            icon: icon2,
                                            map: map,
                                        });

                                var infowindow = new google.maps.InfoWindow();
                                google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                                    return function () {
                                        infowindow.setContent(content);
                                        map.setCenter({ lat: item.Latitude, lng: item.Longtitude });
                                        map.setZoom(8);
                                        infowindow.open(map, marker);
                                        //windows.push(infowindow);
                                        google.maps.event.addListener(map, 'click', function () {
                                            infowindow.close();
                                        });
                                    };
                                })(marker, content, infowindow));
                                if (markerLabel != null)
                                    oldLabelMarkers.push(markerLabel);
                                        oldMarkers.push(marker);
                                            oldMarkers.push(marker2);
                                    }
                                    else {
                                        kapaliSayac++;
                                        if (item.VehicleType == "0") {
                                            icon = {
                                                url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-red.png',
                                                anchor: new google.maps.Point(0, 0),
                                                rotation: item.DirectionDegree
                                            };
                                        }
                                        if (item.VehicleType == "2") {
                                            icon = {
                                            url: 'https://i.hizliresim.com/NLjvDa.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                        }
                                        if (item.VehicleType == "3") {
                                            icon = {
                                            url: 'https://cdn4.iconfinder.com/data/icons/motorcycle-13/64/rally-motorcycle-transportation-vehicle-biker-32.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                        }
                                        if (item.VehicleType == "4") {
                                            icon = {
                                            url: 'https://cdn0.iconfinder.com/data/icons/transportation-40/512/03_Taxi-32.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                        }
                                        if (item.VehicleType == "5") {
                                            icon = {
                                            url: '../Content/assets/images/MinibusRed.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                        }
                                        				var image = null;
                                var markerLabel = null;
                                        if ($('#chooseDisplayVehicle').val() == 1) { //Marker labeller gösterilmesi isteniyorsa.

                                            if (item.IoStatus != "1" || item.ActivityTime == "Pasif") {
                                                image = {
                                                    url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                    size: new google.maps.Size(60, 13),
                                                    anchor: new google.maps.Point(15, -25)
                                                };
                                            }
                                            else if (item.DirectionDegree >= 90 && item.DirectionDegree <= 270) {
                                                image = {
                                                    url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                    size: new google.maps.Size(60, 13),
                                                    anchor: new google.maps.Point(15, -25)
                                                };
                                            }
                                            else {
                                                image = {
                                                    url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                    size: new google.maps.Size(60, 13),
                                                    anchor: new google.maps.Point(15, -25)
                                                };
                                            }
                                            markerLabel = new google.maps.Marker({
                                                position: { lat: item.Latitude, lng: item.Longtitude },
                                                title: item.CarPlateNumber,
                                                icon: image,
                                                map: map,
                                                label: {
                                                    text: item.CarPlateNumber.substring(0, 8),
                                                    color: '#222222',
                                                    fontSize: '12px',
                                                    fontWeight: 'bold'
                                                }
                                            });

                                        }
                                var marker = new google.maps.Marker({
                                    position: { lat: item.Latitude, lng: item.Longtitude },
                                    title: item.CarPlateNumber,
                                    icon: icon,
                                    map: map,
                                });

                                var infowindow = new google.maps.InfoWindow();
                                google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                                    return function () {
                                        map.setCenter({ lat: item.Latitude, lng: item.Longtitude });
                                        map.setZoom(8);
                                        infowindow.setContent(content);
                                        infowindow.open(map, marker);
                                        //windows.push(infowindow);
                                        google.maps.event.addListener(map, 'click', function () {
                                            infowindow.close();
                                        });
                                    };
                                })(marker, content, infowindow));
                                if (markerLabel != null)
                                    oldLabelMarkers.push(markerLabel);
                                oldMarkers.push(marker);
                                    }
                                }
                                else if (item.ActivityTime == "Pasif") {
                                    //icon = {
                                    //    path: google.maps.SymbolPath.CIRCLE,
                                    //    scale: 7,
                                    //    fillColor: "#000000",
                                    //    fillOpacity: 0.8,
                                    //    strokeWeight: 1
                                    //};
                                    sinyalSayac++;
                                    if (item.VehicleType == "0") {
                                        icon = {
                                            url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-black.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                    }
                                    if (item.VehicleType == "2") {
                                        icon = {
                                            url: 'https://i.hizliresim.com/mX0YM8.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                    }
                                    if (item.VehicleType == "3") {
                                        icon = {
                                            url: 'https://cdn4.iconfinder.com/data/icons/vehicle-glyph/64/22_motorcycle_vespa_Vehicle_Transportation-32.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                    }
                                    if (item.VehicleType == "4") {
                                        icon = {
                                            url: 'https://cdn4.iconfinder.com/data/icons/car-set-volume-6-1/512/car-43-32.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                    }
                                    if (item.VehicleType == "5") {
                                        icon = {
                                            url: 'http://individual.icons-land.com/IconsPreview/Transport/PNG/Cars/32x32/Minibus_Black.png',
                                            size: new google.maps.Size(32, 32),
                                            anchor: new google.maps.Point(0, 0)
                                        };
                                    }
                                    				var image = null;
                                var markerLabel = null;
                                if ($('#chooseDisplayVehicle').val() == 1) { //Marker labeller gösterilmesi isteniyorsa.

                                      if (item.IoStatus != "1" || item.ActivityTime == "Pasif") {
                                            image = {
                                                url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                size: new google.maps.Size(60, 13),
                                                anchor: new google.maps.Point(15, -25)
                                            };
                                         }
                                         else if (item.DirectionDegree >= 90 && item.DirectionDegree <= 270) {
                                             image = {
                                                 url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                 size: new google.maps.Size(60, 13),
                                                 anchor: new google.maps.Point(30, -10)
                                             };
                                         }
                                         else {
                                             image = {
                                                 url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                                 size: new google.maps.Size(60, 13),
                                                 anchor: new google.maps.Point(15, -25)
                                             };
                                         }
                                    markerLabel = new google.maps.Marker({
                                             position: { lat: item.Latitude, lng: item.Longtitude },
                                             title: item.CarPlateNumber,
                                             icon: image,
                                             map: map,
                                             label: {
                                                 text: item.CarPlateNumber.substring(0, 8),
                                                 color: '#222222',
                                                 fontSize: '12px',
                                                 fontWeight: 'bold'
                                             }
                                         });

                                }
                                var marker = new google.maps.Marker({
                                    position: { lat: item.Latitude, lng: item.Longtitude },
                                    title: item.CarPlateNumber,
                                    icon: icon,
                                    map: map,
                                });

                                var infowindow = new google.maps.InfoWindow();
                                google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                                    return function () {
                                        map.setCenter({ lat: item.Latitude, lng: item.Longtitude });
                                        map.setZoom(8);
                                        infowindow.setContent(content);
                                        infowindow.open(map, marker);
                                        //windows.push(infowindow);
                                        google.maps.event.addListener(map, 'click', function () {
                                            infowindow.close();
                                        });
                                    };
                                })(marker, content, infowindow));
                                if (markerLabel != null)
                                    oldLabelMarkers.push(markerLabel);
                                oldMarkers.push(marker);
                                }


                            }
                        }
                         $('#pacik').text(acikSayac); $('#pkapali').text(kapaliSayac); $('#psinyal').text(sinyalSayac);
                    }
                    console.log("called");
                     var refreshTime = parseInt($('#userHomepageRefreshTime').text());
                       killOrContinue= setTimeout(function () {
                           GetDevicesForFrontSide()
                        }, refreshTime);
                        console.log("called");
                }
            });
        }
        function DisplayVehicles(showStatus) {
            if (showStatus == 0) {
                if (oldMarkers.length > 0) {
                    for (var i = 0; i < oldMarkers.length; i++) {
                        oldMarkers[i].setMap(null);
                    }
                }
                oldMarkers = [];
                if (oldLabelMarkers.length > 0) {
                    for (var i = 0; i < oldLabelMarkers.length; i++) {
                        oldLabelMarkers[i].setMap(null);
                    }
                }
                oldLabelMarkers = [];
                stopOrContinue = 0;
                return;
            }
            recreateTheMarkers();




            //var timeToShowDevices = parseInt($('#userHomepageRefreshTime').text()) / 1000;
            //var textToShow = "Araçlar " + timeToShowDevices + " sn içinde gösterilecek...\n Anasayfa Yenileme Süresi değiştirmek için => Kullanıcı İşlemleri => Kullanıcı Bilgileri ";
            //if (timeToShowDevices > 30) {
            //    textToShow = "Araçlar "+(timeToShowDevices / 60) + " dk içinde gösterilecek...\n Anasayfa Yenileme Süresi değiştirmek için => Kullanıcı İşlemleri => Kullanıcı Bilgileri";
            //    if ((timeToShowDevices / 60) > 10 && oldMarkers.length==0) {
            //        killOrContinue = clearTimeout(killOrContinue);
            //        stopOrContinue = 1;
            //        GetDevicesForFrontSide();
            //        textToShow = "";
            //    }
            //}
            //if (oldMarkers.length == 0 && textToShow!="") {
            //    swal("", textToShow, "info");
            //}

        }
        var lastDeviceInformationId = 0;
        function GetDevicesInformationForFrontSide() {
            $('#loadingContainerDIFFS').show();
            $.ajax({
                url: '@Url.Action("GetDevicesInformationForFrontSide", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    "_lastDeviceId": lastDeviceInformationId
                },
                success: function (data) {
                    $('#loadingContainerDIFFS').hide();
                    if (data) {
                     if (lastDeviceInformationId == data[data.length - 1].Id)
                      {
                          return;
                      }
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        var activeOrPassive = "";
                        var activeOrPassive2="";
                        if (item.IoStatus.endsWith("1")) {
                                title = "Kontak Açık";
                                activeOrPassive = '<a data-toggle="tooltip" title="'+title+'"><i   style="color:#66ff00;" class="fa fa-circle fa-lg" aria-hidden="true"></i></a>';
                        }
                        if(item.IoStatus.endsWith("0")) {
                                title = "Kontak Kapalı";
                                activeOrPassive = '<a data-toggle="tooltip" title="'+title+'"><i   style="color:red;" class="fa fa-circle fa-lg" aria-hidden="true"></i></a>';
                        }
                        if (item.ActivityTime=="Kapali") {
                                title2 = "Pasif";
                                activeOrPassive2 = '<a data-toggle="tooltip" title="'+title2+'"><i   style="color:black;" class="fa fa-circle fa-lg" aria-hidden="true"></i></a>';
                        }
                        if(item.ActivityTime=="Acik") {
                                title2 = "Aktif";
                                activeOrPassive2 = '<a data-toggle="tooltip" title="'+title2+'"><i   style="color:#66ff00;" class="fa fa-circle fa-lg" aria-hidden="true"></i></a>';
                        }
                        var html = "";
                        html += "<tr>";
                        html += "<td>" + item.CarPlateNumber + "</td>";
                        html += "<td>" + activeOrPassive2 + "</td>";
                        html += "<td>" + activeOrPassive + "</td>";
                        html += "<td>" + item.LastLocationTime + "</td>";
                        html += "<td>" + item.DirectionDegree + "</td>";
                        html += "<td>" + "     " + "</td>";
                        html += "<td>" + item.Konum + "</td>";
                        html += "<td>" + item.Latitude + "</td>";
                        html += "<td>" + item.Longtitude + "</td>";
                        html += "<td>" + "     " + "</td>";
                        html += "<td>" + item.Mail + "</td>";
                        html += "</tr>";
                        $("#araclarListesiPanel tbody").append(html);
                    }

                        lastDeviceInformationId = data[data.length - 1].Id;
                }
                else {
                    $("#araclarListesiPanel").append("<td>"+"Araç bulunamadı.."+"</td>");
                }
                }
            });
        }

        var lastShowLocationDeviceId = 0;
        function recreateTheMarkers() {
            if (oldMarkers.length > 0) {
                for (var i = 0; i < oldMarkers.length; i++) {
                    oldMarkers[i].setMap(null);
                }
            }
            if (oldLabelMarkers.length > 0) {
                for (var i = 0; i < oldLabelMarkers.length; i++) {
                    oldLabelMarkers[i].setMap(null);
                }
            }
            oldLabelMarkers = [];
            oldMarkers = [];
            for (var i = 0; i <= lastDevicesFlag.length; i++) {
                var item = lastDevicesFlag[i];

                stopOrContinue = 1;
                var kontakAcikKapali = item.IoStatus == "1" ? "Açık" : "Kapalı";
                // for infoWindow
                var content =
                    '<div style="width:280px; max-height:300px; overflow: inherit" >' +
                    '<ul id="vehicleInfo" class=" list-group">' +
                    '<h4>Arac Bilgileri</h4>' +
                    '<li class="list-group-item active">Plaka : ' + item.CarPlateNumber + '</li>' +
                    '<li class="list-group-item ">Tarih : ' + item.LastDeviceDataCreateDate + '</li>' +
                    '<li class="list-group-item ">Hız : ' + item.KmPerHour + '</li>' +
                    '<li class="list-group-item ">Konum : ' + item.Konum + '</li>' +
                    '<li class="list-group-item ">Enlem : ' + item.Latitude + '</li>' +
                    '<li class="list-group-item ">Boylam : ' + item.Longtitude + '</li>' +
                    '<li class="list-group-item ">Rakım (Yukseklik) : ' + item.Altitude + '</li>' +
                    '<li class="list-group-item ">Kontak Durumu : ' + kontakAcikKapali + '</li>' +
                    //'<li class="list-group-item " >Günlük Km :<label id="totalKmDailyMarker' + item.LastDeviceId + '"><i class="fa fa-spinner fa-pulse"></i></label> </li> ' +
                    ' </ul> ' +
                    ' </div>';

                var icon = null;
                if (item.ActivityTime == "Aktif") {
                    if (item.IoStatus == "1") {
                                        icon = {
                                            url: 'https://vera.veramobil.com.tr/Content/assets/images/green.png',
                                            size: new google.maps.Size(25, 25),
                                            anchor: new google.maps.Point(15, 15)
                                        };
                                        icon2 = {
                                            path:google.maps.SymbolPath.FORWARD_OPEN_ARROW,
                                            scale:2,
                                            fillColor:"#52cd00",
                                            fillOpacity: 0.8,
                                            strokeWeight: 0,
                                            rotation: item.DirectionDegree,
                                            anchor: new google.maps.Point(0,8),
                                            labelOrigin: { x: 0, y: 0 },
                                            labelInBackground: true
                                        };
                            var marker2 = new google.maps.Marker({
                                position: { lat: item.Latitude, lng: item.Longtitude },
                                title: item.CarPlateNumber,
                                icon: icon2,
                                map: map
                            });
                    }
                    else {
                        icon = {
                            url: 'https://vera.veramobil.com.tr/Content/assets/images/red.png',
                            size: new google.maps.Size(32, 32),
                            anchor: new google.maps.Point(0, 0)
                        };
                    }
                }
                else if (item.ActivityTime == "Pasif") {
                    //icon = {
                    //    path: google.maps.SymbolPath.CIRCLE,
                    //    scale: 7,
                    //    fillColor: "#000000",
                    //    fillOpacity: 0.8,
                    //    strokeWeight: 1
                    //};
                    icon = {
                        url: 'https://vera.veramobil.com.tr/Content/assets/images/black.png',
                        size: new google.maps.Size(32, 32),
                        anchor: new google.maps.Point(0, 0)
                    };
                }

                var image = null;
                var markerLabel = null;
                if ($('#chooseDisplayVehicle').val() == 1) { //Marker labeller gösterilmesi isteniyorsa.

                    if (item.IoStatus != "1" || item.ActivityTime == "Pasif") {
                        image = {
                            url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                            size: new google.maps.Size(60, 13),
                            anchor: new google.maps.Point(15, -25)
                        };
                    }
                    else if (item.DirectionDegree >= 90 && item.DirectionDegree <= 270) {
                        image = {
                            url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                            size: new google.maps.Size(60, 13),
                            anchor: new google.maps.Point(30, -10)
                        };
                    }
                    else {
                        image = {
                            url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                            size: new google.maps.Size(60, 13),
                            anchor: new google.maps.Point(15, -25)
                        };
                    }
                    markerLabel = new google.maps.Marker({
                        position: { lat: item.Latitude, lng: item.Longtitude },
                        title: item.CarPlateNumber,
                        icon: image,
                        map: map,
                        label: {
                            text: item.CarPlateNumber.substring(0, 8),
                            color: '#222222',
                            fontSize: '12px',
                            fontWeight: 'bold'
                        }
                    });

                }
                var marker = new google.maps.Marker({
                    position: { lat: item.Latitude, lng: item.Longtitude },
                    title: item.CarPlateNumber,
                    icon: icon,
                    map: map,
                });


                var infowindow = new google.maps.InfoWindow();
                google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                    return function () {
                        infowindow.setContent(content);
                        infowindow.open(map, marker);
                        windows.push(infowindow);
                        google.maps.event.addListener(map, 'click', function () {
                            infowindow.close();
                        });
                    };
                })(marker, content, infowindow));
                if (markerLabel != null)
                    oldLabelMarkers.push(markerLabel);
                oldMarkers.push(marker);
            }
        }
        function DisplayDeviceOnMapByDeviceId(id) {
            lastShowLocationDeviceId = id;
            for (var i = 0; i < lastDevicesFlag.length; i++) {
                var item = lastDevicesFlag[i];
                if (item.LastDeviceId == id) {
                    var myLatLng = {lat: item.Latitude, lng: item.Longtitude};
                    map.setCenter(myLatLng);
                    map.setZoom(16);
                    return;
                }
            }
            @*$.ajax({
                url: '@Url.Action("DisplayDeviceOnMapByDeviceId", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    "_id": id
                },
                success: function (item) {

                    var myLatLng = { lat: item.lat, lng: item.lng };
                    if (oldMarkers.length > 0) {
                        for (var i = 0; i < lastDevicesFlag.length; i++) {
                            if (lastDevicesFlag[i].LastDeviceId == id) {
                                oldMarkers[i].setMap(null);
                            }
                        }
                    }
                    var icon = null;
                    //if (oldMarkers.length > 0) {
                    //    map.setCenter(myLatLng);
                    //    map.setZoom(16);
                    //    return;
                    //}
                    //for (var i = 0; i < oldMarkers.length; i++) {
                    //    oldMarkers[i].setMap(null);
                    //}
                    //oldMarkers = [];
                    if (item.ActivityTime == "Aktif") {
                        if (item.IoStatus == "1") {
                            icon = {
                                path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                                scale: 5,
                                fillColor: "#66ff00",
                                fillOpacity: 0.8,
                                strokeWeight: 1,
                                rotation: item.DirectionDegree,
                                labelOrigin: { x: 0, y: 0 },
                                labelInBackground: true
                            };
                        }
                        else {
                            icon = {
                                url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-red.png',
                                size: new google.maps.Size(32, 32),
                                anchor: new google.maps.Point(0, 0)
                            };
                        }
                    }
                    else if (item.ActivityTime == "Pasif") {
                        icon = {
                            url: 'https://cdn1.iconfinder.com/data/icons/Momentum_GlossyEntireSet/32/bullet-black.png',
                            size: new google.maps.Size(32, 32),
                            anchor: new google.maps.Point(0, 0)
                        };
                    }

                    var image = null;
                    var markerLabel = null;
                    if ($('#chooseDisplayVehicle').val() == 1) { //Marker labeller gösterilmesi isteniyorsa.

                        if (item.IoStatus != "1" || item.ActivityTime == "Pasif") {
                            image = {
                                url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                size: new google.maps.Size(60, 20),
                                anchor: new google.maps.Point(15, -25)
                            };
                        }
                        else if (item.DirectionDegree >= 90 && item.DirectionDegree <= 270) {
                            image = {
                                url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                size: new google.maps.Size(60, 20),
                                anchor: new google.maps.Point(30, -10)
                            };
                        }
                        else {
                            image = {
                                url: 'https://cdn141.picsart.com/305306793032201.jpg?c256x256',
                                size: new google.maps.Size(60, 20),
                                anchor: new google.maps.Point(15, -25)
                            };
                        }
                        markerLabel = new google.maps.Marker({
                            position: { lat: item.lat, lng: item.lng},
                            title: item.CarPlateNumber,
                            icon: image,
                            map: map,
                            label: {
                                text: item.CarPlateNumber.substring(0, 8),
                                color: '#222222',
                                fontSize: '12px',
                                fontWeight: 'bold'
                            }
                        });

                    }
                    var marker = new google.maps.Marker({
                        position: { lat: item.lat, lng: item.lng},
                        title: item.CarPlateNumber,
                        icon: icon,
                        map: map,
                    });
                    oldMarkers.push(marker);
                    oldLabelMarkers.push(markerLabel);
                    map.setCenter(myLatLng);
                    map.setZoom(16);
                },
                error: function (xhr) {
                    console.log("hata");
                    console.log(xhr);
                }
            });*@
        }
         var scrollStopOrContinue = 1;
        var lastDeviceIdTSV = 0;
        var lastOptionClickedDeviceId = 0;
        $('#searchDeviceBTN').click(function () {
            $("#companyVehiclesTable tbody").empty();
            lastDeviceIdTSV = 0;
            scrollStopOrContinue = 1;
            GetDeviceListTSV()
        });
        $('#araclarModalId').click(function () {
            $("#companyVehiclesTable tbody").empty();
            lastDeviceIdTSV = 0;
            scrollStopOrContinue = 1;
            GetDeviceListTSV()
        });

        //To Search Vehicles
        function GetDeviceListTSV() {
            if (scrollStopOrContinue == 0)
                return;
            $('#loadingContainer5').show();
            var carPlateNumberTSV = $("#carPlateNumberTSV").val();
            var deviceActivityTSV = $("#deviceActivityTSV").val();
            var usingStatusIdTSV = $("#usingStatusIdTSV").val();
            $.ajax({
            url: '@Url.Action("GetDeviceListTSV", "Home")',
            dataType: 'json',
            data: {
            "_carPlateNumberTSV": carPlateNumberTSV,
            "_deviceActivityTSV": deviceActivityTSV,
            "_usingStatusIdTSV": usingStatusIdTSV,
            "_lastDeviceIdTSV": lastDeviceIdTSV,

            },
                success: function (data) {
                    $('#loadingContainer5').hide();
                    if (data) {

                        //for (var i = 0; i < data.length; i++) {
                        //    if (data[i].Id == lastDeviceIdTSV ) {
                        //        scrollStopOrContinue = 0;
                        //        return;
                        //    }
                        //}
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        var activeOrPassive = "";
                        var vehicleType="";
                        if (item.Activity == "1") {
                            activeOrPassive = "Aktif"
                        }
                        else if(item.Activity=="0")
                        {
                            activeOrPassive = "Pasif";
                        }
                        if (item.VehicleType == "2") {
                            vehicleType = "https://i.hizliresim.com/r0Gl53.png"
                        }
                        else if(item.VehicleType=="3")
                        {
                            vehicleType = "https://cdn4.iconfinder.com/data/icons/motorcycle-13/64/adventure-touring-motorcycle-transportation-vehicle-biker-32.png";
                        }
                        else if(item.VehicleType=="4")
                        {
                            vehicleType = "https://i.hizliresim.com/5Nj5GL.png";
                        }
                        else if(item.VehicleType=="5")
                        {
                            vehicleType = "http://individual.icons-land.com/IconsPreview/Transport/PNG/Cars/32x32/Minibus_Green.png";
                        }
                        else
                        {
                            vehicleType = "";
                        }
                        var html = "";
                        html += "<tr>";
                        html += "<td>"+"<button id='fillDeviceLast'  value="+item.Id+" onclick='FillDeviceInformationFields("+item.Id+")' type='button' class='btn btn-outline-dark btn-xs'>Güncelle</button>"+ "</td>";
                        html += "<td>" + item.CompanyName + "</td>";
                        html += "<td>" + item.CarPlateNumber + "</td>";
                        html += "<td>" + item.DeviceGsmNumber + "</td>";
                        html += "<td>" + item.DeviceId + "</td>";
                        html += "<td>" + "Standart" + "</td>";
                        html += "<td>" + "" + "</td>";
                        html += "<td>" +"<img src="+ vehicleType +"></td>";
                        html += "<td>" + item.DeviceMontageType  + "</td>";
                        html += "<td>" + activeOrPassive + "</td>";
                        html += "<td>" + item.EngineBlockStatus  + "</td>";
                        html += "<td>" + item.ActivityTime  + "</td>";
                        html += "<td>" + item.TotalKm   + "</td>";
                        html += "<td>" + item.OperationTime  + "</td>";
                        html += "<td>" + "" + "</td>";
                        html += "<td>" + item.PositionTime  + "</td>";
                        html += "<td>" + item.PositionDistance  + "</td>";
                        html += "<td>" + item.SpeedLimit  + "</td>";
                        html += "<td>" + item.WaitingTime  + "</td>";
                        html += "<td>" + item.MontageData  + "</td>";
                        html += "<td>" + "" + "</td>";
                        html += "<td>"+"<button onclick='blockEngineOfDevice("+item.Id+",0)' type='button' class='btn btn-outline-dark btn-xs'>MOTORU BLOKE ET</button>"+ "</td>";
                        html += "<td>"+"<button onclick='blockEngineOfDevice("+item.Id+",1)' type='button' class='btn btn-outline-dark btn-xs'>MOTOR BLOKAJINI KALDIR</button>"+ "</td>";
                        html += "</tr>";
                        $("#companyVehiclesTable tbody").append(html);
                    }
                    //lastDeviceIdTSV = data[data.length - 1].Id;
                }
            }
            });
        }
        function GetDeviceListAP() {
            $('#loadingContainer5').show();
            var groupIdAP = $("#groupIdAP").val();
            $.ajax({
            url: '@Url.Action("GetDeviceListAP", "Home")',
            dataType: 'json',
            data: {
            "_groupIdAP": groupIdAP,
            },
                success: function (data) {
                    $('#loadingContainer5').hide();
                    if (data) {
                        $("#listAP tbody").html("");
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        var html = "";
                        html += "<tr>";
                        html += "<td>"+"<button id='aracProgramlama'  value="+item.Id+" onclick='AracProgramlama("+item.Id+")' type='button' class='btn btn-outline-dark btn-xs'>Programla</button>"+ "</td>";
                        html += "<td>" + item.CarPlateNumber + "</td>";
                        html += "<td>" + item.PositionTime + "</td>";
                        html += "<td>" + item.PositionDistance  + "</td>";
                        html += "<td>" + item.SpeedLimit  + "</td>";
                        html += "<td>" + item.RolantiTime  + "</td>";
                        html += "<td>" + item.LocationStatus   + "</td>";
                        html += "<td>" + item.SpeedStatus  + "</td>";
                        html += "<td>" + item.RolantiStatus  + "</td>";
                        html += "</tr>";
                        $("#listAP tbody").append(html);
                    }

                }
            }
            });
        }
        function GetAlarmList() {
            $.ajax({
            url: '@Url.Action("GetAlarmList", "Home")',
            dataType: 'json',
            data: {
            },
                success: function (data) {
                    if (data) {
                        $("#aracAlarmList tbody").html("");
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        var html = "";
                        html += "<tr>";
                        html += "<td>" + item.DeviceIds + "</td>";
                        html += "<td>" + item.AlarmTypeId + "</td>";
                        html += "<td>" + item.Days  + "</td>";
                        html += "<td>" + item.StartDate  + "</td>";
                        html += "<td>" + item.EndDate  + "</td>";
                        html += "<td>" + item.Email   + "</td>";
                        html += "<td>"+"<button id='aracAlarm'  value="+item.Id+" onclick='DeleteAracAlarm("+item.Id+")' type='button' class='btn btn-outline-dark btn-xs'>Sil</button>"+ "</td>";
                        html += "</tr>";
                        $("#aracAlarmList tbody").append(html);
                    }

                }
            }
            });
        }
        function ListeleAlarmToSearch() {
            var alarmTypeId = $('#alarmTypeId').val();
            var alarmVehiclesId = $('#alarmVehiclesId').val();
            if (alarmTypeId == 0 && alarmVehiclesId == 0) {
                GetAlarmList();
                return;
            }
            $.ajax({
            url: '@Url.Action("ListeleAlarmToSearch", "Home")',
            dataType: 'json',
            data: {
                "_alarmTypeId": alarmTypeId,
                "_alarmVehiclesId": alarmVehiclesId,
            },
                success: function (data) {
                    if (data) {
                        $("#aracAlarmList tbody").html("");
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        var html = "";
                        html += "<tr>";
                        html += "<td>" + item.DeviceIds + "</td>";
                        html += "<td>" + item.AlarmTypeId + "</td>";
                        html += "<td>" + item.Days  + "</td>";
                        html += "<td>" + item.StartDate  + "</td>";
                        html += "<td>" + item.EndDate  + "</td>";
                        html += "<td>" + item.Email   + "</td>";
                        html += "<td>"+"<button id='aracAlarm'  value="+item.Id+" onclick='DeleteAracAlarm("+item.Id+")' type='button' class='btn btn-outline-dark btn-xs'>Sil</button>"+ "</td>";
                        html += "</tr>";
                        $("#aracAlarmList tbody").append(html);
                    }

                }
            }
            });
        }
        function blockEngineOfDevice(deviceId, blockOrRemoveBlock) {
            $.ajax({
                url: '@Url.Action("BlockEngineOfDevice", "Home")',
                dataType: 'json',
                data: {
                    "_deviceId": deviceId,
                    "_blockOrRemoveBlock": blockOrRemoveBlock

                },
                success: function (data) {
                    if (data)
                        swal("Başarılı", "Motor blokajı ayarlandı! ", "success");
                    else {
                        swal("Hata!", "Motor blokajı ayarlanamadı..", "error");
                    }
                },
           });
        }
        //Bütün cihazlar arasından hangi tipte cihazlar getirilecek
        var isFilteringToAll = 0; // 1 İse Filtreli Getir
        var deviceIdsFlag = []; //Filtrelenen Cihaz Idleri
        var showAllVehiclesOrGroupVehicles = 0;  //Sol tarafda tüm cihazlar yada grup cihazlarımı gösterilcek?
        var showGroupOrAllVehicles = 0;
        //function onDesc() {
        //    var newlastDevicesFlag = lastDevicesFlag.sort((a, b) => (Date.parse(a.LastDeviceDataCreateDate) - Date.parse(b.LastDeviceDataCreateDate)));
        //    return newlastDevicesFlag;
        //}
        function GetDevicesByGroupId() {//Cihazları Gruplara veya Filtreleme Durumuna Göre Getir
            showGroupOrAllVehicles = 1;
            var groupIdToSearchDevice = $('#groupIdToSearchDevice').val();
            var vehicleFiltering = $('#vehicleFiltering').val();
            if (groupIdToSearchDevice == 0 && vehicleFiltering == 0) {//Bütün Durumlar
                isFilteringToAll = 0;
                showGroupOrAllVehicles = 0;
                $('#tabTarget1').show('200');
                $("#deviceListLeftSide").html("");
                deviceIdsFlag = [];
                for (var i = 0; i < lastDevicesFlag.length; i++) {
                    var item = lastDevicesFlag[i];
                    var html = "";
                    var title = "";
                    var activeOrPassive = '';
                    if (lastDevicesFlag[i].IoStatus == "1") {
                        title = "Kontak Açık";
                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/green.png" height="32" width="32"></a>';
                    }
                    if (lastDevicesFlag[i].IoStatus == "0" && lastDevicesFlag[i].ActivityTime == "Aktif") {
                        title = "Kontak Kapalı";
                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/red.png" height="32" width="32"></a>';
                    }
                    if (lastDevicesFlag[i].ActivityTime == "Pasif") {
                        title = "Sinyal Yok";
                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/black.png" height="32" width="32"></a>';
                    }

                    var fullKonum = lastDevicesFlag[i].Konum;
                    if (fullKonum != null) {
                        if (lastDevicesFlag[i].Konum.length > 35)
                            lastDevicesFlag[i].Konum = lastDevicesFlag[i].Konum.substring(0, 35) + "...";
                    }
                    var totalKmOrSpinner =  item.TotalKmDaily/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                    //if (item.TotalKmDaily != null)
                    //    totalKmOrSpinner = item.TotalKmDaily;
                    var lastLocationTimeOrSpinner = item.LastDeviceDataCreateDate/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                    //if (item.LastLocationTime != null)
                    //    lastLocationTimeOrSpinner = item.LastLocationTime;
                    var plateAndEmployee = item.CarPlateNumber;
                                    if (item.Employee != null && item.Employee != "") {
                                        plateAndEmployee = item.CarPlateNumber + "/" + item.Employee;
                                        plateAndEmployee = plateAndEmployee.split("/")[0] + "<br>" + plateAndEmployee.split("/")[1];
                                    }
                    html += "<li style='padding:0px;'>";
                    html += "<div class='row'>";
                    html += "<div class='col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2' style='margin-top:40px;'>" + activeOrPassive + "  </div>";
                    html += '<div class="col-md-8 col-8 col-xs-8 col-lg-8 col-sm-8 font-6 mt-2"> <div > <center><button onclick="DisplayDeviceOnMapByDeviceId(' + lastDevicesFlag[i].LastDeviceId + ')" data-toggle="tooltip" title="' + lastDevicesFlag[i].CarPlateNumber + '" type="button" class="btn"   style="font-weight:bold;font-family:monospace;font-size:18px;color:white;"+>' + plateAndEmployee+ '</button><center></div><a data-toggle="tooltip" title="' + fullKonum + '" ><label  style="margin-top:2px;color:white;">' + lastDevicesFlag[i].Konum + '</label></a> <br>  <i class="fa fa-map-marker" aria-hidden="true"></i> <label style="color:white;" id="deviceTotalKm' + lastDevicesFlag[i].LastDeviceId + '">' + item.TotalKmDaily + '</label><i class="fa fa-tachometer ml-3" aria-hidden="true"></i> <label style="color:white;">' + lastDevicesFlag[i].KmPerHour + '</label><i class="fa fa-clock-o" aria-hidden="true" style="margin-left: 10px;color:white;"></i>  <label style="color:white;" id="deviceLastLocationTime' + lastDevicesFlag[i].LastDeviceId + '" class="ml-1" >' + lastLocationTimeOrSpinner + '</label> </div>';
                    html += '<div class="col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2" style="margin-top:33px;right:20px"> <a href="javascript:;" onclick="lastOptionClickedDeviceId = ' + lastDevicesFlag[i].LastDeviceId + '; showSubMenu(this)"> <i style="color:black;"  class="ml-2 mt-2 fa fa-cogs fa-lg"></i>  </a>  </div>';
                    html += '</div>';
                    html += "</li>";
                    $("#deviceListLeftSide").append(html);
                    deviceIdsFlag.push(lastDevicesFlag[i].LastDeviceId);
                }
                if ($("#deviceListLeftSide").html() == "") {
                    $('#deviceListLeftSide').html("Arama kriterlerine uygun araç bulunamadı...");
                }
                return;
            }
            if (groupIdToSearchDevice == 0 && vehicleFiltering == 1) {//Kontak Açıksa
                isFilteringToAll = 1;
                showGroupOrAllVehicles = 0;
                $('#tabTarget1').show('200');
                $("#deviceListLeftSide").html("");
                deviceIdsFlag = [];
                for (var i = 0; i < lastDevicesFlag.length; i++) {

                    if (lastDevicesFlag[i].IoStatus == "1" && lastDevicesFlag[i].ActivityTime == "Aktif") {
                        var item = lastDevicesFlag[i];
                        deviceIdsFlag.push(item.LastDeviceId);
                        var html = "";
                        var title = "Kontak Açık";
                        var activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/green.png" height="32" width="32"></a>';
                        var fullKonum = lastDevicesFlag[i].Konum;
                        if (lastDevicesFlag[i].Konum.length > 35)
                            lastDevicesFlag[i].Konum = lastDevicesFlag[i].Konum.substring(0, 35) + "...";
                        var totalKmOrSpinner = item.TotalKmDaily/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                        //if (item.TotalKmDaily != null)
                        //    totalKmOrSpinner = item.TotalKmDaily;
                        var lastLocationTimeOrSpinner = item.LastDeviceDataCreateDate/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                        //if (item.LastLocationTime != null)
                        //    lastLocationTimeOrSpinner = item.LastLocationTime;
                        var plateAndEmployee = item.CarPlateNumber;
                                    if (item.Employee != null && item.Employee != "") {
                                        plateAndEmployee = item.CarPlateNumber + "/" + item.Employee;
                                        plateAndEmployee = plateAndEmployee.split("/")[0] + "<br>" + plateAndEmployee.split("/")[1];
                                    }
                        html += "<li style='padding:0px;'>";
                        html += "<div class='row'>";
                        html += "<div class='col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2' style='margin-top:40px;'>" + activeOrPassive + "  </div>";
                        html += '<div class="col-md-8 col-8 col-xs-8 col-lg-8 col-sm-8 font-6 mt-2"> <div > <center><button onclick="DisplayDeviceOnMapByDeviceId(' + lastDevicesFlag[i].LastDeviceId + ')" data-toggle="tooltip" title="' + lastDevicesFlag[i].CarPlateNumber + '" type="button" class="btn"   style="font-weight:bold;font-family:monospace;font-size:18px;color:white;"+>' + plateAndEmployee+ '</button><center></div><a data-toggle="tooltip" title="' + fullKonum + '" ><label  style="margin-top:2px;color:white;">' + lastDevicesFlag[i].Konum + '</label></a> <br>  <i class="fa fa-map-marker" aria-hidden="true"></i> <label style="color:white;" id="deviceTotalKm' + lastDevicesFlag[i].LastDeviceId + '">' + item.TotalKmDaily + '</label><i class="fa fa-tachometer ml-3" aria-hidden="true"></i> <label style="color:white;">' + lastDevicesFlag[i].KmPerHour + '</label><i class="fa fa-clock-o" aria-hidden="true" style="margin-left: 10px;color:white;"></i>  <label style="color:white;" id="deviceLastLocationTime' + lastDevicesFlag[i].LastDeviceId + '" class="ml-1" >' + lastLocationTimeOrSpinner + '</label> </div>';
                        html += '<div class="col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2" style="margin-top:33px;right:20px"> <a href="javascript:;" onclick="lastOptionClickedDeviceId = ' + lastDevicesFlag[i].LastDeviceId + '; showSubMenu(this)"> <i style="color:black;"  class="ml-2 mt-2 fa fa-cogs fa-lg"></i>  </a>  </div>';
                        html += '</div>';
                        html += "</li>";
                        $("#deviceListLeftSide").append(html);
                    }
                }
                if ($("#deviceListLeftSide").html() == "") {
                    $('#deviceListLeftSide').html("Arama kriterlerine uygun araç bulunamadı...");
                }
                return;
            }
            if (groupIdToSearchDevice == 0 && vehicleFiltering == 2) {


                isFilteringToAll = 1;
                showGroupOrAllVehicles = 0;
                deviceIdsFlag = [];
                $('#tabTarget1').show('200');
                $("#deviceListLeftSide").html("");
                for (var i = 0; i < lastDevicesFlag.length; i++) {//Kontak Kapalıysa
                    if (lastDevicesFlag[i].IoStatus == "0" && lastDevicesFlag[i].ActivityTime == "Aktif") {
                        var item = lastDevicesFlag[i];
                        var html = "";
                        var title = "Kontak Kapalı";
                        var activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="https://vera.veramobil.com.tr/Content/assets/images/red.png" height="32" width="32"></a>';
                        var fullKonum = lastDevicesFlag[i].Konum;
                        if (lastDevicesFlag[i].Konum.length > 35)
                            lastDevicesFlag[i].Konum = lastDevicesFlag[i].Konum.substring(0, 35) + "...";
                        var totalKmOrSpinner = item.TotalKmDaily/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                        //if (item.TotalKmDaily != null)
                        //    totalKmOrSpinner = item.TotalKmDaily;
                        var lastLocationTimeOrSpinner = item.LastDeviceDataCreateDate/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                        //if (item.LastLocationTime != null)
                        //    lastLocationTimeOrSpinner = item.LastLocationTime;
                        var plateAndEmployee = item.CarPlateNumber;
                                    if (item.Employee != null && item.Employee != "") {
                                        plateAndEmployee = item.CarPlateNumber + "/" + item.Employee;
                                        plateAndEmployee = plateAndEmployee.split("/")[0] + "<br>" + plateAndEmployee.split("/")[1];
                                    }
                        html += "<li style='padding:0px;'>";
                        html += "<div class='row'>";
                        html += "<div class='col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2' style='margin-top:40px;'>" + activeOrPassive + "  </div>";
                        html += '<div class="col-md-8 col-8 col-xs-8 col-lg-8 col-sm-8 font-6 mt-2"> <div > <center><button onclick="DisplayDeviceOnMapByDeviceId(' + lastDevicesFlag[i].LastDeviceId + ')" data-toggle="tooltip" title="' + lastDevicesFlag[i].CarPlateNumber + '" type="button" class="btn"   style="font-weight:bold;font-family:monospace;font-size:18px;color:white;"+>' + plateAndEmployee+ '</button><center></div><a data-toggle="tooltip" title="' + fullKonum + '" ><label  style="margin-top:2px;color:white;">' + lastDevicesFlag[i].Konum + '</label></a> <br>  <i class="fa fa-map-marker" aria-hidden="true"></i> <label style="color:white;" id="deviceTotalKm' + lastDevicesFlag[i].LastDeviceId + '">' + item.TotalKmDaily + '</label><i class="fa fa-tachometer ml-3" aria-hidden="true"></i> <label style="color:white;">' + lastDevicesFlag[i].KmPerHour + '</label><i class="fa fa-clock-o" aria-hidden="true" style="margin-left: 10px;color:white;"></i>  <label style="color:white;" id="deviceLastLocationTime' + lastDevicesFlag[i].LastDeviceId + '" class="ml-1" >' + lastLocationTimeOrSpinner + '</label> </div>';
                        html += '<div class="col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2" style="margin-top:33px;right:20px"> <a href="javascript:;" onclick="lastOptionClickedDeviceId = ' + lastDevicesFlag[i].LastDeviceId + '; showSubMenu(this)"> <i style="color:black;"  class="ml-2 mt-2 fa fa-cogs fa-lg"></i>  </a>  </div>';
                        html += '</div>';
                        html += "</li>";
                        $("#deviceListLeftSide").append(html);
                        deviceIdsFlag.push(lastDevicesFlag[i].LastDeviceId);
                    }
                }
                if ($("#deviceListLeftSide").html() == "") {
                    $('#deviceListLeftSide').html("Arama kriterlerine uygun araç bulunamadı...");
                }
                return;
            }
            if (groupIdToSearchDevice == 0 && vehicleFiltering == 3) {//Sinyal Yoksa
                isFilteringToAll = 1;
                showGroupOrAllVehicles = 0;
                showAllVehiclesOrGroupVehicles = 1;
                deviceIdsFlag = [];
                $('#tabTarget1').show('200');
                $("#deviceListLeftSide").html("");
                var newlastDevicesFlag = _.sortBy(lastDevicesFlag, 'LastDeviceDataCreateDate');
                //var newlastDevicesFlag = lastDevicesFlag.sort((a, b) => (a.LastDeviceDataCreateDate - b.LastDeviceDataCreateDate));
                for (var i = 0; i < newlastDevicesFlag.length; i++) {
                    if (newlastDevicesFlag[i].ActivityTime == "Pasif") {
                        var item = newlastDevicesFlag[i];
                        var html = "";
                        var title = "Sinyal Yok";
                        var activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="https://vera.veramobil.com.tr/Content/assets/images/black.png" height="32" width="32"></a>';
                        var fullKonum = newlastDevicesFlag[i].Konum;
                        var totalKmOrSpinner = item.TotalKmDaily/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                        //if (item.TotalKmDaily != null)
                        //    totalKmOrSpinner = item.TotalKmDaily;
                        var lastLocationTimeOrSpinner = item.LastDeviceDataCreateDate/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                        //if (item.LastLocationTime != null)
                        //    lastLocationTimeOrSpinner = item.LastLocationTime;
                        var plateAndEmployee = item.CarPlateNumber;
                                    if (item.Employee != null && item.Employee != "") {
                                        plateAndEmployee = item.CarPlateNumber + "/" + item.Employee;
                                        plateAndEmployee = plateAndEmployee.split("/")[0] + "<br>" + plateAndEmployee.split("/")[1];
                                    }
                        html += "<li style='padding:0px;'>";
                        html += "<div class='row'>";
                        html += "<div class='col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2' style='margin-top:40px;'>" + activeOrPassive + "  </div>";
                        html += '<div class="col-md-8 col-8 col-xs-8 col-lg-8 col-sm-8 font-6 mt-2"> <div > <center><button onclick="DisplayDeviceOnMapByDeviceId(' + newlastDevicesFlag[i].LastDeviceId + ')" data-toggle="tooltip" title="' + newlastDevicesFlag[i].CarPlateNumber + '" type="button" class="btn"   style="font-weight:bold;font-family:monospace;font-size:18px;color:white;"+>' + plateAndEmployee+ '</button><center></div><a data-toggle="tooltip" title="' + fullKonum + '" ><label  style="margin-top:2px;color:white;">' + newlastDevicesFlag[i].Konum + '</label></a> <br>  <i class="fa fa-map-marker" aria-hidden="true"></i> <label style="color:white;" id="deviceTotalKm' + newlastDevicesFlag[i].LastDeviceId + '">' + item.TotalKmDaily + '</label><i class="fa fa-tachometer ml-3" aria-hidden="true"></i> <label style="color:white;">' + newlastDevicesFlag[i].KmPerHour + '</label><i class="fa fa-clock-o" aria-hidden="true" style="margin-left: 10px;color:white;"></i>  <label style="color:white;" id="deviceLastLocationTime' + newlastDevicesFlag[i].LastDeviceId + '" class="ml-1" >' + lastLocationTimeOrSpinner + '</label> </div>';
                        html += '<div class="col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2" style="margin-top:33px;right:20px"> <a href="javascript:;" onclick="lastOptionClickedDeviceId = ' + newlastDevicesFlag[i].LastDeviceId + '; showSubMenu(this)"> <i style="color:black;"  class="ml-2 mt-2 fa fa-cogs fa-lg"></i>  </a>  </div>';
                        html += '</div>';
                        html += "</li>";
                        $("#deviceListLeftSide").append(html);
                        deviceIdsFlag.push(newlastDevicesFlag[i].LastDeviceId);
                    }
                }
                if ($("#deviceListLeftSide").html() == "") {
                    $('#deviceListLeftSide').html("Arama kriterlerine uygun araç bulunamadı...");
                }
                return;
            }
            //if (showGroupOrAllVehicles == 0) {
            //    return;
            //}

            $.ajax({
                url: '@Url.Action("GetDevicesByGroupId", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    "_groupIdToSearchDevice": groupIdToSearchDevice,
                    '_vehicleFiltering': vehicleFiltering
                },
                success: function (data) {
                    if (data) {

                        isFilteringToAll = 1;
                        showGroupOrAllVehicles = 0;
                        $('#tabTarget1').show('200');
                        $("#deviceListLeftSide").html("");
                        deviceIdsFlag = [];
                        for (var i = 0; i < lastDevicesFlag.length; i++) {
                            var item = lastDevicesFlag[i];
                            if (data.includes(item.LastDeviceId)) {
                                deviceIdsFlag.push(item.LastDeviceId);
                                var html = "";
                                var title = "";
                                var activeOrPassive = '';
                                if (lastDevicesFlag[i].IoStatus == "1") {
                                    title = "Kontak Açık";
                                    activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/green.png" height="32" width="32"></a>';
                                }
                                if (lastDevicesFlag[i].IoStatus == "0" && lastDevicesFlag[i].ActivityTime == "Aktif") {
                                    title = "Kontak Kapalı";
                                    activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/red.png" height="32" width="32"></a>';
                                }
                                if (lastDevicesFlag[i].ActivityTime == "Pasif") {
                                    title = "Sinyal Yok";
                                    activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/black.png" height="32" width="32"></a>';
                                }
                                var fullKonum = lastDevicesFlag[i].Konum;
                                if (lastDevicesFlag[i].Konum.length > 35)
                                    lastDevicesFlag[i].Konum = lastDevicesFlag[i].Konum.substring(0, 35) + "...";
                                var totalKmOrSpinner = item.TotalKmDaily/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                                //if (item.TotalKmDaily != null)
                                //    totalKmOrSpinner = item.TotalKmDaily;
                                var lastLocationTimeOrSpinner = item.LastDeviceDataCreateDate/*'<i class="fa fa-spinner fa-pulse"></i>'*/;
                                //if (item.LastLocationTime != null)
                                //    lastLocationTimeOrSpinner = item.LastLocationTime;
                                var plateAndEmployee = item.CarPlateNumber;
                                    if (item.Employee != null && item.Employee != "") {
                                        plateAndEmployee = item.CarPlateNumber + "/" + item.Employee;
                                        plateAndEmployee = plateAndEmployee.split("/")[0] + "<br>" + plateAndEmployee.split("/")[1];
                                    }
                                html += "<li style='padding:0px;'>";
                                html += "<div class='row'>";
                                html += "<div class='col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2' style='margin-top:40px;'>" + activeOrPassive + "  </div>";
                                html += '<div class="col-md-8 col-8 col-xs-8 col-lg-8 col-sm-8 font-6 mt-2"> <div > <center><button onclick="DisplayDeviceOnMapByDeviceId(' + lastDevicesFlag[i].LastDeviceId + ')" data-toggle="tooltip" title="' + lastDevicesFlag[i].CarPlateNumber + '" type="button" class="btn"   style="font-weight:bold;font-family:monospace;font-size:18px;color:white;"+>' + plateAndEmployee+ '</button><center></div><a data-toggle="tooltip" title="' + fullKonum + '" ><label  style="margin-top:2px;color:white;">' + lastDevicesFlag[i].Konum + '</label></a> <br>  <i class="fa fa-map-marker" aria-hidden="true"></i> <label style="color:white;" id="deviceTotalKm' + lastDevicesFlag[i].LastDeviceId + '">' + item.TotalKmDaily + '</label><i class="fa fa-tachometer ml-3" aria-hidden="true"></i> <label style="color:white;">' + lastDevicesFlag[i].KmPerHour + '</label><i class="fa fa-clock-o" aria-hidden="true" style="margin-left: 10px;color:white;"></i>  <label style="color:white;" id="deviceLastLocationTime' + lastDevicesFlag[i].LastDeviceId + '" class="ml-1" >' + lastLocationTimeOrSpinner + '</label> </div>';
                                html += '<div class="col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2" style="margin-top:33px;right:20px"> <a href="javascript:;" onclick="lastOptionClickedDeviceId = ' + lastDevicesFlag[i].LastDeviceId + '; showSubMenu(this)"> <i style="color:black;"  class="ml-2 mt-2 fa fa-cogs fa-lg"></i>  </a>  </div>';
                                html += '</div>';
                                html += "</li>";
                                $("#deviceListLeftSide").append(html);
                            }
                        }
                    }
                    else if (data == false) {
                        $('#tabTarget1').show('200');
                        $("#deviceListLeftSide").html("");
                        showAllVehiclesOrGroupVehicles = 0;
                        $('#deviceListLeftSide').html("Arama kriterlerine uygun araç bulunamadı...");
                        return;
                    }
                }
            });

        }

        function toRight() {
            var val = $("#left").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#left").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#right").append(html);
                $("#left").find("*[value='" + val[i] + "']").hide();
            }
        }

        function toLeft() {
            var val = $("#right").val();

            for (var i = 0; i < val.length; i++) {
                $("#left").find("*[value='" + val[i] + "']").show();
                $("#right").find("*[value='" + val[i] + "']").remove();
            }
        }
    </script>
    <script>
        function toRightCU() {
            var val = $("#leftChannelUser").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#leftChannelUser").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#rightChannelUser").append(html);
                $("#leftChannelUser").find("*[value='" + val[i] + "']").hide();
            }
        }
        function toLeftCU() {
            var val = $("#rightChannelUser").val();

            for (var i = 0; i < val.length; i++) {
                $("#leftChannelUser").find("*[value='" + val[i] + "']").show();
                $("#rightChannelUser").find("*[value='" + val[i] + "']").remove();
            }
        }
        function toRightGa() {
            var val = $("#leftDeviceGA").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#leftDeviceGA").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#rightDeviceGA").append(html);
                $("#leftDeviceGA").find("*[value='" + val[i] + "']").hide();
            }
        }
        function toLeftGA() {
            var val = $("#rightDeviceGA").val();

            for (var i = 0; i < val.length; i++) {
                $("#leftDeviceGA").find("*[value='" + val[i] + "']").show();
                $("#rightDeviceGA").find("*[value='" + val[i] + "']").remove();
            }
        }
        function toRightGR() {
            var val = $("#leftDeviceGR").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#leftDeviceGR").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#rightDeviceGR").append(html);
                $("#leftDeviceGR").find("*[value='" + val[i] + "']").hide();
            }
        }
        function toLeftGR() {
            var val = $("#rightDeviceGR").val();

            for (var i = 0; i < val.length; i++) {
                $("#leftDeviceGR").find("*[value='" + val[i] + "']").show();
                $("#rightDeviceGR").find("*[value='" + val[i] + "']").remove();
            }
        }
        function eventToRight() {
            var val = $("#eventLeft").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#eventLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#eventRight").append(html);
                $("#eventLeft").find("*[value='" + val[i] + "']").remove();
            }
        }

        function eventToLeft() {
            var val = $("#eventRight").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#eventRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#eventLeft").append(html);
                $("#eventRight").find("*[value='" + val[i] + "']").remove();
            }
        }

        function carToRight() {
            var val = $("#carLeft").val();

            for (var i = 0; i < val.length; i++) {
                if (val.includes(val[i])) {
                    $("#carRight").find("*[value='" + val[i] + "']").remove();
                }
                var html = $("#carLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;
                $("#carRight").append(html);
                $('#carRight option').show();
                $("#carLeft").find("*[value='" + val[i] + "']").hide();
            }
        }

        function carToLeft() {
            var val = $("#carRight").val();

            for (var i = 0; i < val.length; i++) {
                if (val.includes(val[i])) {
                    $("#carLeft").find("*[value='" + val[i] + "']").remove();
                }
                var html = $("#carRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#carLeft").append(html);
                $("#carRight").find("*[value='" + val[i] + "']").remove();
            }
        }
        function carToRightAutomaticReporting() {
            var val = $("#carLeftAutomaticReporting").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#carLeftAutomaticReporting").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#carRightAutomaticReporting").append(html);
                $("#carLeftAutomaticReporting").find("*[value='" + val[i] + "']").remove();
            }
        }

        function carToLeftAutomaticReporting() {
            var val = $("#carRightAutomaticReporting").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#carRightAutomaticReporting").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#carLeftAutomaticReporting").append(html);
                $("#carRightAutomaticReporting").find("*[value='" + val[i] + "']").remove();
            }
        }

        function raporToRight() {
            var val = $("#raporLeft").val();
            for (var i = 0; i < val.length; i++) {
                if (val.includes(val[i])) {
                    $("#raporRight").find("*[value='" + val[i] + "']").remove();
                }
                var html = $("#raporLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;
                $("#raporRight").append(html);

                $('#raporRight option').show();
                $("#raporLeft").find("*[value='" + val[i] + "']").hide();

            }
        }

        function raporToLeft() {
            var val = $("#raporRight").val();

            for (var i = 0; i < val.length; i++) {
                if (val.includes(val[i])) {
                    $("#raporLeft").find("*[value='" + val[i] + "']").remove();
                }
                var html = $("#raporRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;
                $("#raporLeft").append(html);
                $("#raporRight").find("*[value='" + val[i] + "']").remove();
            }
        }

        function ngiToRight() {
            var val = $("#ngiLeft").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#ngiLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;
                $("#ngiRight").append(html);
                $("#ngiLeft").find("*[value='" + val[i] + "']").remove();
            }
        }

        function ngiToLeft() {
            var val = $("#ngiRight").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#ngiRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#ngiLeft").append(html);
                $("#ngiRight").find("*[value='" + val[i] + "']").remove();
            }
        }

        function bgiToRight() {
            var val = $("#bgiLeft").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#bgiLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#bgiRight").append(html);
                $("#bgiLeft").find("*[value='" + val[i] + "']").remove();
            }
        }

        function bgiToLeft() {
            var val = $("#bgiRight").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#bgiRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#bgiLeft").append(html);
                $("#bgiRight").find("*[value='" + val[i] + "']").remove();
            }
        }
        function aniToRight() {
            var val = $("#aniLeft").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#aniLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#aniRight").append(html);
                $("#aniLeft").find("*[value='" + val[i] + "']").remove();
            }
        }

        function aniToLeft() {
            var val = $("#aniRight").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#aniRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#aniLeft").append(html);
                $("#aniRight").find("*[value='" + val[i] + "']").remove();
            }
        }
        function abiToRight() {
            var val = $("#abiLeft").val();

            for (var i = 0; i < val.length; i++) {
                if (val.includes(val[i])) {
                    $("#abiRight").find("*[value='" + val[i] + "']").remove();
                }
                var html = $("#abiLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#abiRight").append(html);
                $('#abiRight option').show();
                $("#abiLeft").find("*[value='" + val[i] + "']").hide();
            }
        }

        function abiToLeft() {
            var val = $("#abiRight").val();

            for (var i = 0; i < val.length; i++) {
                if (val.includes(val[i])) {
                    $("#abiLeft").find("*[value='" + val[i] + "']").remove();
                }
                var html = $("#abiRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#abiLeft").append(html);
                $("#abiRight").find("*[value='" + val[i] + "']").remove();
            }
        }
        function ariToRight() {
            var val = $("#ariLeft").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#ariLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#ariRight").append(html);
                $("#ariLeft").find("*[value='" + val[i] + "']").remove();
            }
        }

        function ariToLeft() {
            var val = $("#ariRight").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#ariRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#ariLeft").append(html);
                $("#ariRight").find("*[value='" + val[i] + "']").remove();
            }
        }
    </script>

    <script>
        function groupVehiclesToRight() {
            var val = $("#groupLeft").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#groupLeft").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#groupRight").append(html);
                $("#groupLeft").find("*[value='" + val[i] + "']").remove();
            }
        }

        function groupVehiclesToLeft() {
            var val = $("#groupRight").val();

            for (var i = 0; i < val.length; i++) {
                var html = $("#groupRight").find("*[value='" + val[i] + "']");
                html = html[0].outerHTML;

                $("#groupLeft").append(html);
                $("#groupRight").find("*[value='" + val[i] + "']").remove();
            }
        }
    </script>
    <script>
        function handleCustomTreeView(elem) {
            if ($(elem).find("i").attr("class").includes("plus")) {
                $(elem).parent().find(".customTreeViewContent").fadeIn(300);
                $(elem).find("i").removeAttr("class").attr("class", "fa fa-minus");
            } else {
                $(elem).parent().find(".customTreeViewContent").fadeOut(300);
                $(elem).find("i").removeAttr("class").attr("class", "fa fa-plus");
            }
        }

        function showDiv(data) {
            $(".customReportDiv").hide();
            var divToShow = $('#' + data);
            $(divToShow).fadeIn(250);
        }
    </script>
    <div class="page-wrapper">
    </div>
    <script>
        $(document).ready(function () {
            $(".select2").select2();
            $('[data-toggle="tooltip"]').tooltip();
        });
    </script>

    @*Ajax İşlemler*@
    <script>

         //Grup İşlemleri
        function AddNewGroup() {
            var groupName = $("#groupName").val();
            if (groupName == "" || groupName == null) {
                swal("Grup Adı Boş", "Tekrar deneyiniz...", "error");
                return;
            }
            $.ajax({
                url: '@Url.Action("AddNewCompanyGroup", "Home")',
                dataType: 'json',
                data: {
                    "_groupName": groupName,
                },
                success: function (data) {
                    if (data) {
                        swal("Başarılı !", "Grup Eklendi", "success").then((value) => {
                            window.location.reload();
                        });
                    }
                    else {
                        return;
                    }
                }
            });
        }
        function UpdateGroup(id) {
            var groupNameToUpdate = $('#groupName' + id).val();
            $.ajax({
                url: '@Url.Action("UpdateGroup", "Home")',
                dataType: 'json',
                data: {
                    "_id": id,
                    "_groupNameToUpdate": groupNameToUpdate,
                },
                success: function (data) {
                    if (data) {
                        swal("Başarılı !", "Grup Güncellendi", "success").then((value) => {
                            window.location.reload();
                        });
                    }
                    else if (data == false) {
                        swal("Hata !", "Grup Güncellenemedi", "error");
                        return;
                    }
                }
            });
        }
        function DeleteGroup(id) {
                    swal({
			            title: "Emin misiniz?",
			            text: "Bu grubu silerseniz geri alamayacaksınız!",
			            icon: "warning",
			            buttons: [
			            	'Hayır, iptal et!',
			            	'Evet , eminim!'
			            ],
			            dangerMode: true,
		                }).then(function (isConfirm) {
		                	if (isConfirm) {
		                	$.ajax({
		                		url: '@Url.Action("DeleteGroup", "Home")',
		                		type: 'POST',
		                		dataType: 'json',
		                		data: {
		                		"_id": id
		                	 },
		                	success: function (data) {
		                	    if (data) {
                                    swal('Başarılı!', 'Grup Silindi!', 'success')
                                        .then((value) => {
                                            window.location.reload(); //buraya swal koşulu koyulacak Evet/Hayır
                                        });
                                }

                           		 }
		                	});
		                	}
		                })
        }
        function DeleteAracAlarm(id) {
            $.ajax({
                url: '@Url.Action("DeleteAracAlarm", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    "_id": id
                },
                success: function (data) {
                    if (data) {
                        swal('Başarılı!', 'Alarm Silindi!', 'success');
                        GetAlarmList();
                    }
                }
            });

                }
        function SaveGroupDevice() {
                    var groupId = $('#groupNameVehicleToAppend').val();
                    if (groupId == 0) {
                        swal("Hata !","Grup Seçiniz","error");
                        return;
                    }
                    var selectedDeviceIds = [];
                    var options = $('#right option');

                    for(var i = 0; i < options.length; i++)
                    {
                    	selectedDeviceIds.push($(options[i]).attr("value"));
                    }
                    $.ajax({
                        url: '@Url.Action("SaveGroupDevice", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_groupId": groupId,
                            "_selectedDeviceIds":selectedDeviceIds
                        },
                        success: function (data) {
                            if (data) {
                                 swal("Başarılı", "Eklendi", "success");
                            }

                        }
                    });



                }
        function GetGroupDevicesByGroupId(id) {
                    $.ajax({
                        url: '@Url.Action("GetDeviceIdsByGroupId", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_groupId": id
                        },
                        success: function (data) {
                            var deviceIds = [];

                            for (var i = 0; i < data.length; i++) {
                                deviceIds.push(data[i]["DeviceId"]);
                            }

                            $("#left option").show();
                            $("#right").html('')

                            var items = $("#left option");

                            for (var i = 0; i < items.length; i++) {
                                var value = parseInt($(items[i]).attr("value"));
                                var name = $(items[i]).text().trim();

                                if (deviceIds.includes(value)) {
                                    $(items[i]).hide();
                                    $("#right").append('<option value="' + value + '">' + name + '</option>');
                                }
                            }
                        }
                    });
        }
        function GetGroupDevicesByGroupIdSM(id) {
                    $.ajax({
                        url: '@Url.Action("GetDeviceIdsByGroupId", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_groupId": id
                        },
                        success: function (data) {
                            var deviceIds = [];

                            for (var i = 0; i < data.length; i++) {
                                deviceIds.push(data[i]["DeviceId"]);
                            }

                            $("#groupLeft option").show();
                            $("#groupRight").html('')

                            var items = $("#groupLeft option");

                            for (var i = 0; i < items.length; i++) {
                                var value = parseInt($(items[i]).attr("value"));
                                var name = $(items[i]).text().trim();

                                if (deviceIds.includes(value)) {
                                    $(items[i]).hide();
                                    $("#groupRight").append('<option value="' + value + '">' + name + '</option>');
                                }
                            }
                        }
                    });
                }
        function GetGroupsWithVehicles()
            {
                    $("#groupVehiclesTable tbody").html("");
                    var groupNameToFilter = $('#groupNameToFilter').val();
                    var carPlateNumberToFilter = $('#carPlateNumberToFilter').val();

                    $.ajax({
                        url: '@Url.Action("GetGroupsWithVehicles", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_groupNameToFilter": groupNameToFilter,
                            "_carPlateNumberToFilter": carPlateNumberToFilter,
                        },
                        success: function (data) {

                            $("#groupVehiclesTable tbody").html("");
                            if(data==false) {
                                swal("Hata", "Girdiğiniz Verilerde Grup Ve Araç Bulunumadı !", "error");
                                return;
                            }
                            else {
                                for (var i = 0; i < data.length; i++) {
                                var item = data[i];

                                var html = "";
                                html += "<tr>";
                                html += "<td>" +item.GroupName + "</td>";
                                html += "<td>"+item.CarPlateNumber+"</td>";
                                html += "</tr>";
                                $("#groupVehiclesTable tbody").append(html);
                             }
                           }

                        }


                    });
        }
        //Bölge İşlemleri
        function GetAreaForDevice()
            {
                    $("#bgilistesi tbody").html("");
                    $.ajax({
                        url: '@Url.Action("GetDeviceAreasByDeviceId", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_deviceId": lastOptionClickedDeviceId,
                        },
                        success: function (data) {
                            $("#bgilistesi tbody").html("");
                                for (var i = 0; i < data.length; i++) {
                                var item = data[i];
                                var html = "";
                                html += "<tr>";
                                html += "<td>"+item.Name+"</td>";
                                html += "</tr>";
                                $("#bgilistesi tbody").append(html);
                           }
                        }
                    });
        }
        function GetRouteForDevice()
            {
                    $("#rgilistesi tbody").html("");
                    $.ajax({
                        url: '@Url.Action("GetDeviceRoutesByDeviceId", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_deviceId": lastOptionClickedDeviceId,
                        },
                        success: function (data) {
                            $("#rgilistesi tbody").html("");
                                for (var i = 0; i < data.length; i++) {
                                var item = data[i];
                                var html = "";
                                html += "<tr>";
                                html += "<td>"+item.Name+"</td>";
                                html += "</tr>";
                                $("#rgilistesi tbody").append(html);
                           }
                        }
                    });
        }
        function ExportAreaForDevice() {
                var deviceId = $('#vehicleNameABI2').val();
                //var host = window.location.origin;
               // var controller = '@Url.Action("ExportAreasForDevice", "Home")';
                //var link = host + controller + "?_deviceId="+deviceId;
                $.ajax({
                        url: '@Url.Action("ExportAreasForDevice", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_deviceId": deviceId,
                        },
                    success: function (data) {
                        if (data) {
                            window.location = data;
                        }
                        else {
                            swal("Hata!", "Aranan Kriterlere Göre Bölge verisi bulunamadı..", "error");
                            return;
                        }

                        }
                    });

        }
        function ExportRouteForDevice() {
                var deviceId = $('#vehicleNameARI2').val();
                //var host = window.location.origin;
               // var controller = '@Url.Action("ExportAreasForDevice", "Home")';
                //var link = host + controller + "?_deviceId="+deviceId;
                $.ajax({
                        url: '@Url.Action("ExportRoutesForDevice", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_deviceId": deviceId,
                        },
                    success: function (data) {
                        if (data) {
                            window.location = data;
                        }
                        else {
                            swal("Hata!", "Aranan Kriterlere Göre Rota verisi bulunamadı..", "error");
                            return;
                        }

                        }
                    });

        }
        //Araç Programlama Excel
        function ExportAP() {
                var groupIdAP = $('#groupIdAP').val();
                var host = window.location.origin;
                var controller = '@Url.Action("ExportAP", "Home")';
                var link = host + controller + "?_groupIdAP="+groupIdAP;
                window.location = link;

            }
        function GetUserList(isDefault=false) {
                $('#kullanıcılarmodals').modal('show');
                $("#userListTableContainer").html('');
                 $('#loadingContainer7').show();
               var   userCodeTF  = $("#userCodeTF ").val();
               var   userNameTF  = $("#userNameTF ").val();
               var   userSurnameTF  = $("#userSurnameTF ").val();
               var   userAuthorityTF = $("#userAuthorityTF").val();
                 $.ajax({
                        url: '@Url.Action("GetUserList", "Home")',
                        type: 'POST',
                        dataType: 'html',
                        data: {
                            "_userCodeTF": (isDefault ? "" : userCodeTF),
                            "_userNameTF": (isDefault ? "" : userNameTF),
                            "_userSurnameTF": (isDefault ? "" : userSurnameTF),
                            "_userAuthorityTF": (isDefault ? "0" : userAuthorityTF)
                        },
                     success: function (data) {
                             $('#loadingContainer7').hide();
                             $("#userListTableContainer").html(data);
                        }
                    });

        }
        function GetAuthomaticReportList() {

            $("#otomatikRaporlarListesi tbody").html('');
             $.ajax({
                        url: '@Url.Action("GetAllReportsByUser", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                 },
                 success: function (data) {
                     for (var i = 0; i < data.length; i++) {
                         var selected = "";
                         var statu = "",selected2="",statu2="";
                         var item = data[i];
                         if (item.ReportStatus=="Aktif") {
                             selected = "Aktif";
                             statu = "Pasif";
                         }
                         else {
                             statu = "Aktif";
                             selected = "Pasif";
                         }
                         if (item.ReportType=="PDF") {
                             selected2 = "PDF";
                             statu2 = "EXCEL";
                         }
                         else if(item.ReportType=="EXCEL") {
                             statu2 = "PDF";
                             selected2 = "EXCEL";
                         }
                         var html = "";
                         html += "<tr>";
                         html += "<td>" + "<button onclick=' GetDevicesByCompanyForAR("+item.UserReportId+")' type='button' data-toggle='modal' data-target='#ChooseVehicleForAR' class='btn btn-dark btn-xs'><i class='fa fa-car' aria-hidden='true'></i></button>" + "</td>";
                         html += "<td>" + "<button class='btn btn-dark btn-xs' onclick='UpdateAutomaticReporting("+item.UserReportId+")'>Güncelle</button>" + "</td>";
                         html += "<td>" + item.Name + "</td>";
                         html += "<td>" + " <select id='lastReportStatus' class='form-control w-auto' style='font-size: 9px'><option value='"+selected+"'>" + selected + "</option><option value='"+statu+"'>" + statu + "</option></select>" + "</td>";
                         html += "<td>" + " <select id='lastReportType' class='form-control w-auto' style='font-size: 9px'><option value='"+selected2+"'>" + selected2 + "</option><option  value='"+statu2+"'>" + statu2 + "</option></select>" + "</td>";
                         html += "<td>Günlük</td>";
                         html += "</tr>";
                         $("#otomatikRaporlarListesi tbody").append(html);
                     }
                 }
                    });
        }
        function ShowUserModal() {
		        $("#newUserModal input[type='text']").val('');
		        $("#newUserModal select").val('0');
		        $('#newUserModal').modal('show');
            }
        var lastDeviceDataIdTLPL = 0;
        $('#listPastLocationBTN').click(function () {
            $('#pastLocationTable tbody').html("");
            GetPastLocationList();
        });
        $('#restartLeftSide').click(function () {
            $('#araclarListesiPanel tbody').html("");
            lastDeviceInformationId = 0;
            GetDevicesInformationForFrontSide();
        });
        $('#AracProgModalCLICK').click(function () {
            GetDeviceListAP();
        });
        $('#pastLocationInfoCLICK').click(function () {
              var groupIdTLPL= $('#groupIdTLPL').val();
                        $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": groupIdTLPL
                        },
                        success: function (data) {
                            if (data) {
                                $('#deviceIdTLPL').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#deviceIdTLPL').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#deviceIdTLPL').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                            }
                        }
                    });
        });
        function GetVehicleListTLPL() {
            var groupIdTLPL= $('#groupIdTLPL').val();
                        $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": groupIdTLPL
                        },
                        success: function (data) {
                            if (data) {
                                $('#deviceIdTLPL').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#deviceIdTLPL').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#deviceIdTLPL').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                            }
                        }
                    });
        }
        function GetPastLocationList(isDefault = false) {
            $("#loadingContainer").show();
            var deviceIdTLPL = $("#deviceIdTLPL").val();
            var startDateTLPL = $("#startDateTLPL").val();
            var endDateTLPL = $("#endDateTLPL").val();

            $.ajax({
                url: '@Url.Action("GetPastLocationList", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    "_startDateTLPL": startDateTLPL,
                    "_endDateTLPL": endDateTLPL,
                    "_lastIdTLPL": lastDeviceDataIdTLPL,
                    "_deviceIdTLPL": deviceIdTLPL,
                },
                success: function (data) {
                    if (data) {
                        for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            $("#loadingContainer").hide();
                            var html = "";
                            html += "<tr>";
                            html += "<td>" + item.AracAdi + "</td>";
                            html += "<td>" + item.Zaman + "</td>";
                            html += "<td>" + item.Hiz + "</td>";
                            html += "<td>" + item.AracKm + "</td>";
                            html += "<td>" + item.TotalKm + "</td>";
                            html += "<td>" + "<a href='javascript:;' onclick='DisplayDevicePastLocationOnModal(" + item.LastDeviceDataId + ")'>" + item.Konum + "</a>" + "</td>";
                            html += "<td>" + item.Enlem + "</td>";
                            html += "<td>" + item.Boylam + "</td>";
                            html += "<td>" + "Olay Detay" + "</td>";
                            html += "</tr>";
                            $("#pastLocationTable tbody").append(html);
                        }

                        lastDeviceDataIdTLPL = data[data.length - 1].LastDeviceDataId;
                    }
                    else {
                        $("#loadingContainer").hide();
                            swal("Hata!", "Aranan Kriterlere Göre Geçmiş konum verisi bulunamadı..", "error");
                            return;
                    }
                }
            });
        }
        function DisplayDevicePastLocationOnModal(lastDeviceDataId) {

            $('#mapToShowSpesificDevice').modal('show');

              initMap3();
            $.ajax({
                url: '@Url.Action("DisplayDevicePastLocationOnModal","Home")',
                dataType: 'json',
                type: 'json',
                data:{
                    '_lastDeviceDataId': lastDeviceDataId
                },
                success: function (item) {
                    $('#vehicleCarPlateForMap3').text(item.CarPlateNumber);
                  var icon = {
                                path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                                scale: 5,
                                fillColor: (item.IoStatus == "Açık" ? "limegreen" : "red"),
                                fillOpacity: 0.8,
                                strokeWeight: 1,
                                rotation: item.DirectionDegree, //this is how to rotate the pointer
                                labelOrigin: { x: 0, y: 0 },
                    };

				var marker = new google.maps.Marker({
                                    position: { lat: item.lat, lng: item.lng },
                                    title: item.CarPlateNumber,
                                    icon: icon,
                                    map: map3,
                                    label: {
                                        color: '#222222',
                                        fontSize: '15px'
                                    }
                  });
                }
            });
        }
        $('#drawPastLocationOnMapBTN').click(function () {
            $('#mapToDrawPolylines').modal('show');
            $('#mapToDrawPolylinesHeader').text("Geçmiş Konum:");
              var myLatLng = { lat: 41.015137, lng: 28.979530 };
            initMap2(myLatLng);
            var deviceIdTLPL = $("#deviceIdTLPL").val();
            var startDateTLPL = $("#startDateTLPL").val();
            var endDateTLPL = $("#endDateTLPL").val();
            $.ajax({
                   url: '@Url.Action("DrawDevicePastLocationOnModal","Home")',
                dataType: 'json',
                type: 'json',
                data:{
                    '_deviceIdTLPL': deviceIdTLPL,
                    '_startDateTLPL': startDateTLPL,
                    '_endDateTLPL':endDateTLPL,
                },
                success: function (data) {
                    var directionDegrees = [];
                    var flightPlanCoordinates = [];
                    for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                        flightPlanCoordinates.push({ lat: item.lat, lng: item.lng });
                        directionDegrees.push(item.DirectionDegree);
                    }

                        var baslangicLatLong = flightPlanCoordinates[0];
                        var sonLatLong = flightPlanCoordinates[flightPlanCoordinates.length - 1];

 		   var iconBaslangic= {
                                    path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                                    scale: 4,
                                    fillColor: "#66ff00",
                                    fillOpacity: 0.8,
                                    strokeWeight: 1,
                                    rotation: directionDegrees[0]
                                };
                    var markerBaslangic = new google.maps.Marker({
                                    position: { lat: baslangicLatLong.lat, lng: baslangicLatLong.lng },
                                    icon: iconBaslangic,
                                    map: map2,
                                    title:'Başlangıç'
                                });
                     var iconBitis= {
                                    path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                                    scale: 4,
                                    fillColor: "#FF0000",
                                    fillOpacity: 0.8,
                                    strokeWeight: 1,
                                    rotation: directionDegrees[directionDegrees.length-1]
                                };
                    var markerBitis = new google.maps.Marker({
                                    position: { lat: sonLatLong.lat, lng: sonLatLong.lng },
                                    icon: iconBitis,
                                    map: map2,
                                    title:'Bitiş'
                                });
                    markerBaslangic.setMap(map2);
                    markerBitis.setMap(map2);
                     var flightPath = new google.maps.Polyline({
                              path: flightPlanCoordinates,
                              geodesic: true,
                              strokeColor: '#000000',
                              strokeOpacity: 1.0,
                              strokeWeight: 2
                     });
                     flightPath.setMap(map2);

                }
            });

        });
        $('#exportExcelPastLocationList').click(function () {
            $('#loadingModal').modal('show');
            var vehicleList = [];
            var deviceIdTLPL = $("#deviceIdTLPL").val();
            var startDateTLPL = $("#startDateTLPL").val();
            var endDateTLPL = $("#endDateTLPL").val();
            vehicleList.push(deviceIdTLPL);
            var isDateValid = calculateDays(startDateTLPL, startDateTLPL,7);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 7 Gündür", "error");
                return;
            }
            var fileTypeGKR = 1;
            /*var host = window.location.origin;*/
            var download = 1;
            //var link = host + controller + "?_startDateGKR=" + startDateGKR + "&_endDateGKR=" + endDateGKR + "&_vehiclesGKR=" + vehiclesGKR;
            /*var link = host + controller + "?_startDateGKR=" + startDateTLPL + "&_endDateGKR=" + endDateTLPL + "&_vehiclesGKR=" + vehicleList + "&_fileTypeGKR=" + fileTypeGKR+"&_downloadOrMail="+download;
            window.location = link;*/
            $.ajax({
                    url: '@Url.Action("ExportGecmisKonumRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_startDateGKR":startDateTLPL,
                        "_endDateGKR":endDateTLPL,
                        "_vehiclesGKR":vehicleList,
                        "_fileTypeGKR":fileTypeGKR,
                        "_downloadOrMail":download
                    },
                    success: function (data) {
                        window.location = data;
                        $('#loadingModal').modal('hide');
                    }
                 });
        });
        $('#exportExcelSeferOzetiListBTN').click(function () {
            $('#loadingModal').modal('show');
            var vehicleList = [];
            var vehicleIdTL  = $("#vehicleIdTL").val();
            var startDateTL = $("#startDateTL").val();
            var endDateTL = $("#endDateTL").val();
            var fileTypeSOR = 1;
            var isDateValid = calculateDays(startDateTL, endDateTL, 7);
            vehicleList.push(vehicleIdTL);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 7 Gündür", "error");
                return;
            }
            var download = 1;
           // var host = window.location.origin;
            //var controller = '@Url.Action("ExportSeferOzetiRaporu", "Home")';

            //var link = host + controller + "?_startDateSOR=" + startDateSOR + "&_endDateSOR=" + endDateSOR + "&_vehiclesSOR=" + vehiclesSOR;
            /*var link = host + controller +"?_startDateSOR=" + startDateTL + "&_endDateSOR=" + endDateTL + "&_vehiclesSOR=" + vehicleList+ "&_fileTypeSOR="+fileTypeSOR+"&_downloadOrMail="+download;

            window.location = link;*/
            $.ajax({
                    url: '@Url.Action("ExportSeferOzetiRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_startDateSOR": startDateTL,
                        "_endDateSOR": endDateTL,
                        "_vehiclesSOR": vehicleList,
                        "_fileTypeSOR": fileTypeSOR,
                        "_downloadOrMail": download
                    },
                    success: function (data) {
                        window.location = data;
                        $('#loadingModal').modal('hide');
                    }
                 });
        });
        $('#exportExcelSeferOlayıListBTN').click(function () {
            $('#loadingModal').modal('show');
            var vehicleList = [];
            var vehicleIdO = $("#vehicleIdO").val();
            var groupIdO  = $("#groupIdO").val();
            var startDateO = $("#startDateO").val();
            var endDateO = $("#endDateO").val();
            var eventTypeO = $("#eventTypeO").val();
            var isDateValid = calculateDays(startDateO, endDateO, 7);
            vehicleList.push(vehicleIdO);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 7 Gündür", "error");
                return;
            }
            @*var host = window.location.origin;
            var controller = '@Url.Action("ExportSeferOlayRaporuEXCEL", "Home")';
            var link = host + controller + "?_vehicleIdO=" + vehicleList + "&_groupIdO=" + groupIdO + "&_eventTypeO=" + eventTypeO + "&_startDateO=" + startDateO + "&_endDateO=" + endDateO;
            window.location = link;*@
            $.ajax({
                    url: '@Url.Action("ExportSeferOlayRaporuEXCEL", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_vehicleIdO": vehicleList,
                        "_groupIdO": groupIdO,
                        "_eventTypeO": eventTypeO,
                        "_startDateO": startDateO,
                        "_endDateO":endDateO
                    },
                success: function (data) {
                        window.location = data;
                        $('#loadingModal').modal('hide');
                    }
                 });
        });
        $('#ExportVehiclesCLICK').click(function () {
            $('#loadingModal').modal('show');
            $.ajax({
                    url: '@Url.Action("ExportVehicles", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                    },
                    success: function (data) {
                        window.location = data;
                        $('#loadingModal').modal('hide');
                    }
                 });
        });
        function SaveCompanyShift() {

            var companyShiftId = $("#companyShiftId").val();
            var startDateCS = $("#startDateCS").val();
            var endDateCS = $("#endDateCS").val();
            var startHourCS = $("#startHourCS").val();
            var endHourCS = $("#endHourCS").val();
            var shiftNameCS = $("#shiftNameCS").val();
            var dataProcessCS = $("#dataProcessCS").val();
            var shiftSendPZTCS = $("#shiftSendPZTCS").is(':checked');
            var shiftSendSALCS = $("#shiftSendSALCS").is(':checked');
            var shiftSendCARCS = $("#shiftSendCARCS").is(':checked');
            var shiftSendPERCS = $("#shiftSendPERCS").is(':checked');
            var shiftSendCUMCS = $("#shiftSendCUMCS").is(':checked');
            var shiftSendCMTCS = $("#shiftSendCMTCS").is(':checked');
            var shiftSendPZRCS = $("#shiftSendPZRCS").is(':checked');

            if (shiftNameCS == "" || startHourCS == "" || endHourCS == "" ||startDateCS=="" || endDateCS=="") {
                swal("Hata !", "Yıldızlı (*) alanları boş bırakmayınız..", "error");
                return;
            }
            if ($('#daysOfShiftCS input[type=checkbox]').prop('checked') == false) {
                swal("Hata !", "Lütfen bir gün seçiniz", "error");
                return;
            }
            $.ajax({
                url: '@Url.Action("SaveCompanyShift", "Home")',
                dataType: 'json',
                data: {

                    "_companyShiftId": companyShiftId,
                    "_startDateCS": startDateCS,
                    "_endDateCS": endDateCS,
                    "_startHourCS": startHourCS,
                    "_endHourCS": endHourCS,
                    "_shiftNameCS": shiftNameCS,
                    "_dataProcessCS": dataProcessCS,
                    "_shiftSendPZTCS": shiftSendPZTCS,
                    "_shiftSendSALCS": shiftSendSALCS,
                    "_shiftSendCARCS": shiftSendCARCS,
                    "_shiftSendPERCS": shiftSendPERCS,
                    "_shiftSendCUMCS": shiftSendCUMCS,
                    "_shiftSendCMTCS": shiftSendCMTCS,
                    "_shiftSendPZRCS": shiftSendPZRCS
                },

                success: function (data) {
                    if (data) {
                        swal("Başarılı!", "Mesai Kaydedildi", "success");
                        GetCompanyShiftList();
                    }
                }
            });
        }
        function DeleteCompanyShift(id)
         {
            swal({
		 		title: "Emin misiniz?",
		 		text: "Bu mesaiyi silerseniz geri alamayacaksınız!!",
		 		icon: "warning",
		 		buttons: [
		 			'Hayır, iptal et!',
		 			'Evet, eminim!'
		 		],
		 		dangerMode: true,
		 	}).then(function (isConfirm) {
		 		if (isConfirm) {
		 			$.ajax({
		 				url: '@Url.Action("DeleteCompanyShift", "Home")',
		 				type: 'POST',
		 				dataType: 'json',
		 				data: {
		 					"_id": id
		 				},
		 				success: function (data) {
							if (data) {
                                swal('Başarılı!', 'Mesai Silindi!', 'success');
                                GetCompanyShiftList();
							}

						}
		 			});
		 		}
		 	})
         }
        function GetCompanyShiftList() {
            $("#companyShiftListContainer").html("");
            $('#companyShiftModal').modal('show');
            $.ajax({
                url: '@Url.Action("GetCompanyShiftList", "Home")',
                type: 'POST',
                dataType: 'html',
			    success: function (data) {
                    $("#companyShiftListContainer").html(data);
                }
            });

        }
        var trafficLayerMap1 = null;
        var trafficLayerMap2 = null;

    function toogleTraffic() {
        if (trafficLayerMap1 == null) {
            trafficLayerMap1 = new google.maps.TrafficLayer();
            trafficLayerMap1.setMap(map);

            trafficLayerMap2 = new google.maps.TrafficLayer();
            trafficLayerMap2.setMap(map2);
        }
        else {
            trafficLayerMap1.setMap(null);
            trafficLayerMap1 = null;

            trafficLayerMap2.setMap(null);
            trafficLayerMap2 = null;
        }
        }
        function changeMapType() {
        if (typeMapChange == "roadmap") {
            typeMapChange = "satellite";
        }
        else {
            typeMapChange = "roadmap";
        }

        map.setMapTypeId(typeMapChange);
        map2.setMapTypeId(typeMapChange);
        }
        function ShowCompanyEmployeeModal() {

	        	$("#yeniGorevliModal input[type='text']").val('');
	        	$("#yeniGorevliModal select").val('0');
	        	$('#yeniGorevliModal').modal('show');
         }
        function getEmployeeList() {
            var companyId = $('#empCompanyId').val();
                     $.ajax({
                         url: '@Url.Action("GetCompanyEmployeeList", "Home")',
                         type: 'POST',
                         dataType: 'html',
                         data: {
                             '_companyId':companyId
                         },
                         success: function (data) {
                             if (data) {
                                 $("#companyEmployeeListContainer").html(data);
                             }
                             else {
                                 $('#companyEmployeeTable tbody').html("Görevli bulunmamaktadır..");
                             }
                         }
                     })
        }
        $('#gorevlilerAction').click(function () {
            getEmployeeList();
        });
        function GetCompanyEmployeeToUpdate(empId) {
                 $.ajax({
                     url: '@Url.Action("GetCompanyEmployee", "Home")',
                     type: 'POST',
                     dataType: 'json',
                     data: {
                         '_employeeId': empId
                     },
                     success: function (data) {
                         if (data != null) {
                             $('#yeniGorevliModal').modal('show');
                             $("#empId").val(data["Id"]);
                             $("#empName").val(data["Name"]);
                             $("#empSurname").val(data["Surname"]);
                             if (data["BirthDate"] != null) {
                                 $("#empBirthDate").val(data["BirthDate"].split("T")[0]);
                             }
                              if (data["DriverLicenceDate"] != null) {
                                  $("#empLicenceDate").val(data["DriverLicenceDate"].split("T")[0]);
                             }
                             $("#empLicenceNo").val(data["DriverLicenceNumber"]);
                             $("#empLicenceClass").val(data["DriverLicenceClass"]);
                             $("#empPhoneNumber").val(data["PhoneNumber"]);
                             $("#empHomePhoneNumber").val(data["HomePhoneNumber"]);
                             $("#empAddress").val(data["Address"]);
                             $("#empOccupation").val(data["Occupation"]);
                             $("#empNo").val(data["EmployeeNo"]);
                             $("#empCompanyId").val(data["CompanyId"]);
                         }
                     }
                 });


            }
        function SaveCompanyEmployee(){
                 var empCompanyId = $("#empCompanyId").val();
                 var empId = $("#empId").val();
                 var empNo = $("#empNo").val();
                 var empName = $("#empName").val();
                 var empSurname = $("#empSurname").val();
                 var empBirthDate = $("#empBirthDate").val();
                 var empLicenceNo = $("#empLicenceNo").val();
                 var empLicenceClass = "0";
                     if ($("#empLicenceClass").val() != 0) {//Birşey seçiliyse
                         empLicenceClass = $("#empLicenceClass option:selected").text();
                    }
                 var empLicenceDate = $("#empLicenceDate").val();
                 var empPhoneNumber = $("#empPhoneNumber").val();
                 var empHomePhoneNumber = $("#empHomePhoneNumber").val();
                 var empAddress = $("#empAddress").val();
                 var empOccupation = "0";
                 if ($("#empOccupation").val() != 0) {
                     empOccupation = $("#empOccupation option:selected").text();
                 }
                if (empNo == "" || empName == "" || empSurname=="")
                {
                    swal("Hata !", "Lütfen * lı alanları boş bırakmayınız !", "error");
                    return;
                }
              $.ajax({
                    url: '@Url.Action("SaveCompanyEmployee","Home")',
                    type:'post',
                    dataType: 'json',
                    data: {
                        "_employeeId": empId,
                        "_empCompanyId": empCompanyId,
                        "_empNo": empNo,
                        "_empName": empName,
                        "_empSurname": empSurname,
                        "_empBirthDate": empBirthDate,
                        "_empLicenceNo": empLicenceNo,
                        "_empLicenceClass": empLicenceClass,
                        "_empLicenceDate": empLicenceDate,
                        "_empPhoneNumber": empPhoneNumber,
                        "_empHomePhoneNumber": empHomePhoneNumber,
                        "_empAddress": empAddress,
                        "_empOccupation": empOccupation,
                    },
              success: function (data) {
                    if (data) {
                        swal("Başarılı", "Kullanıcı Kaydedilmiştir ", "success");
                        getEmployeeList();
                    }
                    else {
                        swal("Hata !", "Kullanıcı Kaydedilemedi !", "error");
                    }
                  }
                });
        }
        function saveAlarm() {

                    var vehicleIdYAA = $("#vehicleIdYAA").val();
                    var alarmTypeIdYAA = $("#alarmTypeIdYAA").val();
                    var chooseDayYAA = $("#chooseDayYAA").val();
                    var startDateYAA = $("#startDateYAA").val();
                    var endDateYAA = $("#endDateYAA").val();
                    var emailYAA = $("#emailYAA").val();
                    var vehicleList = [];
                    var dayList= [];
                    if (vehicleIdYAA == "" || alarmTypeIdYAA == "" || chooseDayYAA == "" || startDateYAA == "" || endDateYAA == "" || emailYAA == "") {
                        swal("Hata !", "Lütfen alanları boş bırakmayınız !", "error");
                        return;
            }
                    for (var i = 0; i < vehicleIdYAA.length+1; i++) {
                        vehicleList.push(vehicleIdYAA[i]);
                    }
                     for (var i = 0; i < chooseDayYAA.length+1; i++) {
                        dayList.push(chooseDayYAA[i]);
                    }
              $.ajax({
                    url: '@Url.Action("SaveAlarm","Home")',
                    type:'post',
                    dataType: 'json',
                    data: {
                        "_vehicleIdYAA": vehicleList,
                        "_alarmTypeIdYAA": alarmTypeIdYAA,
                        "_chooseDayYAA": dayList,
                        "_startDateYAA": startDateYAA,
                        "_endDateYAA": endDateYAA,
                        "_emailYAA": emailYAA
                    },
                  success: function (data) {

                    if (data) {
                        swal("Başarılı", "Alarm Kaydedilmiştir ", "success");
                        GetAlarmList();
                    }
                    else {
                        swal("Hata !", "Alarm Kaydedilemedi !", "error");
                    }
                  }
                });
              }
        function SaveUser() {
                var userIdTAM = $('#userIdTAM').val();
                var usercodeTAM = $("#usercodeTAM").val();
                var passwordTAM = $("#passwordTAM").val();
                var passwordControlTAM = $("#passwordControlTAM").val();
                var usernameTAM = $("#usernameTAM").val();
                var userSurnameTAM = $("#userSurnameTAM").val();
                var userAuthorityIdTAM = $("#userAuthorityIdTAM").val();
                var userGeographicalAuthorityIdTAM = $("#userGeographicalAuthorityIdTAM").val();
                var userEmailTAM = $("#userEmailTAM").val();
                if (usercodeTAM == "" || passwordTAM == "" || passwordControlTAM == "") {
                    swal("Hata!", "Yıldızlı (*) alanları boş bırakmayınız..", "error")
                    return;
                }
                if (passwordTAM != passwordControlTAM) {
                    swal("Hata!", "Şifreler Eşleşmiyor !", "error")
                    return;
                }

                var canSave = false;

                if (usercodeTAM.length >= 3) {
                if (userIdTAM == 0) {
                $.ajax({
                url: '@Url.Action("CheckIfUserExist", "Home")',
                type: 'POST',
                dataType: 'json',
                async: false,
                data: {
                "_userCode": usercodeTAM
                },
                success: function (data) {
                if (data) {
                swal('Hata!', 'User içeride var', 'error');
                canSave = false;
                }
                else {
                canSave = true;
                }
                },
                error: function (err) {
                swal('Hata!', 'Lütfen geçerli user kodu giriniz !', 'error');
                }
                });
                }
                else {
                canSave = true;
                }
                }
                if (!canSave) {
                return;
                }

                $.ajax({
                url: '@Url.Action("SaveUser", "Home")',
                dataType: 'json',
                data: {
                "_userIdTAM": userIdTAM,
                "_usercodeTAM": usercodeTAM,
                "_passwordTAM": passwordTAM,
                "_passwordControlTAM": passwordControlTAM,
                "_usernameTAM": usernameTAM,
                "_userSurnameTAM": userSurnameTAM,
                "_userAuthorityIdTAM": userAuthorityIdTAM,
                "_userGeographicalAuthorityIdTAM": userGeographicalAuthorityIdTAM,
                "_userEmailTAM": userEmailTAM,
                },
                success: function (data) {
                if (data) {
                    swal("Başarılı!", "Kullanıcı Kaydedildi", "success");
                    GetUserList();
                }
                }
                });
                }
        function GetUserIdForDisplaying(id) {
                $.ajax({
                url: '@Url.Action("GetUserIdForDisplaying", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                "_id": id
                },
                success: function (data) {
                $('#newUserModal').modal('show');
                $("#userIdTAM").val(data["Id"]);
                $("#usercodeTAM").val(data["UserCode"]);
                $("#usernameTAM").val(data["Name"]);
                $("#userAuthorityIdTAM").val(data["AuthorizationTypeId"]);
                $("#userSurnameTAM").val(data["Surname"]);
                $("#userGeographicalAuthorityIdTAM").val(data["GeographicalAuthorityId"]);
                $("#userEmailTAM").val(data["Mail"]);
                $("#passwordTAM").val(data["Password"]);
                $("#passwordControlTAM").val(data["Password"]);
                }
                });
                }
        function DeleteUser(id) {
            swal({
                title: "Emin misiniz?",
                text: "Bu kullanıcıyı silerseniz geri alamayacaksınız!!",
                icon: "warning",
                buttons: [
                    'Hayır, iptal et!',
                    'Evet, eminim!'
                ],
                dangerMode: true,
            }).then(function (isConfirm) {
                if (isConfirm) {
                    $.ajax({
                        url: '@Url.Action("DeleteUser", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_id": id
                        },
                        success: function (data) {
                            if (data) {
                                swal('Başarılı!', 'Kullanıcı Silindi!', 'success');
                                GetUserList();
                            }

                        }
                    });
                }
            })

        }
        function ChangePassword() {
                var useroldpass = $('#useroldpass').val();
                var userPasswordToCheck = $('#userPasswordToCheck').val();
                var usernewpass = $('#usernewpass').val();
                var usernewrepass = $("#usernewrepass").val();

                if (useroldpass == "" || usernewpass== "" || usernewrepass=="")
                {
                    swal("Hata!","Yıldızlı (*) alanları boş bırakmayınız..","error")
                    return;
                }
            var passwordIsMatching = 0;
            $.ajax({
                url: '@Url.Action("GetHashedPassword", "Home")',
                dataType: 'json',
                async: false,
                data: {
                    "_hashedPassword": userPasswordToCheck,
                    "_password": useroldpass
                },
                success: function (data) {
                    if (data) {
                        passwordIsMatching = 1;
                    }
                }
            });
                if (passwordIsMatching==0) {
                    swal("Hata", "Eski şifre yanlış", "error");
                    return;
                }
                if (usernewpass == usernewrepass) {
                $.ajax({
                url: '@Url.Action("ChangePassword", "Home")',
                dataType: 'json',
                    data: {
                "_usernewpass": usernewpass
                },
                success: function (data) {
                if (data) {
                    swal("Başarılı!", "Şifre Değiştirildi", "success");
                       }
                     }
                });

                }
                else {
                    swal("Hata!", "Şifreler Eşleşmiyor !", "error")
                    return;
                }
            }
        function ShowUserQuestionAndAnswer() {
                $("#passwordRememberQuestion").modal('show');
                 $.ajax({
                url: '@Url.Action("GetUserQuestionAndAnswer", "Home")',
                dataType: 'json',
                success: function (data) {
                if (data) {
                     $("#questionIdTRP").val(data["QuestionId"]);
				     $("#questionAnswerTRP").val(data["Answer"]);
                       }
                     }
                });

            }
        function FillUserInformationFields() {
            $('#userInformation').modal('show');
            $.ajax({
                url: '@Url.Action("FillUserInformationFields", "Home")',
                dataType: 'json',
                success: function (data) {
                    if (data) {
                        $("#id").val(data["Id"]);
                        $("#userNameTU").val(data["Name"]);
                        $("#userLastNameTU").val(data["Surname"]);
                        $("#emailTU").val(data["Mail"]);
                        $("#homepageRefreshTimeTU").val(data["HomepageRefreshTime"]);
                    }
                }
            });
        }
        function FillDeviceInformationFields(id) {
                    $('#updatearacModals').modal('show');
            $.ajax({
                url: '@Url.Action("FillDeviceInformationFields", "Home")',
                dataType: 'json',
                type:'POST',
                data: {
                    "_fillDeviceLast":id
                },
                success: function (data) {
                    if (data) {
                        $("#updateDId").val(data["Id"]);
                        $("#carPlateNumberAG").val(data["CarPlateNumber"]);
                        $("#positionTimeAG").val(data["ProgrammedLocationSendTime"]);
                        $("#positionAG").val(data["ProgrammedLocationDistance"]);
                        $("#speedLimitAG").val(data["ProgrammedLocationSpeedLimit"]);
                        $("#deviceIdAG").val(data["DeviceId"]);
                        $("#deviceGsmAG").val(data["DeviceGSMNumber"]);
                        $("#doorSensorAG").val(data["DoorSensor"]);
                        $("#sensorAG").val(data["HeatSensor"]);
                        $("#messagingAG").val(data["MessagingId"]);
                        $("#telemetryAG").val(data["Telemetry"]);
                        $("#vehicleTypeAG").val(data["VehicleTypeId"]);
                        $("#usingStatusAG").val(data["UsingStatusId"]);
                        $("#descriptionAG").val(data["TechnicalNote"]);
                        $("#waitingTimeAG").val(data["ProgrammedWaitingTime"]);
                        $("#speedTypeAG").val(data["ProgrammedSpeedLimit"]);
                        vehicleTypeChange();
                    }
                }
            });
        }
        function SaveCompanyEmployeeMission() {
            var companyEmployeeMissionId=$('#companyEmployeeMissionId').val();
            var missionVehicleId = $('#missionVehicleId').val();
            var missionEmployeeId =$('#missionEmployeeId').val();
            var missionStartDate =$('#missionStartDate').val();
            var missionEndDate =$('#missionEndDate').val();
            var missionExplanation = $('#missionExplanation').val();
            if (missionVehicleId==null||missionVehicleId == "" ||  missionEmployeeId==null|| missionEmployeeId == "" || missionStartDate == "" || missionStartDate == "" || missionEndDate == "" || missionExplanation == "") { swal("Hata !", "Alanları Boş Bırakmayınız !", "error"); return; }
            $.ajax({
                url: '@Url.Action("SaveCompanyEmployeeMission", "Home")',
                dataType: 'json',
                type: 'POST',
                data: {
                    "_companyEmployeeMissionId":companyEmployeeMissionId,
                    "_missionVehicleId": missionVehicleId,
                    "_missionEmployeeId": missionEmployeeId,
                    "_missionStartDate": missionStartDate,
                    "_missionEndDate": missionEndDate,
                    "_missionVehicleId": missionVehicleId,
                    "_missionExplanation": missionExplanation,
                },
                success: function (data) {
                    if (data) {
                        swal("Başarılı !", "Görevli ataması kaydedildi..", "success");
                        GetCompanyEmployeeMissionList();
                        return;
                    }
                    else {
                        swal("Hata !", "Bir hata oluştu !", "danger");
                    }
                }
            });
        }
        function GetCompanyEmployeeMissionList() {
            $('#appendedCompanyEmployeeModal').modal('show');

            $.ajax({
                url: '@Url.Action("GetCompanyEmployeeMissionList", "Home")',
                dataType: 'json',
                type: 'POST',
                success: function (data) {
                    $('#appendedCompanyEmployeeListContainer tbody').html("");
                    if (data) {

                        var html = "";
                        for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            html += "<tr>";
                            html += "<td><a href='javascript:;' onclick='DeleteCompanyEmployeeMission("+item.Id+")'><i style='color:red;font-size:15px;' class='fa fa-trash'></i></a></td>"
                            html += "<td><a href='javascript:;'onclick='GetCompanyEmployeeMission("+item.Id+")'><i style='color:blue;font-size:15px;' class='fa fa-cog'></i></a></td>"
                            html += "<td>" + item.VehicleName + "</td>"
                            html += "<td>" + item.EmployeeNo + "</td>"
                            html += "<td>" + item.Name + "</td>"
                            html += "<td>" + item.Surname + "</td>"
                            html += "<td>" + item.Occupation + "</td>"
                            html += "<td>" + item.StartDate.replace("T"," ") + "</td>"
                            html += "<td>" + item.EndDate.replace("T"," ") + "</td>"
                            html += "<td>" + item.Explanation + "</td>"
                            html += "</tr>";
                        }

                        $('#appendedCompanyEmployeeListContainer tbody').append(html);
                    }
                    else {
                        $('#appendedCompanyEmployeeListContainer tbody').html("");
                    }
                }
            });

    }
        $('#companyEmployeeMissionAction').click(function () {
            GetCompanyEmployeeMissionList();
            var companyId = $('#empCompanyId').val();
            $.ajax({
                url: '@Url.Action("GetCompanyEmployeeListToMissionModal", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    '_companyId': companyId
                },
                success: function (data2) {
                    $("#missionEmployeeId").html("");
                    if (data2) {
                        for (var i = 0; i < data2.length; i++) {
                            var item = data2[i];
                            $("#missionEmployeeId").append('<option value=' + item.Id + '>' + item.Name + " " + item.Surname + '</option>');
                        }
                    }
                }
            });
            $.ajax({
                url: '@Url.Action("GetDeviceListToEmployeeMissionModal", "Home")',
                type: 'POST',
                dataType: 'json',
                success: function (data3) {
                    $("#missionVehicleId").html("");;
                    if (data3) {
                        for (var i = 0; i < data3.length; i++) {
                            var item = data3[i];
                            $("#missionVehicleId").append('<option value=' + item.Id + '>' + item.CarPlateNumber + '</option>');
                        }
                    }
                }
            });
        });
        function GetCompanyEmployeeMission(id) {
           $('#addMissionModal').modal('show');
            $.ajax({
                url: '@Url.Action("GetCompanyEmployeeMission", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    "_id": id
                },
                success: function (data) {
                    if (data) {

                        $('#companyEmployeeMissionId').val(data["Id"]);
                        $("#missionVehicleId").val(data["DeviceId"]);
                        $("#missionEmployeeId").val(data["EmployeeId"]);
                        $("#missionStartDate").val(data["StartDate"].split('T')[0]);
                        $("#missionEndDate").val(data["EndDate"].split('T')[0]);
                        $("#missionExplanation").val(data["Explanation"]);
                    }
                }
            });
        }
        function DeleteCompanyEmployeeMission(id) {
            swal({
                title: "Emin misiniz?",
                text: "Bu görev atamasını silerseniz geri alamayacaksınız!!",
                icon: "warning",
                buttons: [
                    'Hayır, iptal et!',
                    'Evet, eminim!'
                ],
                dangerMode: true,
            }).then(function (isConfirm) {
                if (isConfirm) {
                    $.ajax({
                        url: '@Url.Action("DeleteCompanyEmployeeMission", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_id": id
                        },
                        success: function (data) {
                            if (data) {
                                swal('Başarılı!', 'Görev Ataması Silindi!', 'success');
                                GetCompanyEmployeeMissionList();
                            }

                        }
                    });
                }
            })

        }
        function ShowCompanyEmployeeMissionSaveModal() {
            $("#addMissionModal input[type='text']").val('');
            $("#addMissionModal input[type='date']").val('');
            $("#addMissionModal textarea").val('');
            $('#addMissionModal').modal('show');
        }
    </script>
    <script>
        function tabbing(elem) {
            $(elem).parent().find(".tab_btn_active").removeClass("tab_btn_active");
            $(elem).addClass("tab_btn_active");
            $(elem).parent().find(".customTabContent").hide();
            $("#" + $(elem).attr("data-tab-target")).show();
        }
    </script>

    @*//REPORTS*@
    <script>
        var sayacRoute = 0;
        $('#genelRaporlarCLICK').click(function () {
            sayacRoute++;
            $.ajax({
                url: '@Url.Action("GetUsersAssignedReports","Home")',
                datatype: 'json',
                type: 'post',
                success: function (item) {
                    if (item.SeferOzetiRaporu) {
                        $('#seferOzetiRaporuCLICK').show();
                    }
                    if (item.SeferOlayRaporu) {
                        $('#seferOlayRaporuCLICK').show();
                    }
                    if (item.GecmisKonumRaporu) {
                        $('#gecmisKonumRaporuCLICK').show();
                    }
                    if (item.SonKonumRaporu) {
                        $('#sonKonumRaporuCLICK').show();
                    }
                    if (item.AracGiseRaporu) {
                        $('#aracGiseGecisRaporuCLICK').show();
                    }
                    if (item.BolgeGirisCikisRaporu) {
                        $('#bolgeVarisAyrilisRaporuCLICK').show();
                    }
                    if (item.RotaGirisCikisRaporu) {
                        $('#rotaVarisAyrilisRaporuCLICK').show();
                    }
                    if (item.HizAsimiRaporu) {
                        $('#hizAsimiRaporuCLICK').show();
                    }
                    if (item.DurakRaporu) {
                        $('#durakRaporuCLICK').show();
                    }
                    if (item.MesafeOzetRaporu) {
                        $('#mesafeOzetRaporuCLICK').show();
                        if (item.KontakDurumRaporu) {
                            $('#kontakDurumRaporuCLICK').show();
                        }
                    }
                }
            })
            $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId","Home")',
                        type: 'post',
                        dataType: 'json',
                        success: function (data) {
                             if (data) {
                                 $('#vehiclesSOR').html(""); $('#vehiclesGKR').html(""); $('#vehiclesMOR').html("");
                                 $('#vehiclesGGR').html("");$('#vehiclesBVAR').html("");$('#vehiclesRVAR').html("");$('#vehiclesSOLR').html("");$('#vehiclesKDR').html("");$('#vehiclesHAR').html("");
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesSOR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesGKR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesMOR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesGGR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesBVAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesRVAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesSOLR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesKDR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesHAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                    $('#vehiclesDR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesSOR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                                $('#vehiclesGKR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                                $('#vehiclesMOR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                                $('#vehiclesGGR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                                $('#vehiclesBVAR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                                $('#vehiclesRVAR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                                $('#vehiclesSOLR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                                $('#vehiclesKDR').append('<option>' + " Cihaz bulunamadı... " + '</option>');
                                $('#vehiclesHAR').append('<option>' + " Cihaz bulunamadı... " + '</option>');
                                $('#vehiclesDR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                            }
                        }
            });
            if (sayacRoute == 1) {
                $.ajax({
                    url: '@Url.Action("GetAllRoutesByUser", "Home")',
                    dataType: 'json',
                    data:
                    {
                    },
                    success: function (data) {
                        if (data) {
                            for (var i = 0; i < data.length; i++) {
                                item = data[i];
                                $('#companyRouteRVAR').append('<option value="' + item.Id + '">' + item.Name + '</option>');
                            }
                        }
                    }
                });
            }
        });
         function GroupDevicesToLeft(){
            $.ajax({
                    url: '@Url.Action("GroupDevicesToLeft", "Home")',
                    dataType: 'json',
                    data: {
                    },
                    success: function (data) {
                        if (data) {
                            for (var i = 0; i < data.length; i++) {
                                item = data[i];
                                $('#left').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                            }
                        }
                    }
                });
        }
        function calculateDays(startDatePARAM, endDatePARAM, dayToRestrict){
             var date1 = new Date(startDatePARAM);
             var date2 = new Date(endDatePARAM);

             var Difference_In_Time = date2.getTime() - date1.getTime();
             var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);
             if(Difference_In_Days<=dayToRestrict){
                 return true;
             }
             return false;
        }
        //Raporlar
        function SendReportWithEmail() {
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadSeferOzetiRaporu(2)')
                downloadSeferOzetiRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadGecmisKonumRaporu(2)')
                downloadGecmisKonumRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadSonKonumRaporu(2)')
                downloadSonKonumRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadMesafeOzetRaporu(2)')
                downloadMesafeOzetRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadAracGiseGecisRaporu(2)')
                downloadAracGiseGecisRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadBolgeVarisAyrilisRaporu(2)')
                downloadBolgeVarisAyrilisRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadRotaVarisAyrilisRaporu(2)')
                downloadRotaVarisAyrilisRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadSeferOlayRaporu(2)')
                downloadSeferOlayRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadHizAsimiRaporu(2)')
                downloadHizAsimiRaporu(2);
            if ($("#sendReportWithEmailMODAL").attr("data-report-name") == 'downloadKontakDurumRaporu(2)')
                downloadKontakDurumRaporu(2);
        }
        var loadingHtmlTemp = "";
        function downloadDurakRaporu(downloadOrMail) {
            var emailToSendReport = $('#emailToSendReport').val();
            var vehicleList = [];
            var vehiclesDR= $('#vehiclesDR').val();
            var startDateDR = $('#startDateDR').val();
            var endDateDR = $('#endDateDR').val();
            var fileTypeDR = $('#fileTypeDR').val();
            if (vehiclesDR == "" || startDateDR=="" || endDateDR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateDR, endDateDR,32);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                return;
            }
            for (var i = 0; i < vehiclesDR.length; i++) {
                 vehicleList.push(vehiclesDR[i]);
            }


            if (downloadOrMail == 2) {
                  $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportDurakRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateDR":startDateDR,
                              "_endDateDR":endDateDR,
                              "_vehiclesDR":vehicleList,
                              "_fileTypeDR":fileTypeDR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }
            if (fileTypeDR == 2 && downloadOrMail == 1) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportDurakRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_startDateDR":startDateDR,
                              "_endDateDR":endDateDR,
                              "_vehiclesDR":vehicleList,
                              "_fileTypeDR":fileTypeDR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeDR == 1 && downloadOrMail == 1) {
                    $('#loadingModal').modal('show');
                           $.ajax({
                               url: '@Url.Action("ExportDurakRaporu", "Home")',
                               type: 'POST',
                               dataType: 'json',
                               data: {
                                  "_startDateDR":startDateDR,
                                  "_endDateDR":endDateDR,
                                  "_vehiclesDR":vehicleList,
                                  "_fileTypeDR":fileTypeDR,
                                  "_downloadOrMail":downloadOrMail,
                                  "_emailToSendReport":emailToSendReport
                               },
                               success: function (data) {
                                    $('#loadingModal').modal('hide');
                                    window.location = data;
                               }
                       });
            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeSOLR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportSeferOlayRaporu", "Home")';
            //var link = host + controller + "?_startDateSOR=" + startDateSOR + "&_endDateSOR=" + endDateSOR + "&_vehiclesSOR=" + vehiclesSOR;
            var link = host + controller +"?_startDateSOLR=" + startDateSOLR + "&_endDateSOLR=" + endDateSOLR + "&_vehiclesSOLR=" + vehicleList+ "&_fileTypeSOLR="+fileTypeSOLR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;*@
            }
        function downloadSeferOzetiRaporu(downloadOrMail) {
            var emailToSendReport = $('#emailToSendReport').val();
            if (downloadOrMail == 2) {

                if (emailToSendReport == "") {
                    swal("Hata ! ", "E-maili boş bırakmayınız..", "error");
                    return;
                }
            }


            var vehicleList = [];
            //1 = download ,  2 = email
            var vehiclesSOR = $('#vehiclesSOR').val();
            var startDateSOR = $('#startDateSOR').val();
            var endDateSOR = $('#endDateSOR').val();
            var fileTypeSOR = $('#fileTypeSOR').val();
            if (vehiclesSOR == "" || startDateSOR=="" || endDateSOR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateSOR, endDateSOR,32);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                return;
            }
            for (var i = 0; i < vehiclesSOR.length; i++) {
                 vehicleList.push(vehiclesSOR[i]);
            }

            if (downloadOrMail == 2) {
                 $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportSeferOzetiRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateSOR":startDateSOR,
                              "_endDateSOR":endDateSOR,
                              "_vehiclesSOR":vehicleList,
                              "_fileTypeSOR":fileTypeSOR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");
                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }
            if (fileTypeSOR == 2 && downloadOrMail == 1) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);

                $.ajax({
                    url: '@Url.Action("ExportSeferOzetiRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                        "_startDateSOR": startDateSOR,
                        "_endDateSOR": endDateSOR,
                        "_vehiclesSOR": vehicleList,
                        "_fileTypeSOR": fileTypeSOR,
                        "_downloadOrMail": downloadOrMail,
                        "_emailToSendReport": emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeSOR == 1 && downloadOrMail == 1) {
                $('#loadingModal').modal('show');
                $.ajax({
                    url: '@Url.Action("ExportSeferOzetiRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_startDateSOR": startDateSOR,
                        "_endDateSOR": endDateSOR,
                        "_vehiclesSOR": vehicleList,
                        "_fileTypeSOR": fileTypeSOR,
                        "_downloadOrMail": downloadOrMail,
                        "_emailToSendReport": emailToSendReport
                    },
                    success: function (data) {

                         $('#loadingModal').modal('hide');
                         window.location = data;
                    }
                 });
            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email

            @*if (fileTypeSOR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportSeferOzetiRaporu", "Home")';
            //var link = host + controller + "?_startDateSOR=" + startDateSOR + "&_endDateSOR=" + endDateSOR + "&_vehiclesSOR=" + vehiclesSOR;



            var link = host + controller + "?_startDateSOR=" + startDateSOR + "&_endDateSOR=" + endDateSOR + "&_vehiclesSOR=" + vehicleList + "&_fileTypeSOR=" + fileTypeSOR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;
            }*@

        }
        function downloadGecmisKonumRaporu(downloadOrMail) {
            var vehicleList = [];

            var vehiclesGKR = $('#vehiclesGKR').val();
            var startDateGKR = $('#startDateGKR').val();
            var endDateGKR = $('#endDateGKR').val();
            var fileTypeGKR = $('#fileTypeGKR').val();
            if (vehiclesGKR == "" || startDateGKR=="" || endDateGKR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateGKR, endDateGKR,7);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 7 Gündür", "error");
                return;
            }

            for (var i = 0; i < vehiclesGKR.length; i++) {
                 vehicleList.push(vehiclesGKR[i]);
            }

            var emailToSendReport = $('#emailToSendReport').val();
            if (downloadOrMail == 2) {
                if (emailToSendReport == "") {
                    swal("Hata ! ", "E-maili boş bırakmayınız..", "error");
                    return;
                }
            }


            if (downloadOrMail == 2) {
                   $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportGecmisKonumRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateGKR":startDateGKR,
                              "_endDateGKR":endDateGKR,
                              "_vehiclesGKR":vehicleList,
                              "_fileTypeGKR":fileTypeGKR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }
            if (fileTypeGKR == 2 && downloadOrMail == 1) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportGecmisKonumRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_startDateGKR":startDateGKR,
                              "_endDateGKR":endDateGKR,
                              "_vehiclesGKR":vehicleList,
                              "_fileTypeGKR":fileTypeGKR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeGKR == 1 && downloadOrMail == 1) {
                $('#loadingModal').modal('show');
                $.ajax({
                    url: '@Url.Action("ExportGecmisKonumRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_startDateGKR":startDateGKR,
                        "_endDateGKR":endDateGKR,
                        "_vehiclesGKR":vehicleList,
                        "_fileTypeGKR":fileTypeGKR,
                        "_downloadOrMail":downloadOrMail,
                        "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                         $('#loadingModal').modal('hide');
                         window.location = data;
                    }
                 });

            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeGKR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportGecmisKonumRaporu", "Home")';
            var link = host + controller +"?_startDateGKR=" + startDateGKR + "&_endDateGKR=" + endDateGKR + "&_vehiclesGKR=" + vehicleList+ "&_fileTypeGKR="+fileTypeGKR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;*@
            }
        function downloadSonKonumRaporu(downloadOrMail) {

            var emailToSendReport = $('#emailToSendReport').val();
            if (downloadOrMail == 2) {
                if (emailToSendReport == "") {
                    swal("Hata ! ", "E-maili boş bırakmayınız..", "error");
                    return;
                }
            }

            var groupIdSKR = $('#groupIdSKR').val();
            var fileTypeSKR = $('#fileTypeSKR').val();
            var host = window.location.origin;


            if (downloadOrMail == 2) {
                $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportSonKonumRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_groupIdSKR":groupIdSKR,
                              "_fileTypeSKR":fileTypeSKR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }

            if (fileTypeSKR == 2 && downloadOrMail == 1) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportSonKonumRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_groupIdSKR":groupIdSKR,
                              "_fileTypeSKR":fileTypeSKR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeSKR == 1 && downloadOrMail == 1) {
                $('#loadingModal').modal('show');
                $.ajax({
                    url: '@Url.Action("ExportSonKonumRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                              "_groupIdSKR":groupIdSKR,
                              "_fileTypeSKR":fileTypeSKR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                         $('#loadingModal').modal('hide');
                         window.location = data;
                    }
                 });
            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeSKR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportSonKonumRaporu", "Home")';
            //var link = host + controller + "?_startDateSOR=" + startDateSOR + "&_endDateSOR=" + endDateSOR + "&_vehiclesSOR=" + vehiclesSOR;
            var link = host + controller + "?_groupIdSKR=" + groupIdSKR + "&_fileTypeSKR=" + fileTypeSKR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;}*@

        }
        function downloadMesafeOzetRaporu(downloadOrMail) {

            var emailToSendReport = $('#emailToSendReport').val();
            if (downloadOrMail == 2) {
                if (emailToSendReport == "") {
                    swal("Hata ! ", "E-maili boş bırakmayınız..", "error");
                    return;
                }
            }
            var vehicleList = [];
            var vehiclesMOR = $('#vehiclesMOR').val();
            var startDateMOR = $('#startDateMOR').val();
            var endDateMOR = $('#endDateMOR').val();
            var fileTypeMOR = $('#fileTypeMOR').val();
            if (vehiclesMOR == "" || startDateMOR=="" || endDateMOR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateMOR, endDateMOR,32);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                return;
            }
            for (var i = 0; i < vehiclesMOR.length; i++) {
                 vehicleList.push(vehiclesMOR[i]);
            }


            if (downloadOrMail == 2) {
                $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportMesafeOzetRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateMOR":startDateMOR,
                              "_endDateMOR":endDateMOR,
                              "_vehiclesMOR":vehicleList,
                              "_fileTypeMOR":fileTypeMOR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }
            if (fileTypeMOR == 2 && downloadOrMail == 1) {
               loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportMesafeOzetRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_startDateMOR":startDateMOR,
                              "_endDateMOR":endDateMOR,
                              "_vehiclesMOR":vehicleList,
                              "_fileTypeMOR":fileTypeMOR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeMOR == 1 && downloadOrMail == 1) {
                $('#loadingModal').modal('show');
                $.ajax({
                    url: '@Url.Action("ExportMesafeOzetRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_startDateMOR":startDateMOR,
                        "_endDateMOR":endDateMOR,
                        "_vehiclesMOR":vehicleList,
                        "_fileTypeMOR":fileTypeMOR,
                        "_downloadOrMail":downloadOrMail,
                        "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                         $('#loadingModal').modal('hide');
                         window.location = data;
                    }
                 });
            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeMOR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportMesafeOzetRaporu", "Home")';
            var link = host + controller +"?_startDateMOR=" + startDateMOR + "&_endDateMOR=" + endDateMOR + "&_vehiclesMOR=" + vehicleList+ "&_fileTypeMOR="+fileTypeMOR+ "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;$('#loadingModal').modal('hide');
            window.location = link;*@
            }
        function downloadAracGiseGecisRaporu(downloadOrMail) {
             var emailToSendReport = $('#emailToSendReport').val();
             if (downloadOrMail == 2) {
                if (emailToSendReport == "") {
                    swal("Hata ! ", "E-maili boş bırakmayınız..", "error");
                    return;
                }
             }
              var vehicleList = [];

              var vehiclesGGR = $('#vehiclesGGR').val();
              var startDateGGR = $('#startDateGGR').val();
              var endDateGGR = $('#endDateGGR').val();
              var fileTypeGGR = $('#fileTypeGGR').val();
              if (vehiclesGGR == "" || startDateGGR=="" || endDateGGR =="") {
                  swal("Hata!","Alanları boş bırakmayınız..","error");
                  return;
             }
             var isDateValid = calculateDays(startDateGGR, endDateGGR,32);
                if (isDateValid == false) {
                    swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                    return;
                }
              for (var i = 0; i < vehiclesGGR.length; i++) {
                   vehicleList.push(vehiclesGGR[i]);
             }


             if (downloadOrMail == 2) {
                   $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportGiseGecisRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateGGR":startDateGGR,
                              "_endDateGGR":endDateGGR,
                              "_vehiclesGGR":vehicleList,
                              "_fileTypeGGR":fileTypeGGR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
             }
             if (fileTypeGGR == 2 && downloadOrMail == 1) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                 $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportGiseGecisRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data:{
                              "_startDateGGR":startDateGGR,
                              "_endDateGGR":endDateGGR,
                              "_vehiclesGGR":vehicleList,
                              "_fileTypeGGR":fileTypeGGR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
             }
             if (fileTypeGGR == 1 && downloadOrMail == 1) {
                 $('#loadingModal').modal('show');
                $.ajax({
                    url: '@Url.Action("ExportGiseGecisRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_startDateGGR":startDateGGR,
                        "_endDateGGR":endDateGGR,
                        "_vehiclesGGR":vehicleList,
                        "_fileTypeGGR":fileTypeGGR,
                        "_downloadOrMail":downloadOrMail,
                        "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                         $('#loadingModal').modal('hide');
                         window.location = data;
                    }
                 });
             }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeGGR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportGiseGecisRaporu", "Home")';
            //var link = host + controller + "?_startDateSOR=" + startDateSOR + "&_endDateSOR=" + endDateSOR + "&_vehiclesSOR=" + vehiclesSOR;
            var link = host + controller +"?_startDateGGR=" + startDateGGR + "&_endDateGGR=" + endDateGGR + "&_vehiclesGGR=" + vehicleList+ "&_fileTypeGGR="+fileTypeGGR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
             $('#loadingModal').modal('hide');
            window.location = link;*@
            }
        function downloadBolgeVarisAyrilisRaporu(downloadOrMail) {
            var emailToSendReport = $('#emailToSendReport').val();
            if (downloadOrMail == 2) {
                if (emailToSendReport == "") {
                    swal("Hata ! ", "E-maili boş bırakmayınız..", "error");
                    return;
                }
            }
            var vehicleList = [];
	        var companyAreaBVAR= $('#companyAreaBVAR').val();
            var vehiclesBVAR = $('#vehiclesBVAR').val();
            var startDateBVAR = $('#startDateBVAR').val();
            var endDateBVAR = $('#endDateBVAR').val();
            var fileTypeBVAR = $('#fileTypeBVAR').val();
            if (vehiclesBVAR == "" || startDateBVAR=="" || endDateBVAR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateBVAR, endDateBVAR,32);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                return;
            }

            for (var i = 0; i < vehiclesBVAR.length; i++) {
                 vehicleList.push(vehiclesBVAR[i]);
            }


            if (downloadOrMail == 2) {
                      $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportBolgeVarisAyrilisRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateBVAR":startDateBVAR,
                              "_endDateBVAR":endDateBVAR,
                              "_companyAreaBVAR":companyAreaBVAR,
                              "_vehiclesBVAR":vehicleList,
                              "_fileTypeBVAR":fileTypeBVAR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }
            if (fileTypeBVAR == 2 && downloadOrMail == 1) {
               loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportBolgeVarisAyrilisRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_startDateBVAR":startDateBVAR,
                              "_endDateBVAR":endDateBVAR,
                              "_companyAreaBVAR":companyAreaBVAR,
                              "_vehiclesBVAR":vehicleList,
                              "_fileTypeBVAR":fileTypeBVAR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeBVAR == 1 && downloadOrMail == 1) {
                      $('#loadingModal').modal('show');
                $.ajax({
                    url: '@Url.Action("ExportBolgeVarisAyrilisRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_startDateBVAR":startDateBVAR,
                        "_endDateBVAR":endDateBVAR,
                        "_companyAreaBVAR":companyAreaBVAR,
                        "_vehiclesBVAR":vehicleList,
                        "_fileTypeBVAR":fileTypeBVAR,
                        "_downloadOrMail":downloadOrMail,
                        "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                         $('#loadingModal').modal('hide');
                         window.location = data;
                    }
                 });
            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeBVAR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportBolgeVarisAyrilisRaporu", "Home")';
            var link = host + controller +"?_startDateBVAR=" + startDateBVAR + "&_endDateBVAR=" + endDateBVAR +"&_companyAreaBVAR=" + companyAreaBVAR+ "&_vehiclesBVAR=" + vehicleList+ "&_fileTypeBVAR="+fileTypeBVAR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;*@
        }
        function downloadRotaVarisAyrilisRaporu(downloadOrMail) {
            var emailToSendReport = $('#emailToSendReport').val();
            if (downloadOrMail == 2) {
                if (emailToSendReport == "") {
                    swal("Hata ! ", "E-maili boş bırakmayınız..", "error");
                    return;
                }
            }
            var vehicleList = [];
	        var companyRouteRVAR= $('#companyRouteRVAR').val();
            var vehiclesRVAR = $('#vehiclesRVAR').val();
            var startDateRVAR = $('#startDateRVAR').val();
            var endDateRVAR = $('#endDateRVAR').val();
            var fileTypeRVAR = $('#fileTypeRVAR').val();
            if (vehiclesRVAR == "" || startDateRVAR=="" || endDateRVAR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateRVAR, endDateRVAR,32);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                return;
            }

            for (var i = 0; i < vehiclesRVAR.length; i++) {
                 vehicleList.push(vehiclesRVAR[i]);
            }


            if (downloadOrMail == 2) {
                      $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportRotaVarisAyrilisRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateRVAR":startDateRVAR,
                              "_endDateRVAR":endDateRVAR,
                              "_companyRouteRVAR":companyRouteRVAR,
                              "_vehiclesRVAR":vehicleList,
                              "_fileTypeRVAR":fileTypeRVAR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }
            if (fileTypeRVAR == 2 && downloadOrMail == 1) {
               loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportRotaVarisAyrilisRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_startDateRVAR":startDateRVAR,
                              "_endDateRVAR":endDateRVAR,
                              "_companyRouteRVAR":companyRouteRVAR,
                              "_vehiclesRVAR":vehicleList,
                              "_fileTypeRVAR":fileTypeRVAR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeRVAR == 1 && downloadOrMail == 1) {
                      $('#loadingModal').modal('show');
                $.ajax({
                    url: '@Url.Action("ExportRotaVarisAyrilisRaporu", "Home")',
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        "_startDateRVAR":startDateRVAR,
                        "_endDateRVAR":endDateRVAR,
                        "_companyRouteRVAR":companyRouteRVAR,
                        "_vehiclesRVAR":vehicleList,
                        "_fileTypeRVAR":fileTypeRVAR,
                        "_downloadOrMail":downloadOrMail,
                        "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                         $('#loadingModal').modal('hide');
                         window.location = data;
                    }
                 });
            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeBVAR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportBolgeVarisAyrilisRaporu", "Home")';
            var link = host + controller +"?_startDateBVAR=" + startDateBVAR + "&_endDateBVAR=" + endDateBVAR +"&_companyAreaBVAR=" + companyAreaBVAR+ "&_vehiclesBVAR=" + vehicleList+ "&_fileTypeBVAR="+fileTypeBVAR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;*@
            }
        function downloadSeferOlayRaporu(downloadOrMail) {
            var emailToSendReport = $('#emailToSendReport').val();
            var vehicleList = [];
            var vehiclesSOLR= $('#vehiclesSOLR').val();
            var startDateSOLR = $('#startDateSOLR').val();
            var endDateSOLR = $('#endDateSOLR').val();
            var fileTypeSOLR = $('#fileTypeSOLR').val();
            if (vehiclesSOLR == "" || startDateSOLR=="" || endDateSOLR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateSOLR, endDateSOLR,32);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                return;
            }
            for (var i = 0; i < vehiclesSOLR.length; i++) {
                 vehicleList.push(vehiclesSOLR[i]);
            }


            if (downloadOrMail == 2) {
                  $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportSeferOlayRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateSOLR":startDateSOLR,
                              "_endDateSOLR":endDateSOLR,
                              "_vehiclesSOLR":vehicleList,
                              "_fileTypeSOLR":fileTypeSOLR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }
            if (fileTypeSOLR == 2 && downloadOrMail == 1) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportSeferOlayRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_startDateSOLR":startDateSOLR,
                              "_endDateSOLR":endDateSOLR,
                              "_vehiclesSOLR":vehicleList,
                              "_fileTypeSOLR":fileTypeSOLR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeSOLR == 1 && downloadOrMail == 1) {
                    $('#loadingModal').modal('show');
                           $.ajax({
                               url: '@Url.Action("ExportSeferOlayRaporu", "Home")',
                               type: 'POST',
                               dataType: 'json',
                               data: {
                                  "_startDateSOLR":startDateSOLR,
                                  "_endDateSOLR":endDateSOLR,
                                  "_vehiclesSOLR":vehicleList,
                                  "_fileTypeSOLR":fileTypeSOLR,
                                  "_downloadOrMail":downloadOrMail,
                                  "_emailToSendReport":emailToSendReport
                               },
                               success: function (data) {
                                    $('#loadingModal').modal('hide');
                                    window.location = data;
                               }
                       });
            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeSOLR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportSeferOlayRaporu", "Home")';
            //var link = host + controller + "?_startDateSOR=" + startDateSOR + "&_endDateSOR=" + endDateSOR + "&_vehiclesSOR=" + vehiclesSOR;
            var link = host + controller +"?_startDateSOLR=" + startDateSOLR + "&_endDateSOLR=" + endDateSOLR + "&_vehiclesSOLR=" + vehicleList+ "&_fileTypeSOLR="+fileTypeSOLR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;*@
        }
        function downloadHizAsimiRaporu(downloadOrMail) {
            var emailToSendReport = $('#emailToSendReport').val();
            var vehicleList = [];
            var vehiclesHAR= $('#vehiclesHAR').val();
            var startDateHAR = $('#startDateHAR').val();
            var endDateHAR = $('#endDateHAR').val();
            var fileTypeHAR = $('#fileTypeHAR').val();
            if (vehiclesHAR == "" || startDateHAR=="" || endDateHAR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateHAR, endDateHAR,32);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                return;
            }
            for (var i = 0; i < vehiclesHAR.length; i++) {
                 vehicleList.push(vehiclesHAR[i]);
            }


            if (downloadOrMail == 2) {
                  $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportHizAsimiRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateHAR":startDateHAR,
                              "_endDateHAR":endDateHAR,
                              "_vehiclesHAR":vehicleList,
                              "_fileTypeHAR":fileTypeHAR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }
            if (fileTypeHAR == 2 && downloadOrMail == 1) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportHizAsimiRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_startDateHAR":startDateHAR,
                              "_endDateHAR":endDateHAR,
                              "_vehiclesHAR":vehicleList,
                              "_fileTypeHAR":fileTypeHAR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
            }
            if (fileTypeHAR == 1 && downloadOrMail == 1) {
                    $('#loadingModal').modal('show');
                           $.ajax({
                               url: '@Url.Action("ExportHizAsimiRaporu", "Home")',
                               type: 'POST',
                               dataType: 'json',
                               data: {
                                  "_startDateHAR":startDateHAR,
                                  "_endDateHAR":endDateHAR,
                                  "_vehiclesHAR":vehicleList,
                                  "_fileTypeHAR":fileTypeHAR,
                                  "_downloadOrMail":downloadOrMail,
                                  "_emailToSendReport":emailToSendReport
                               },
                               success: function (data) {
                                    $('#loadingModal').modal('hide');
                                    window.location = data;
                               }
                       });
            }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeSOLR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportSeferOlayRaporu", "Home")';
            //var link = host + controller + "?_startDateSOR=" + startDateSOR + "&_endDateSOR=" + endDateSOR + "&_vehiclesSOR=" + vehiclesSOR;
            var link = host + controller +"?_startDateSOLR=" + startDateSOLR + "&_endDateSOLR=" + endDateSOLR + "&_vehiclesSOLR=" + vehicleList+ "&_fileTypeSOLR="+fileTypeSOLR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;*@
            }
        function downloadKontakDurumRaporu(downloadOrMail) {
            var emailToSendReport = $('#emailToSendReport').val();
            if (downloadOrMail == 2) {
                if (emailToSendReport == "") {
                    swal("Hata ! ", "E-maili boş bırakmayınız..", "error");
                    return;
                }
            }
            var vehicleList = [];
            //1 = download ,  2 = email
            var vehiclesKDR = $('#vehiclesKDR').val();
            var startDateKDR = $('#startDateKDR').val();
            var endDateKDR = $('#endDateKDR').val();
            var fileTypeKDR = $('#fileTypeKDR').val();
            if (vehiclesKDR == "" || startDateKDR=="" || endDateKDR =="") {
                swal("Hata!","Alanları boş bırakmayınız..","error");
                return;
            }
            var isDateValid = calculateDays(startDateKDR, endDateKDR,32);
            if (isDateValid == false) {
                swal("Hata!", "Tarih Aralığı Max. 32 Gündür", "error");
                return;
            }

            for (var i = 0; i < vehiclesKDR.length; i++) {
                 vehicleList.push(vehiclesKDR[i]);
             }

            if (downloadOrMail == 2) {
                $('#loadingModal').modal('show');
                  $.ajax({
                        url:'@Url.Action("ExportKontakDurumRaporu","Home")',
                        dataType:'json',
                        type: 'post',
                        data:{
                              "_startDateKDR":startDateKDR,
                              "_endDateKDR":endDateKDR,
                              "_vehiclesKDR":vehicleList,
                              "_fileTypeKDR":fileTypeKDR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                        },
                      success: function (data) {
                              $('#loadingModal').modal('hide');
                                if(data){
                                    swal("Başarılı!", "E-mail gönderildi..", "success");

                                }
                                else {
                                     $('#loadingModal').modal('hide');
                                    swal("Hata!", "E-mail gönderilemedi..", "error");
                                }
                              return;
                        }
                });
                 return;
            }

            if (fileTypeKDR == 2 && downloadOrMail == 1) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                $.ajax({
                    url: '@Url.Action("ExportKontakDurumRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                              "_startDateKDR":startDateKDR,
                              "_endDateKDR":endDateKDR,
                              "_vehiclesKDR":vehicleList,
                              "_fileTypeKDR":fileTypeKDR,
                              "_downloadOrMail":downloadOrMail,
                              "_emailToSendReport":emailToSendReport
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
                return;
             }
             if (fileTypeKDR == 1 && downloadOrMail == 1) {
              $('#loadingModal').modal('show');
                        $.ajax({
                            url: '@Url.Action("ExportKontakDurumRaporu", "Home")',
                            type: 'POST',
                            dataType: 'json',
                            data: {
                                 "_startDateKDR":startDateKDR,
                                 "_endDateKDR":endDateKDR,
                                 "_vehiclesKDR":vehicleList,
                                 "_fileTypeKDR":fileTypeKDR,
                                 "_downloadOrMail":downloadOrMail,
                                 "_emailToSendReport":emailToSendReport
                            },
                            success: function (data) {
                                 $('#loadingModal').modal('hide');
                                 window.location = data;
                            }
                         });
             }
            // fileType == 1 : excel , 2 : pdf
            //downloadOrMail == 1: download , 2: email
            @*if (fileTypeKDR == 1 && downloadOrMail == 1) {
            $('#loadingModal').modal('show');
            var host = window.location.origin;
            var controller = '@Url.Action("ExportKontakDurumRaporu", "Home")';
            var link = host + controller + "?_startDateKDR=" + startDateKDR + "&_endDateKDR=" + endDateKDR + "&_vehiclesKDR=" + vehicleList + "&_fileTypeKDR=" + fileTypeKDR + "&_downloadOrMail=" + downloadOrMail + "&_emailToSendReport=" + emailToSendReport;
            $('#loadingModal').modal('hide');
            window.location = link;*@
            }
        function showGecmisKonumRaporu(time) {
                loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                var deviceId = lastOptionClickedDeviceId;
                var deviceIdListTemp = [];
                deviceIdListTemp.push(deviceId);
                $.ajax({
                    url: '@Url.Action("ShowGecmisKonumRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                        "_time": time,
                        "_deviceId": deviceIdListTemp
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
            /*var deviceId = lastOptionClickedDeviceId;

            var deviceIdListTemp = [];
            deviceIdListTemp.push(deviceId);

            var host = window.location.origin;

            //var link = host + controller + "?_startDateGKR=" + startDateGKR + "&_endDateGKR=" + endDateGKR + "&_vehiclesGKR=" + vehiclesGKR;
            /*var link = host + controller +"?_time=" + time + "&_deviceId=" + deviceIdListTemp;

            $("#reportShowIframe").show();
            $("#reportShowIframe").find("iframe").remove();
            var iframe = $('<iframe style="width: 100%; height: 100%;" src="' + link + '" frameborder="0"></iframe>');
            $("#reportShowIframe").append(iframe);*/

        }
        function showSeferOlayRaporu(time) {
            loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                var deviceId = lastOptionClickedDeviceId;
                var deviceIdListTemp = [];
                deviceIdListTemp.push(deviceId);
                $.ajax({
                    url: '@Url.Action("ShowSeferOlayRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                        "_time": time,
                        "_deviceId": deviceIdListTemp
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
            /*var deviceId = lastOptionClickedDeviceId;
                var deviceIdListTemp = [];
                deviceIdListTemp.push(deviceId);
                var host = window.location.origin;

            //var link = host + controller + "?_startDateGKR=" + startDateGKR + "&_endDateGKR=" + endDateGKR + "&_vehiclesGKR=" + vehiclesGKR;
            /*var link = host + controller +"?_time=" + time + "&_deviceId=" + deviceIdListTemp;

            $("#reportShowIframe").show();
            $("#reportShowIframe").find("iframe").remove();
            var iframe = $('<iframe style="width: 100%; height: 100%;" src="' + link + '" frameborder="0"></iframe>');
            $("#reportShowIframe").append(iframe);*/

        }
        function showSeferOzetiRaporu(time) {
             loadingHtmlTemp = loadingHtmlTemp == "" ? $('#loadingContainer4').html() : loadingHtmlTemp;
                $("#reportShowIframe").show();
                $("#reportShowIframe").html(loadingHtmlTemp);
                var deviceId = lastOptionClickedDeviceId;
                var deviceIdListTemp = [];
                deviceIdListTemp.push(deviceId);
                $.ajax({
                    url: '@Url.Action("ShowSeferOzetiRaporu", "Home")',
                    type: 'POST',
                    dataType: 'html',
                    data: {
                        "_time": time,
                        "_deviceId": deviceIdListTemp
                    },
                    success: function (data) {
                        $('#loadingContainer4').hide();
                        $("#reportShowIframe").find("iframe").remove();
                        var cross = '<i onclick="$(\'#reportShowIframe\').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>';
                        $("#reportShowIframe").html(data);
                        $('#reportShowIframe').append(cross);
                    }
                });
            /*var deviceId = lastOptionClickedDeviceId;
                var deviceIdListTemp = [];
                deviceIdListTemp.push(deviceId);
                var host = window.location.origin;


            //var link = host + controller + "?_startDateGKR=" + startDateGKR + "&_endDateGKR=" + endDateGKR + "&_vehiclesGKR=" + vehiclesGKR;
            /*var link = host + controller +"?_time=" + time + "&_deviceId=" + deviceIdListTemp;

            $("#reportShowIframe").show();

            $("#reportShowIframe").find("iframe").remove();
            var iframe = $('<iframe style="width: 100%; height: 100%;" src="' + link + '" frameborder="0"></iframe>');
            $("#reportShowIframe").append(iframe);*/

        }
        function GetGroupDevicesSOR() {
            var vehicleGroupsSOR = $('#vehicleGroupsSOR').val();
            var vehicleSearchSOR = $('#vehicleSearchSOR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsSOR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesSOR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesSOR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesSOR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
         $('#vehicleSearchBtnSOR').click(function () {
                        var vehicleGroupsSOR = $('#vehicleGroupsSOR').val();
                        var vehicleSearchSOR = $('#vehicleSearchSOR').val();
                        $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsSOR,
                            "_vehicleSearch": vehicleSearchSOR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesSOR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesSOR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesSOR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });

        });
         function GetGroupDevicesGKR() {
            var vehicleGroupsGKR = $('#vehicleGroupsGKR').val();
            var vehicleSearchGKR = $('#vehicleSearchGKR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsGKR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesGKR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesGKR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesGKR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        $('#vehicleSearchBtnGKR').click(function () {
                        var vehicleGroupsGKR = $('#vehicleGroupsGKR').val();
                        var vehicleSearchGKR = $('#vehicleSearchGKR').val();
                        $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsGKR,
                            "_vehicleSearch": vehicleSearchGKR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesGKR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesGKR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesGKR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });

        });
        function GetGroupDevicesMOR() {
            var vehicleGroupsMOR = $('#vehicleGroupsMOR').val();
            var vehicleSearchMOR = $('#vehicleSearchMOR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsMOR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesMOR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesMOR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesMOR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
         $('#vehicleSearchBtnMOR').click(function () {
                        var vehicleGroupsMOR = $('#vehicleGroupsMOR').val();
                        var vehicleSearchMOR = $('#vehicleSearchMOR').val();
                        $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsMOR,
                            "_vehicleSearch": vehicleSearchMOR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesMOR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesMOR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesMOR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });

         });
          function GetGroupDevicesGGR() {
                 var vehicleGroupsGGR = $('#vehicleGroupsGGR').val();
                 var vehicleSearchGGR = $('#vehicleSearchGGR').val();
                  $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsGGR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesGGR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesGGR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesGGR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
         $('#vehicleSearchBtnGGR').click(function () {
                        var vehicleGroupsGGR = $('#vehicleGroupsGGR').val();
                        var vehicleSearchGGR = $('#vehicleSearchGGR').val();
                        $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsGGR,
                            "_vehicleSearch": vehicleSearchGGR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesGGR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesGGR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesGGR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });

         });
         function GetGroupDevicesBVAR() {
            var vehicleGroupsBVAR = $('#vehicleGroupsBVAR').val();
            var vehicleSearchBVAR = $('#vehicleSearchBVAR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsBVAR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesBVAR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesBVAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesBVAR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesRVAR() {
            var vehicleGroupsRVAR = $('#vehicleGroupsRVAR').val();
            var vehicleSearchRVAR = $('#vehicleSearchRVAR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsRVAR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesRVAR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesRVAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesRVAR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        };
        $('#vehicleSearchBtnBVAR').click(function () {
            var vehicleGroupsBVAR = $('#vehicleGroupsBVAR').val();
            var vehicleSearchBVAR = $('#vehicleSearchBVAR').val();
            $.ajax({
                url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                dataType: 'json',
                data: {
                    "_vehicleGroupId": vehicleGroupsBVAR,
                    "_vehicleSearch": vehicleSearchBVAR
                },
                success: function (data) {
                    if (data) {
                        $('#vehiclesBVAR').empty();
                        for (var i = 0; i < data.length; i++) {
                            item = data[i];
                            $('#vehiclesBVAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                        }
                    }
                    else {
                        $('#vehiclesBVAR').append('<option>' + " Cihaz bulunamadı... " + '</option>');

                    }
                }
              });
        });
        $('#vehicleSearchBtnRVAR').click(function () {
            var vehicleGroupsRVAR = $('#vehicleGroupsRVAR').val();
            var vehicleSearchRVAR = $('#vehicleSearchRVAR').val();
            $.ajax({
                url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                dataType: 'json',
                data: {
                    "_vehicleGroupId": vehicleGroupsRVAR,
                    "_vehicleSearch": vehicleSearchRVAR
                },
                success: function (data) {
                    if (data) {
                        $('#vehiclesRVAR').empty();
                        for (var i = 0; i < data.length; i++) {
                            item = data[i];
                            $('#vehiclesRVAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                        }
                    }
                    else {
                        $('#vehiclesRVAR').append('<option>' + " Cihaz bulunamadı... " + '</option>');

                    }
                }
              });
        });
         function GetGroupDevicesSOLR() {
            var vehicleGroupsSOLR = $('#vehicleGroupsSOLR').val();
            var vehicleSearchSOLR = $('#vehicleSearchSOLR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsSOLR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesSOLR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesSOLR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesSOLR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesHAR() {
            var vehicleGroupsHAR = $('#vehicleGroupsHAR').val();
            var vehicleSearchHAR = $('#vehicleSearchHAR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsHAR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesHAR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesHAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesHAR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesDR() {
            var vehicleGroupsDR = $('#vehicleGroupsDR').val();
            var vehicleSearchDR = $('#vehicleSearchDR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsDR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesDR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesDR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesDR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        $('#vehicleSearchBtnDR').click(function () {
            var vehicleGroupsDR = $('#vehicleGroupsDR').val();
            var vehicleSearchDR = $('#vehicleSearchDR').val();
            $.ajax({
                url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                dataType: 'json',
                data: {
                    "_vehicleGroupId": vehicleGroupsDR,
                    "_vehicleSearch": vehicleSearchDR
                },
                success: function (data) {
                    if (data) {
                        $('#vehiclesDR').empty();
                        for (var i = 0; i < data.length; i++) {
                            item = data[i];
                            $('#vehiclesDR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                        }
                    }
                    else {
                        $('#vehiclesDR').append('<option>' + " Cihaz bulunamadı... " + '</option>');

                    }
                }
              });
          });
          $('#vehicleSearchBtnSOLR').click(function () {
            var vehicleGroupsSOLR = $('#vehicleGroupsSOLR').val();
            var vehicleSearchSOLR = $('#vehicleSearchSOLR').val();
            $.ajax({
                url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                dataType: 'json',
                data: {
                    "_vehicleGroupId": vehicleGroupsSOLR,
                    "_vehicleSearch": vehicleSearchSOLR
                },
                success: function (data) {
                    if (data) {
                        $('#vehiclesSOLR').empty();
                        for (var i = 0; i < data.length; i++) {
                            item = data[i];
                            $('#vehiclesSOLR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                        }
                    }
                    else {
                        $('#vehiclesSOLR').append('<option>' + " Cihaz bulunamadı... " + '</option>');

                    }
                }
              });
          });
        $('#vehicleSearchBtnHAR').click(function () {
            var vehicleGroupsHAR = $('#vehicleGroupsHAR').val();
            var vehicleSearchHAR = $('#vehicleSearchHAR').val();
            $.ajax({
                url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                dataType: 'json',
                data: {
                    "_vehicleGroupId": vehicleGroupsHAR,
                    "_vehicleSearch": vehicleSearchHAR
                },
                success: function (data) {
                    if (data) {
                        $('#vehiclesHAR').empty();
                        for (var i = 0; i < data.length; i++) {
                            item = data[i];
                            $('#vehiclesHAR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                        }
                    }
                    else {
                        $('#vehiclesHAR').append('<option>' + " Cihaz bulunamadı... " + '</option>');

                    }
                }
              });
          });
        function GetGroupDevicesKDR() {
            var vehicleGroupsKDR = $('#vehicleGroupsKDR').val();
            var vehicleSearchKDR = $('#vehicleSearchKDR').val();
             $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupsKDR
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesKDR').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesKDR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesKDR').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        $('#vehicleSearchBtnKDR').click(function () {
            var vehicleGroupsKDR = $('#vehicleGroupsKDR').val();
            var vehicleSearchKDR = $('#vehicleSearchKDR').val();
            $.ajax({
                url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                dataType: 'json',
                data: {
                    "_vehicleGroupId": vehicleGroupsKDR,
                    "_vehicleSearch": vehicleSearchKDR
                },
                success: function (data) {
                    if (data) {
                        $('#vehiclesKDR').empty();
                        for (var i = 0; i < data.length; i++) {
                            item = data[i];
                            $('#vehiclesKDR').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                        }
                    }
                    else {
                        $('#vehiclesKDR').append('<option>' + " Cihaz bulunamadı... " + '</option>');

                    }
                }
            });
        });
    </script>
    <!-- All Jquery -->
    <script>

        function readData() {
            $('#deviceListLeftSide').html("");
            for (var i = 0; i < lastDevicesFlag.length; i++) {
                var item = lastDevicesFlag[i];
                var html = "";
                var activeOrPassive = '';
                var title = "";
                var textValue = $('#searchCarPlateNumberToFilter').val().toUpperCase();
                var carplateUpper = item.CarPlateNumber.toUpperCase();

                if (carplateUpper.includes(textValue)) {
                    if (item.IoStatus == "1") {
                        title = "Kontak Açık";
                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/green.png" height="32" width="32"></a>';
                    }
                    if (item.IoStatus == "0" && item.ActivityTime == "Aktif") {
                        title = "Kontak Kapalı";
                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/red.png" height="32" width="32"></a>';
                    }
                    if (item.ActivityTime == "Pasif") {
                        title = "Sinyal Yok";
                        activeOrPassive = '<a data-toggle="tooltip" title="' + title + '"><img src="/Content/assets/images/black.png" height="32" width="32"></a>';
                    }
                    var fullKonum = item.Konum;
                    //if (fullKonum != null) {
                    //    if (item.Konum.length > 35)
                    //        item.Konum = item.Konum.substring(0, 35) + "...";
                    //}

                    html += "<li style='padding:0px;'>";
                    html += "<div class='row' style='font-size:11px;'>";
                    html += "<div class='col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2' style='margin-top:40px;'>" + activeOrPassive + "  </div>";
                    html += '<div class="col-md-8 col-8 col-xs-8 col-lg-8 col-sm-8 font-6 mt-2"> <div > <center><button onclick="DisplayDeviceOnMapByDeviceId(' + item.LastDeviceId + ')" data-toggle="tooltip" title="' + item.CarPlateNumber + '" type="button" class="btn"   style="font-weight:bold;font-family:monospace;font-size:18px;color:white;"+>' + item.CarPlateNumber + "  " + item.Employee + '</button><center></div><a data-toggle="tooltip" title="' + fullKonum + '" ><label  style="margin-top:2px;color:white;">' + item.Konum + '</label></a> <br>  <i class="fa fa-map-marker" aria-hidden="true"></i> <label data-toggle="tooltip" title="Günlük Katedilen Km" style="color:white;" id="deviceTotalKm' + item.LastDeviceId + '">' + item.TotalKmDaily + ' </label><i class="fa fa-tachometer ml-3" aria-hidden="true"></i> <label data-toggle="tooltip" style="color:white;" title="Anlık Km">' + item.KmPerHour + '</label><i class="fa fa-clock-o ml-3" aria-hidden="true" style="margin-left: 1px;"></i>  <label data-toggle="tooltip" style="color:white;"  title="Son Konum Zamanı" id="deviceLastLocationTime' + item.LastDeviceId + '">' + item.LastDeviceDataCreateDate + '</label> </div>';
                    html += '<div class="col-md-2 col-2 col-xs-2 col-lg-2 col-sm-2" style="margin-top:33px;right:20px"> <a href="javascript:;" onclick="lastOptionClickedDeviceId = ' + item.LastDeviceId + '; showSubMenu(this)"> <i style="color:black;"  class="ml-2 mt-2 fa fa-cogs fa-lg"></i>  </a>  </div>';
                    html += '</div>';
                    html += "</li>";
                    $("#deviceListLeftSide").append(html);
                }
            }

        }
        function UpdateMailAR() {
                var mailAutomaticReporting = $('#mailAutomaticReporting').val();
                    $.ajax({
                        url: '@Url.Action("UpdateUserMail", "Home")',
                        dataType: 'json',
                        data: {
                            "_UpdateMailAR": mailAutomaticReporting
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı !", "Bilgiler Güncellendi", "success");
                        }
                            else if(data==false) {
                                swal("Hata !", "Güncellenemedi", "error");
                                return;
                            }
                        }
                    });
        }
        function UpdateAutomaticReporting(id) {
            var lastReportStatus = $('#lastReportStatus').val();
            var lastReportType = $('#lastReportType').val();
                $.ajax({
                        url: '@Url.Action("GetUserReportById", "Home")',
                        dataType: 'json',
                        data: {
                            "_userReportId": id
                        },
                    success: function (data) {
                        if (data == false) {
                            swal("Hata !", "Lütfen Araç Atayınız.", "error");
                            return;
                        }
                        else {
                            $.ajax({
                                url: '@Url.Action("UpdateAutomaticReporting", "Home")',
                                dataType: 'json',
                                data: {
                                    "_userReportId": id,
                                    "_lastReportStatus": lastReportStatus,
                                    "_lastReportType": lastReportType
                                },
                                success: function (data) {

                                    if (data) {
                                        swal("Başarılı !", "Kullanıcı Bilgileri Güncellendi", "success");
                                    }
                                    else if (data == false) {
                                        swal("Hata !", "Güncellenemedi", "error");
                                        return;
                                    }
                                }
                            });

                        }
                    }
                    });
        }
        function deviceInformationUpdate() {
                var updateDId = $('#updateDId').val();
                var carPlateNumberAG = $('#carPlateNumberAG').val();
                var vehicleTypeAG = $('#vehicleTypeAG').val();
                var usingStatusAG = $('#usingStatusAG').val();
                var waitingTimeAG = $('#waitingTimeAG').val();
                var speedTypeAG = $('#speedTypeAG').val();
                var descriptionAG = $('#descriptionAG').val();

                    $.ajax({
                        url: '@Url.Action("UpdateDeviceInf", "Home")',
                        dataType: 'json',
                        data: {
                            "_fillDeviceLast":updateDId,
                            "_carPlateNumberAG": carPlateNumberAG,
                            "_vehicleTypeAG": vehicleTypeAG,
                            "_usingStatusAG": usingStatusAG,
                            "_descriptionAG": descriptionAG,
                            "_waitingTimeAG": waitingTimeAG,
                            "_speedTypeAG": speedTypeAG,
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı !", "Araç Bilgileri Güncellendi", "success");
                        }
                            else if(data==false) {
                                swal("Hata !", "Güncellenemedi", "error");
                                return;
                            }
                        }
                    });
                }
        function SaveUserQuestionAnswer() {
                var questionIdTRP  = $('#questionIdTRP').val();
                var questionAnswerTRP = $('#questionAnswerTRP').val();
                if (questionAnswerTRP=="") {
                    swal("Hata!","Cevabı boş bırakmayınız..","error")
                    return ;
                }
                 $.ajax({
                url: '@Url.Action("SaveUserQuestionAnswer", "Home")',
                dataType: 'json',
                    data: {
                        "_questionIdTRP": questionIdTRP,
                        "_questionAnswerTRP": questionAnswerTRP,
                },
                success: function (data) {
                if (data) {
                    swal("Başarılı!", "Kaydedildi", "success");
                    }
                else {
                      swal("HATA!", "Kullanıcı sorusu kayıtlı", "error");
                }
                     }
                });
        }
        function GetDevicesByCompany(id) {
            $('#carRight').html("");
            $.ajax({
                 url: '@Url.Action("GetUserListToAppend", "Home")',
                 dataType: 'json',
                 type:'post',
                 data: {
                     "_companyId": id
                 },
                success: function (data) {
                     var Id =$('#IdKAA').val();
                     var Name =$('#NameKAA').val();
                    var toAppend = "";
                    if (data == false) {
                        $('#aracatamauserid').html("");
                        toAppend += "<option value='0' selected>Seçiniz..</option>";
                        toAppend += "<option value="+Id+">"+Name+"</option>";
                        $('#aracatamauserid').append(toAppend);
                    }
                    else {
                        $('#aracatamauserid').html("");
                        toAppend += "<option value='0' selected>Seçiniz..</option>";
                        toAppend += "<option value="+Id+">"+Name+"</option>";
                        for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            toAppend += "<option value=" + item.Id + ">" + item.UserCode + "</option>";
                        }

                        $('#aracatamauserid').append(toAppend);
                    }
                }
            });
            $.ajax({
            url: '@Url.Action("GetDevicesByCompany2", "Home")',
            dataType: 'json',
            data: {
                "_aracAtamaCompanyId": id
            },
            success: function (data) {
                            if (data) {
                                $('#carLeft').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#carLeft').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#carLeft').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }

                        }
            });
            GetAllCompaniesByUserId();
        }
        function GetDevicesByCompanyForAR(id) {

            lastUserReportClicked = id;
                        $.ajax({
                        url: '@Url.Action("GetDevicesByCompanyForAR", "Home")',
                        dataType: 'json',
                        data: {
                            "_reportId":id
                        },
                            success: function (data) {
                            if (data) {
                                $('#carLeftAutomaticReporting').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#carLeftAutomaticReporting').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#carLeftAutomaticReporting').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }

                        }
                        });
                        $.ajax({
                          url: '@Url.Action("GetDevicesByCompanyForRightAR", "Home")',
                          dataType: 'json',
                          data: {
                              "_reportId": id
                          },
                            success: function (data) {
                                            if (data) {

                                                $('#carRightAutomaticReporting').empty();
                                                for (var i = 0; i < data.length; i++) {
                                                    item = data[i];
                                                    $('#carRightAutomaticReporting').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                                }
                                            }
                                        }
                      });
        }
        function GetDevicesByCompanyForAlarms(id) {
                        $.ajax({
                        url: '@Url.Action("GetDevicesByCompany", "Home")',
                        dataType: 'json',
                        data: {
                            "_aracAtamaCompanyId": id
                        },
                        success: function (data) {
                            if (data) {
                                $('#alarmVehiclesId').empty();
                                $('#alarmVehiclesId').append('<option value="0">Seçiniz..</option>');
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#alarmVehiclesId').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#alarmVehiclesId').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }

                        }
                        });
            GetAlarmList();
        }
        function GetDevicesByCompanyForYAA(id) {
                        $.ajax({
                        url: '@Url.Action("GetDevicesByCompany", "Home")',
                        dataType: 'json',
                        data: {
                            "_aracAtamaCompanyId": id
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehicleIdYAA').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehicleIdYAA').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehicleIdYAA').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }

                        }
                        });
        }
        var RaporSayac = 0;
        function GetAllReports(id) {
                 $.ajax({
                 url: '@Url.Action("GetUserListToAppend", "Home")',
                 dataType: 'json',
                 type: 'post',
                 async:true,
                 data: {
                     "_companyId": id
                 },
                success: function (data) {
                        var Id = $('#idCompany').val();
                        var Name = $('#nameCompany').val();
                        $('#raporatamauserid').html("");
                        var toAppend = "";
                        toAppend += "<option value='0' selected>Seçiniz..</option>";
                        toAppend += "<option value="+Id+">"+Name+"</option>";
                        for (var i = 0; i < data.length; i++) {
                            $("#raporLeft option").show();
                            $("#raporRight").html("");
                            var item = data[i];
                            toAppend += "<option value=" + item.Id + ">" + item.UserCode + "</option>"
                        }
                            $('#raporatamauserid').append(toAppend);
                        }
                 });
            if (RaporSayac == 0) {
                RaporSayac++;
                $.ajax({
                    url: '@Url.Action("GetAllReports", "Home")',
                    dataType: 'json',
                    data: {
                    },
                    success: function (data) {
                        if (data) {
                            $('#raporLeft').empty();
                            for (var i = 0; i < data.length; i++) {
                                item = data[i];
                                $('#raporLeft').append('<option value="' + item.Id + '">' + item.Name + '</option>');
                            }
                        }
                        else {
                            $('#raporLeft').append('<option>' + " Cihaz bulunamadı... " + '</option>');

                        }

                    }
                });
            }


        }
        function GetAllCompanyArea() {
                $.ajax({
                    url: '@Url.Action("GetAllCompanyArea", "Home")',
                    dataType: 'json',
                    async: false,
                    data: {
                    },
                    success: function (data) {
                        if (data) {
                            $('#abiLeft').empty();
                            for (var i = 0; i < data.length; i++) {
                                item = data[i];
                                $('#abiLeft').append('<option value="' + item.Id + '">' + item.Name + '</option>');
                            }
                        }
                        else {
                            $('#abiLeft').append('<option>' + " Cihaz bulunamadı... " + '</option>');
                        }
                    }
                });
        }
        function GetAllCompanyRoute() {
                $.ajax({
                    url: '@Url.Action("GetAllCompanyRoute", "Home")',
                    dataType: 'json',
                    async: false,
                    data: {
                    },
                    success: function (data) {
                        if (data) {
                            $('#ariLeft').empty();
                            for (var i = 0; i < data.length; i++) {
                                item = data[i];
                                $('#ariLeft').append('<option value="' + item.Id + '">' + item.Name + '</option>');
                            }
                        }
                        else {
                            $('#ariLeft').append('<option>' + " Cihaz bulunamadı... " + '</option>');
                        }
                    }
                });
        }
        function GetDeviceAreasByDeviceId() {
            $.ajax({
                url: '@Url.Action("GetDeviceAreasByDeviceId", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    "_deviceId": lastOptionClickedDeviceId,
                },
                success: function (data) {
                    if (data) {
                        var areaIds = [];
                        for (var i = 0; i < data.length; i++) {
                            areaIds.push(data[i]["Id"]);
                        }
                        $("#abiLeft option").show();
                        $("#abiRight").html('');
                        var items = $("#abiLeft option");
                        for (var i = 0; i < items.length; i++) {
                            var value = parseInt($(items[i]).attr("value"));
                            var name = $(items[i]).text().trim();

                            if (areaIds.includes(value)) {
                                $(items[i]).hide();
                                $("#abiRight").append('<option value="' + value + '">' + name + '</option>');
                            }
                        }
                    }
                }
            });

        }
        function GetDeviceRoutesByDeviceId() {
            $.ajax({
                url: '@Url.Action("GetDeviceRoutesByDeviceId", "Home")',
                type: 'POST',
                dataType: 'json',
                data: {
                    "_deviceId": lastOptionClickedDeviceId,
                },
                success: function (data) {
                    if (data) {
                        var routeIds = [];
                        for (var i = 0; i < data.length; i++) {
                            routeIds.push(data[i]["Id"]);
                        }
                        $("#ariLeft option").show();
                        $("#ariRight").html('');
                        var items = $("#ariLeft option");
                        for (var i = 0; i < items.length; i++) {
                            var value = parseInt($(items[i]).attr("value"));
                            var name = $(items[i]).text().trim();

                            if (routeIds.includes(value)) {
                                $(items[i]).hide();
                                $("#ariRight").append('<option value="' + value + '">' + name + '</option>');
                            }
                        }
                    }
                }
            });

        }
        function GetUserDevicesByUserId()
            {
                var aracatamauserid = $('#aracatamauserid').val();
                var aracAtamaCompanyId = $('#aracAtamaCompanyId').val();
                $("#carLeft option").show();
                $("#carRight").html("");
                 $.ajax({
                        url: '@Url.Action("GetAppendUserDeviceList", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_aracatamauserid": aracatamauserid
                        },
                     success: function (data) {
                         if (data) {
                             if ($('#aracatamauserid').val() == 0) {
                                 $("#carLeft option").show();
                                 $("#carRight").html('');
                                 return;
                             }
                                      var deviceIds = [];
                                      for (var i = 0; i < data.length; i++) {
                                          deviceIds.push(data[i]["Id"]);
                                      }

                                      $("#carLeft option").show();
                                      $("#carRight").html("");

                                      var items = $("#carLeft option");

                                      for (var i = 0; i < items.length; i++) {
                                          var value = parseInt($(items[i]).attr("value"));
                                          var name = $(items[i]).text().trim();

                                          if (deviceIds.includes(value)) {
                                              $(items[i]).hide();
                                              $("#carRight").append('<option value="' + value + '">' + name + '</option>');
                                          }
                                       }
                                      }
                            else {
                                $("#carLeft option").show();
                                      $("#carRight").html("");
                            }
                     }
        });

        }
        function GetUserReportsByUserId() {
            var raporatamauserid = $('#raporatamauserid').val();
            if (raporatamauserid == 0) {
                $("#raporLeft option").show();
                $("#raporRight").html('');
                return;
            }

                 $.ajax({
                        url: '@Url.Action("GetUserReportsByUserId", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_raporatamauserid": raporatamauserid,
                        },
                     success: function (data) {
                            if (data) {
                                      var reportIds = [];
                                      for (var i = 0; i < data.length; i++) {
                                          reportIds.push(data[i]["Id"]);
                                      }
                                      $("#raporLeft option").show();
                                      $("#raporRight").html('');
                                      var items = $("#raporLeft option");
                                      for (var i = 0; i < items.length; i++) {
                                          var value = parseInt($(items[i]).attr("value"));
                                          var name = $(items[i]).text().trim();

                            if (reportIds.includes(value)) {
                                $(items[i]).hide();
                                $("#raporRight").append('<option value="' + value + '">' + name + '</option>');
                            }
                        }
                    }
                    else {
                        swal("HATA!", "Kaydedilemedi", "error");
                    }

                }
            });

        }
        function GetAllCompaniesByUserId() {

                   $.ajax({
                        url: '@Url.Action("GetAllCompaniesByUserId", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                        },
                        success: function (data) {
                            for (var i = 0; i < data.length; i++) {
                                var item = data[i];
                                if (data.length > 1) {
                                    $('#aracAtamaCompanyId').append("<option value='"+item.Id+"'>"+item.CompanyDescription+"</option>");
                                }
                            }

                        }
                    });



            }
        function GetAllCompanyUsers() {
                $("#carLeft").empty;
                $("#carRight").empty;
                var aracAtamaCompanyId = $('#aracAtamaCompanyId').val();
                   $.ajax({
                        url: '@Url.Action("GetCompanyUser", "Home")',
                        type: 'POST',
                        dataType: 'json',
                       data: {
                           "_aracAtamaCompanyId": aracAtamaCompanyId
                        },
                       success: function (data) {
                           $('#aracatamauserid').empty();
                           if (data.length>0) {
                               for (var i = 0; i < data.length; i++) {
                                   var item = data[i];
                                   $('#aracatamauserid').append("<option value='" + item.Id + "'>" + item.UserCode + "</option>");
                               }
                           }
                           if(data.length==0){
                               $('#aracatamauserid').append("<option>Kullanıcı Bulunamadı</option>");
                           }
                           GetUserDevicesByUserId();
                        }
                   });
                GetDevicesByCompany(aracAtamaCompanyId);
        }
        function Disabled() {
            var deviceIdDisabled =@Model.Company.Id;
                if (document.getElementById("aracAtamaCompanyId").disabled == true) {
                    document.getElementById("aracAtamaCompanyId").disabled = false;
                }
                else if (document.getElementById("aracAtamaCompanyId").disabled == false) {
                    document.getElementById("aracAtamaCompanyId").disabled = true;
                    $("#aracAtamaCompanyId option[value='" + deviceIdDisabled + "']").attr('selected', 'selected');
                    GetAllCompanyUsers();
                }

        }
        function vehicleTypeChange() {
            var type = $('#vehicleTypeAG').val();
                if (type==0) {
                    $('#typeCar').css("display", "none");
                    $('#typeMoto').css("display", "none");
                    $('#typeTaxi').css("display", "none");
                    $('#typeMini').css("display", "none");
                }
                if (type==2) {
                    $('#typeCar').css("display", "block");
                    $('#typeMoto').css("display", "none");
                    $('#typeTaxi').css("display", "none");
                    $('#typeMini').css("display", "none");
                }
                if (type==3) {
                    $('#typeCar').css("display", "none");
                    $('#typeMoto').css("display", "block");
                    $('#typeTaxi').css("display", "none");
                    $('#typeMini').css("display", "none");
                }
                if (type==4) {
                    $('#typeCar').css("display", "none");
                    $('#typeMoto').css("display", "none");
                    $('#typeTaxi').css("display", "block");
                    $('#typeMini').css("display", "none");
                }
                if (type==5) {
                    $('#typeCar').css("display", "none");
                    $('#typeMoto').css("display", "none");
                    $('#typeTaxi').css("display", "none");
                    $('#typeMini').css("display", "block");
                }


        }
        function DisabledMA() {
                if (document.getElementById("vehicleIdMA").disabled == true) {
                    document.getElementById("vehicleIdMA").disabled = false;
                    $('#vehicleIdMA').empty();
                }
                else if (document.getElementById("vehicleIdMA").disabled == false) {
                    document.getElementById("vehicleIdMA").disabled = true;

                }

        }
        function DisabledABG() {
                if (document.getElementById("vehiclesARF").disabled == true) {
                    document.getElementById("vehiclesARF").disabled = false;
                    $('#vehiclesARF').empty();
                }
                else if (document.getElementById("vehiclesARF").disabled == false) {
                    document.getElementById("vehiclesARF").disabled = true;

                }

        }
        function DisabledO() {
                if (document.getElementById("vehicleIdO").disabled == true) {
                    document.getElementById("vehicleIdO").disabled = false;
                }
                else if (document.getElementById("vehicleIdO").disabled == false) {
                    document.getElementById("vehicleIdO").disabled = true;
                }

        }
        function DisabledYAA() {
                if (document.getElementById("daimaCheck").disabled == true) {
                    document.getElementById("startDateYAA").disabled = false;
                    document.getElementById("endDateYAA").disabled = false;
                    document.getElementById("StartTimeYAA").disabled = false;
                    document.getElementById("EndTimeYAA").disabled = false;
                    document.getElementById("chooseDayYAA").disabled = false;
                }
                else if (document.getElementById("daimaCheck").disabled == false) {
                    document.getElementById("startDateYAA").disabled = false;
                    document.getElementById("endDateYAA").disabled = false;
                    document.getElementById("StartTimeYAA").disabled = false;
                    document.getElementById("EndTimeYAA").disabled = false;
                    document.getElementById("chooseDayYAA").disabled = false;
                }
        }
        function Toggle() {
            $("#rightMenuContainer").css("display", "block");
            if ($('#rightMenuContainer').css('width') == '0px') {
                $('#rightMenuContainer').css('width', '450px');

                $('#car').css('left', '460px');
            }
            else {
                $('#rightMenuContainer').css('width', '0px');
                $('#car').css('left', '50px');
            }
        }
        function GetAllDBDevicesOfCompany() {
                $("#carLeft").empty;
                $("#carRight").empty;
                var aracatamauserid = $('#aracatamauserid').val();
                var aracAtamaCompanyId = $('#aracAtamaCompanyId').val();
                 $.ajax({
                        url: '@Url.Action("GetAllDBDevicesOfCompany", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_aracatamauserid": aracatamauserid,
                             "_aracAtamaCompanyId": aracAtamaCompanyId
                        },
                        success: function (data) {
                            if (data) {
                                      var deviceIds = [];
                                      for (var i = 0; i < data.length; i++) {
                                          deviceIds.push(data[i]["DeviceId"]);
                                }

                                      $("#carLeft option").show();
                                      $("#carRight").html('');

                                      var items = $("#carLeft option");

                                      for (var i = 0; i < items.length; i++) {
                                          var value = parseInt($(items[i]).attr("value"));
                                          var name = $(items[i]).text().trim();

                                          if (deviceIds.includes(value)) {
                                              $(items[i]).hide();
                                              $("#carRight").append('<option value="' + value + '">' + name + '</option>');
                                          }
                                      }
                                      }
                            else {
                                 swal("HATA!", "Kaydedilemedi", "error");
                            }

                        }
                    });
        }
        var lastSelectedAreaId = 0;
        var tempAreaName = "";
        function RelatedVehicles(id = 0, areaName = "") {
            if (areaName != "") {
                tempAreaName = areaName;
            }
            if (areaName == "") {
                areaName = tempAreaName;
            }
            $('#assingVehicleToAreaModal').modal('show');
            $('#states').modal('hide');
            if (id != 0) {
                lastSelectedAreaId = id;
            }
            if (id == 0) {
                id = lastSelectedAreaId;
            }

            $('#areaVehicleTableContainer tbody').html("");
            $.ajax({
                url: '@Url.Action("GetDevicesToAreaModal", "Home")',
                type: 'POST',
                dataType: 'json',
                success: function (devices) {
                    $('#areaNameLBL').text('' + tempAreaName + '');

                    $('#leftDeviceGA').html("");
                    $('#rightDeviceGA').html("");
                    for (var i = 0; i < devices.length; i++) {
                        var item = devices[i];
                        $('#leftDeviceGA').append('<option value=' + item.Id + '>' + item.CarPlateNumber + '</option>');
                    }
                    $.ajax({
                        url: '@Url.Action("GetAreaVehicles","Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            '_areaId':lastSelectedAreaId
                        },
                        success: function (data) {

                            if (data) {
                                $('#emptyAreaVehicleLBL').text("");
                                $('#areaVehicleTableContainer').modal('hide');
                                var html = "";
                                for (var i = 0; i < data.length; i++) {
                                    var item = data[i];
                                    html += '<tr id="' + item.Id + '"><td>' + item.CarPlateNumber + '</td><td>Aktif</td> <td>Mobil Bölgeye Girer veya Çıkarsa Uyar</td> <td>Kontrol Yok</td> <td>Kontrol Başlangıç Saati</td> <td>Kontrol Bitiş Saati</td></td><td><button type="button" class="btn btn-danger btn-xs" onclick="DeleteAreaVehicle(' + item.Id + ')">Sil</button></td></tr>'
                                }

                                $('#areaVehicleTableContainer tbody').append(html);

                                var deviceIds = [];

                                for (var i = 0; i < data.length; i++) {
                                    deviceIds.push(data[i]["Id"]);
                                }
                                $("#leftDeviceGA option").show();
                                $("#rightDeviceGA").html("");

                                var items = $("#leftDeviceGA option");

                                for (var i = 0; i < items.length; i++) {
                                    var value = parseInt($(items[i]).attr("value"));
                                    var name = $(items[i]).text().trim();

                                    if (deviceIds.includes(value)) {
                                        $(items[i]).hide();
                                        $("#rightDeviceGA").append('<option value="' + value + '">' + name + '</option>');
                                    }
                                }
                            }
                            else {
                                $('#emptyAreaVehicleLBL').text("Atanmış Bölge Aracı Bulunmamaktadır ..");
                            }
                        }
                    });
                }
            });
        }
        var lastSelectedRouteId = 0;
        var tempRouteName = "";
        function RelatedVehiclesRoute(id = 0, routeName = "") {
            if (routeName != "") {
                tempRouteName = routeName;
            }
            if (routeName == "") {
                routeName = tempRouteName;
            }
            $('#assingVehicleToRouteModal').modal('show');
                    $('#routes').modal('hide');
            if (id != 0) {
                lastSelectedRouteId = id;
            }
            if (id == 0) {
                id = lastSelectedRouteId;
            }

            $('#routeVehicleTableContainer tbody').html("");
            $.ajax({
                url: '@Url.Action("GetDevicesToRouteModal", "Home")',
                type: 'POST',
                dataType: 'json',
                success: function (devices) {
                    $('#routeNameLBL').text('' + tempRouteName + '');

                    $('#leftDeviceGR').html("");
                    $('#rightDeviceGR').html("");
                    for (var i = 0; i < devices.length; i++) {
                        var item = devices[i];
                        $('#leftDeviceGR').append('<option value=' + item.Id + '>' + item.CarPlateNumber + '</option>');
                    }
                    $.ajax({
                        url: '@Url.Action("GetRouteVehicles","Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            '_routeId':lastSelectedRouteId
                        },
                        success: function (data) {

                            if (data) {
                                $('#emptyRouteVehicleLBL').text("");
                                $('#routeVehicleTableContainer').modal('hide');
                                var html = "";
                                for (var i = 0; i < data.length; i++) {
                                    var item = data[i];
                                    html += '<tr id="' + item.Id + '"><td>' + item.CarPlateNumber + '</td><td>Aktif</td> </td><td><button type="button" class="btn btn-danger btn-xs" onclick="DeleteRouteVehicle(' + item.Id + ')">Sil</button></td></tr>'
                                }

                                $('#routeVehicleTableContainer tbody').append(html);

                                var deviceIds = [];

                                for (var i = 0; i < data.length; i++) {
                                    deviceIds.push(data[i]["Id"]);
                                }
                                $("#leftDeviceGR option").show();
                                $("#rightDeviceGR").html("");

                                var items = $("#leftDeviceGR option");

                                for (var i = 0; i < items.length; i++) {
                                    var value = parseInt($(items[i]).attr("value"));
                                    var name = $(items[i]).text().trim();

                                    if (deviceIds.includes(value)) {
                                        $(items[i]).hide();
                                        $("#rightDeviceGR").append('<option value="' + value + '">' + name + '</option>');
                                    }
                                }
                            }
                            else {
                                $('#emptyRouteVehicleLBL').text("Atanmış Rota Aracı Bulunmamaktadır ..");
                            }
                        }
                    });
                }
            });
       }
        function DeleteAreaVehicle(id) {
           	 swal({
				title: "Emin misiniz?",
				text: "Bu bölge cihazını silerseniz geri alamayacaksınız!!",
				icon: "warning",
				buttons: [
					'Hayır, iptal et!',
					'Evet, eminim!'
				],
				dangerMode: true,
			}).then(function (isConfirm) {
				if (isConfirm) {
					$.ajax({
						url: '@Url.Action("DeleteAreaVehicle", "Home")',
						type: 'POST',
						dataType: 'json',
						data: {
							"_id": id
						},
						success: function (data) {
                            if (data) {
                                swal('Başarılı!', 'Bölge Aracı Silindi!', 'success');
                                $('#areaVehicleTableContainer tbody tr').remove('#' + data + '');
                                RelatedVehicles();
                            }
                            else {
                                swal("Hata", "Bölge Aracı Silinemedi !", "error");
                            }
						}
					});
				}
			})
        }
        function DeleteRouteVehicle(id) {
           	 swal({
				title: "Emin misiniz?",
				text: "Bu rota cihazını silerseniz geri alamayacaksınız!!",
				icon: "warning",
				buttons: [
					'Hayır, iptal et!',
					'Evet, eminim!'
				],
				dangerMode: true,
			}).then(function (isConfirm) {
				if (isConfirm) {
					$.ajax({
						url: '@Url.Action("DeleteRouteVehicle", "Home")',
						type: 'POST',
						dataType: 'json',
						data: {
							"_id": id
						},
						success: function (data) {
                            if (data) {
                                swal('Başarılı!', 'Rota Aracı Silindi!', 'success');
                                $('#routeVehicleTableContainer tbody tr').remove('#' + data + '');
                                RelatedVehiclesRoute();
                            }
                            else {
                                swal("Hata", "Rota Aracı Silinemedi !", "error");
                            }
						}
					});
				}
			})
        }
        function UpdateAreaVehicleInformation() {
            console.log("asas");
        }
        function AssignVehicleToArea() {
                    var selectedDeviceIds = [];
                    var options = $('#rightDeviceGA option');

                    for(var i = 0; i < options.length; i++)
                    {
                    	selectedDeviceIds.push($(options[i]).attr("value"));
                    }
                    $.ajax({
                        url: '@Url.Action("AssignVehicleToArea", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_areaId": lastSelectedAreaId,
                            "_selectedDeviceIds":selectedDeviceIds
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Eklendi", "success");
                                RelatedVehicles();
                            }
                            else {
                                 swal("HATA!", "Kaydedilemedi", "error");
                            }
                        }
                    });

        }
        function AssignVehicleToRoute() {
                    var selectedDeviceIds = [];
                    var options = $('#rightDeviceGR option');

                    for(var i = 0; i < options.length; i++)
                    {
                    	selectedDeviceIds.push($(options[i]).attr("value"));
                    }
                    $.ajax({
                        url: '@Url.Action("AssignVehicleToRoute", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_routeId": lastSelectedRouteId,
                            "_selectedDeviceIds":selectedDeviceIds
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Eklendi", "success");
                                RelatedVehiclesRoute();
                            }
                            else {
                                 swal("HATA!", "Kaydedilemedi", "error");
                            }
                        }
                    });

        }
        function AssignAreaToDevice() {
                    var vehicleIdABI  = $('#vehicleNameABI2').val();
                    var selectedAreaIds = [];
                    var options = $('#abiRight option');

                    for(var i = 0; i < options.length; i++)
                    {
                    	selectedAreaIds.push($(options[i]).attr("value"));
                    }
                    $.ajax({
                        url: '@Url.Action("AssignAreaToDevice", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_vehicleId": vehicleIdABI,
                            "_selectedAreaIds":selectedAreaIds
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Eklendi", "success");
                                GetAreaForDevice();
                            }
                            else {
                                 swal("HATA!", "Kaydedilemedi", "error");
                            }
                        }
                    });

        }
        function AssignRouteToDevice() {
                    var vehicleIdARI  = $('#vehicleNameARI2').val();
                    var selectedRouteIds = [];
                    var options = $('#ariRight option');

                    for(var i = 0; i < options.length; i++)
                    {
                    	selectedRouteIds.push($(options[i]).attr("value"));
                    }
                    $.ajax({
                        url: '@Url.Action("AssignRouteToDevice", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_vehicleId": vehicleIdARI,
                            "_selectedRouteIds":selectedRouteIds
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Eklendi", "success");
                                GetAreaForDevice();
                            }
                            else {
                                 swal("HATA!", "Kaydedilemedi", "error");
                            }
                        }
                    });

        }
        function AssignVehicleToUser() {
                    if ($('#aracatamauserid').val() == 0) {
                        swal("Hata!", "Lütfen bir kullanıcı seçiniz...", "error");
                        return;
                    }
                    var aracatamauserid  = $('#aracatamauserid').val();

                    var selectedDeviceIds = [];
                    var options = $('#carRight option');
                    if (options.length == 0) {
                        swal("Hata!", "Lütfen bir araç seçiniz...", "error");
                        return;
                    }
                    for(var i = 0; i < options.length; i++)
                    {
                    	selectedDeviceIds.push($(options[i]).attr("value"));
                    }
                    $.ajax({
                        url: '@Url.Action("AssignVehicleToUser", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_aracatamauserid": aracatamauserid,
                            "_selectedDeviceIds":selectedDeviceIds
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Eklendi", "success");
                            }
                            else {
                                 swal("HATA!", "Kaydedilemedi", "error");
                            }
                        }
                    });
        }
        var lastUserReportClicked = 0;
        function AssignVehicleToReport() {

            var userReportId = lastUserReportClicked;
                    var selectedDeviceIds = [];
                    var options = $('#carRightAutomaticReporting option');

                    for(var i = 0; i < options.length; i++)
                    {
                    	selectedDeviceIds.push($(options[i]).attr("value"));
                    }
                    $.ajax({
                        url: '@Url.Action("AssignVehicleToReport", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_userReportId": userReportId,
                            "_selectedDeviceIds":selectedDeviceIds
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Eklendi", "success");
                            }
                            else {
                                 swal("HATA!", "Kaydedilemedi", "error");
                            }
                        }
                    });

        }
        function AssignReportToUser() {
            var raporatamauserid = $('#raporatamauserid').val();
            if (raporatamauserid == 0) {
                swal("Hata!", "Kullanıcı seçiniz !", "error");
                return;
            }

                    var selectedReportIds = [];
                    var options = $('#raporRight option');

                    for(var i = 0; i < options.length; i++)
                    {
                    	selectedReportIds.push($(options[i]).attr("value"));
                    }
                    $.ajax({
                        url: '@Url.Action("AssignReportToUser", "Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            "_raporatamauserid": raporatamauserid,
                            "_selectedReportIds": selectedReportIds
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Eklendi", "success");
                            }
                            else {
                                 swal("HATA!", "Kaydedilemedi", "error");
                            }
                        }
                    });
        }
        function EmptyLeftSide() {
            map.setCenter(nokta);
            map.setZoom(7);
            $('#last').remove();
            document.getElementById("searchCarPlateNumberToFilter").value = "";
        }
    </script>
    <script>
        function tabbing(elem) {
            $(elem).parent().find(".tab_btn_active").removeClass("tab_btn_active");
            $(elem).addClass("tab_btn_active");
            $(elem).parent().find(".customTabContent").hide();
            $("#" + $(elem).attr("data-tab-target")).show();
        }
    </script>
    <script>
        function GetGroupDevicesSOL() {
             var seferOzetiGroupTL = $('#seferOzetiGroupTL').val();
                $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type:'json',
                        data: {
                            "_vehicleGroupId": seferOzetiGroupTL
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehicleIdTL').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehicleIdTL').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehicleIdTL').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                });
            }
        function GetGroupDevicesByGId() {
             var messageGroupId = $('#messageGroupId').val();
                $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type:'json',
                        data: {
                            "_vehicleGroupId": messageGroupId
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesSM').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesSM').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesSM').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesARF() {
             var groupIdARF = $('#groupIdARF').val();
                $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type:'json',
                        data: {
                            "_vehicleGroupId": groupIdARF
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesARF').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesARF').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesARF').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesO() {
             var groupIdO = $('#groupIdO').val();
                $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type:'json',
                        data: {
                            "_vehicleGroupId": groupIdO
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehicleIdO').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehicleIdO').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehicleIdO').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesYAA() {
             var vehicleGroupIdYAA = $('#vehicleGroupIdYAA').val();
                $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type:'json',
                        data: {
                            "_vehicleGroupId": vehicleGroupIdYAA
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehicleIdYAA').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehicleIdYAA').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehicleIdYAA').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesMA() {
             var groupIdMA = $('#groupIdMA').val();
                $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type:'json',
                        data: {
                            "_vehicleGroupId": groupIdMA
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehicleIdMA').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehicleIdMA').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehicleIdMA').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesAS() {
             var groupIdAS = $('#groupIdAS').val();
                $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type:'json',
                        data: {
                            "_vehicleGroupId": groupIdAS
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesAS').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesAS').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesAS').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
        }
        function GetGroupDevicesA() {
             var groupIdAnaliz = $('#groupIdAnaliz').val();
                $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type:'json',
                        data: {
                            "_vehicleGroupId": groupIdAnaliz
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehiclesAnaliz').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehiclesAnaliz').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehiclesAnaliz').append('<option>' +" Cihaz bulunamadı... "+ '</option>');

                            }
                        }
                    });
            }
         $('#seferOzetiListCLICK').click(function () {
              var seferOzetiGroupTL= $('#seferOzetiGroupTL').val();
                        $.ajax({
                        url: '@Url.Action("GetGroupDevicesByGroupId", "Home")',
                        dataType: 'json',
                        type: 'json' ,
                        data: {
                            "_vehicleGroupId": seferOzetiGroupTL
                        },
                        success: function (data) {
                            if (data) {
                                $('#vehicleIdTL').empty();
                                for (var i = 0; i < data.length; i++) {
                                    item = data[i];
                                    $('#vehicleIdTL').append('<option value="' + item.Id + '">' + item.CarPlateNumber + '</option>');
                                }
                            }
                            else {
                                $('#vehicleIdTL').append('<option>' +" Cihaz bulunamadı... "+ '</option>');
                            }
                        }
                    });
         });
        $('#OlaylarModalsCLICK').click(function () {
            GetGroupDevicesO();
        });
        $('#selectAllGGR').click(function () {
        if ($('#selectAllGGR').is(":checked")) {
            $('#vehiclesGGR option').prop('selected', true);
        }
        if ($('#selectAllGGR').is(":checked")==false) {
            $('#vehiclesGGR option').prop('selected', false);
        }
        });
        $('#selectAllGKR').click(function () {
        if ($('#selectAllGKR').is(":checked")) {
            $('#vehiclesGKR option').prop('selected', true);
        }
        if ($('#selectAllGKR').is(":checked")==false) {
            $('#vehiclesGKR option').prop('selected', false);
        }
        });
        $('#selectAllSOLR').click(function () {
        if ($('#selectAllSOLR').is(":checked")) {
            $('#vehiclesSOLR option').prop('selected', true);
        }
        if ($('#selectAllSOLR').is(":checked")==false) {
            $('#vehiclesSOLR option').prop('selected', false);
        }
        });
        $('#selectAllHAR').click(function () {
        if ($('#selectAllHAR').is(":checked")) {
            $('#vehiclesHAR option').prop('selected', true);
        }
        if ($('#selectAllHAR').is(":checked")==false) {
            $('#vehiclesHAR option').prop('selected', false);
        }
        });
        $('#selectAllSOR').click(function () {
        if ($('#selectAllSOR').is(":checked")) {
            $('#vehiclesSOR option').prop('selected', true);
        }
        if ($('#selectAllSOR').is(":checked")==false) {
            $('#vehiclesSOR option').prop('selected', false);
        }
        });
        $('#selectAllKDR').click(function () {
        if ($('#selectAllKDR').is(":checked")) {
            $('#vehiclesKDR option').prop('selected', true);
        }
        if ($('#selectAllKDR').is(":checked")==false) {
            $('#vehiclesKDR option').prop('selected', false);
        }
        });
        $('#selectAllMOR').click(function () {
        if ($('#selectAllMOR').is(":checked")) {
            $('#vehiclesMOR option').prop('selected', true);
        }
        if ($('#selectAllMOR').is(":checked")==false) {
            $('#vehiclesSOLR option').prop('selected', false);
        }
        });
        $('#selectAllBVAR').click(function () {
        if ($('#selectAllBVAR').is(":checked")) {
            $('#vehiclesBVAR option').prop('selected', true);
        }
        if ($('#selectAllBVAR').is(":checked")==false) {
            $('#vehiclesBVAR option').prop('selected', false);
        }
        });
        $('#selectAllRVAR').click(function () {
            if ($('#selectAllRVAR').is(":checked")) {
                $('#vehiclesRVAR option').prop('selected', true);
            }
            if ($('#selectAllRVAR').is(":checked") == false) {
                $('#vehiclesRVAR option').prop('selected', false);
            }
        });
        var ab = 0;
        $('#aracbölgeiliskiId').click(function () {
            if (ab == 0) {
                ab++;
                GetAllCompanyArea();
            }

            $.ajax({
                url: '@Url.Action("FillDeviceInformationFields", "Home")',
                dataType: 'json',
                type: 'POST',
                data: {
                    "_fillDeviceLast": lastOptionClickedDeviceId
                },
                success: function (data) {
                    if (data) {
                        $("#vehicleNameABI").val(data["CarPlateNumber"]);
                        $("#vehicleNameABI2").val(data["Id"]);
                    }
                }
            });


            GetAreaForDevice();
            GetDeviceAreasByDeviceId();
        });
        var ar = 0;
        $('#aracrotailiskiId').click(function () {
            if (ar == 0) {
                ar++;
                GetAllCompanyRoute();
            }

            $.ajax({
                url: '@Url.Action("FillDeviceInformationFields", "Home")',
                dataType: 'json',
                type: 'POST',
                data: {
                    "_fillDeviceLast": lastOptionClickedDeviceId
                },
                success: function (data) {
                    if (data) {
                        $("#vehicleNameARI").val(data["CarPlateNumber"]);
                        $("#vehicleNameARI2").val(data["Id"]);
                    }
                }
            });


            GetRouteForDevice();
            GetDeviceRoutesByDeviceId();
        });
        function GetSeferOzetiList() {
            $('#seferOzetiListContainer tbody').html("");
            $('#loadingContainer2').show();
            var vehicleIdTL = $('#vehicleIdTL').val();
            var vehicleIdListTemp = []; // Sefer ozeti raporu array aldığı için bu formatta gönderiyoruz.
            vehicleIdListTemp.push(vehicleIdTL);
            var startDateTL = $('#startDateTL').val();
            var endDateTL = $('#endDateTL').val();
            $.ajax({
                url: '@Url.Action("GetSeferOzetiList","Home")',
                dataType: 'json',
                type:'json',
                data: {
                    '_vehicleIdTL':vehicleIdListTemp,
                    '_startDateTL':startDateTL,
                    '_endDateTL':endDateTL,
                },
                success: function (data) {
                    $('#loadingContainer2').hide();
                    if (data) {
                        if(data==false) {
                            swal("Hata", "Aranan kriterlere göre veri bulunmamaktadır...", "error");
                            return;
                        }
                        for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            var html = '<tr><td>' + item.Arac + '</td><td>' + item.KalkisZamani + '</td><td>' + item.VarisZamani + '</td><td>' + item.Sure + '</td><td>' + item.Mesafe + '</td><td>'+'<a href="javascript:;" onclick="showSeferOzetiOnModal('+vehicleIdTL+',\''+item.KalkisZamani+'\',\''+item.VarisZamani+'\')"><center><i class="fa fa-map"></i></center>'+'</a></td><td>' + item.KalkisPozisyon + '</td><td>' + item.VarisPozisyon + '</td>+</tr>';
                            $('#seferOzetiListContainer tbody').append(html);
                        }
                    }
                }
            });
        }
        function GetEventListToSearch() {
            $('#EventListO tbody').html("");
            $('#loadingContainer6').show();
            var groupIdO = $('#groupIdO').val();
            var vehicleIdO = $('#vehicleIdO').val();
            var eventTypeO = $('#eventTypeO').val();
            var vehicleIdListTemp = []; // Sefer olayı raporu array aldığı için bu formatta gönderiyoruz.
            var startDateO = $('#startDateO').val();
            var endDateO = $('#endDateO').val();
            if ($('#searchallGrupO').is(':checked')) {
                vehicleIdO = 0;
            }
            else {
                vehicleIdListTemp.push(vehicleIdO);
            }
            $.ajax({
                url: '@Url.Action("GetEventListToSearch","Home")',
                dataType: 'json',
                type:'json',
                data: {
                    '_vehicleIdO': vehicleIdO,
                    '_groupIdO':groupIdO,
                    '_eventTypeO':eventTypeO,
                    '_startDateO':startDateO,
                    '_endDateO':endDateO,
                },
                success: function (data) {
                    $('#loadingContainer6').hide();
                    if (data) {
                            for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            var html = '<tr><td>' + item.Arac + '</td><td>' + item.OlayZamani + '</td><td>' + item.Hız  + '</td><td>' + item.Konum  + '</td><td>' + item.Enlem  + '</td><td>'+item.Boylam+'</td><td>' + item.OlayTipi + '</td><td>' + item.OlayDetayı + '</td>+</tr>';
                            $('#EventListO tbody').append(html);
                            }
                    }
                   else {
                            swal("Hata", "Aranan kriterlere göre veri bulunmamaktadır...", "error");
                            return;
                        }
                }
            });
    }
        function showSeferOzetiOnModal(deviceId, startTime, endTime) {
             $('#bottomButtonsPlayButtons').css("display", "none");
            $('#mapToDrawPolylines').modal('show');
            $('#mapToDrawPolylinesHeader').text("Sefer Özeti");
            var myLatLng = { lat: 41.015137, lng: 28.979530 };
            initMap2(myLatLng);
            $.ajax({
                url: '@Url.Action("GetSeferOzetiLatLongList","Home")',
                dataType: 'json',
                type:'json',
                data: {
                    '_deviceId':deviceId,
                    '_startTime':startTime,
                    '_endTime':endTime,
                },
                success: function (data) {
                    var flightPlanCoordinates = [];
                     var directionDegrees = [];
                     for (var i = 0; i < data.length; i++) {
                        var item = data[i];
                         flightPlanCoordinates.push({ lat: item.lat, lng: item.lng });
                          directionDegrees.push(item.DirectionDegree);
                    }
                     var baslangicLatLong = flightPlanCoordinates[0];
                     var sonLatLong = flightPlanCoordinates[flightPlanCoordinates.length - 1];

 		             var iconBaslangic= {
                                    path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                                    scale: 4,
                                    fillColor: "#66ff00",
                                    fillOpacity: 0.8,
                                    strokeWeight: 1,
                                    rotation: directionDegrees[0]
                                };
                    var markerBaslangic = new google.maps.Marker({
                                    position: { lat: baslangicLatLong.lat, lng: baslangicLatLong.lng },
                                    icon: iconBaslangic,
                                    map: map2,
                                    title:'Başlangıç'
                                });
                     var iconBitis= {
                                    path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                                    scale: 4,
                                    fillColor: "#FF0000",
                                    fillOpacity: 0.8,
                                    strokeWeight: 1,
                                    rotation: directionDegrees[directionDegrees.length-1]
                                };
                    var markerBitis = new google.maps.Marker({
                                    position: { lat: sonLatLong.lat, lng: sonLatLong.lng },
                                    icon: iconBitis,
                                    map: map2,
                                    title:'Bitiş'
                                });
                    markerBaslangic.setMap(map2);
                    markerBitis.setMap(map2);
                     var flightPath = new google.maps.Polyline({
                         path: flightPlanCoordinates,
                         geodesic: true,
                         strokeColor: '#000000',
                         strokeOpacity: 1.0,
                         strokeWeight: 2
                     });

                     flightPath.setMap(map2);

                     }
            });
        }

    </script>
    <script>
        function ShowChannelModal() {
            $("#saveChannelModal input[type='text']").val('');
            $('#saveChannelModal').modal('show');
        }
        function SaveChannel() {
            var channelId = $('#channelId').val();
            var channelName = $('#channelName').val();
            var companyId = $('#companyIdChannel').val();
            if (channelName == "") {
                swal("Hata", "Lütfen kanal adını boş bırakmayınız!", "error");
                return;
            }
            $.ajax({
                url: '@Url.Action("SaveChannel","Home")',
                dataType: 'json',
                type:'json',
                data: {
                    '_channelId':channelId,
                    '_companyId':companyId,
                    '_channelName':channelName,
                },
                success: function (data) {
                    if (data) {
                        swal("Başarılı", "Kanal Kaydedildi", "success");
                        GetAllChannelsOfCompany();
                        return;
                    }
                    else {
                        swal("Hata", "Kanal Kaydedilemedi!", "error");
                    }

                }
            });

        }
        function GetAllChannelsOfCompany() {
            var companyId = $('#companyIdChannel').val();
            $.ajax({
                url: '@Url.Action("GetAllChannelsOfCompany","Home")',
                dataType: 'json',
                type:'json',
                data: {
                    '_companyId':companyId
                },
                success: function (data) {
                    if (data) {
                        $('#channelTableContainer tbody').html("");
                        for (var i = 0; i < data.length; i++) {
                            var item = data[i];
                            var html = "";
                            html +="<tr>"
                            html +="<td>" + item.Name + " </td> ";
                            html +="<td><a href='javascript:;'onclick='DeleteChannel(" + item.Id + ")'><i style='color:red' class='fa fa-trash fa-2x' aria-hidden='true'></i></a><td/>";
                            html +="<td><a href='javascript:;' onclick='GetChannelToUpdate(" + item.Id + ")'><i class='fa fa-cog fa-2x'></i></a></td>";
                            html +="<td> <a href='javascript:;' onclick='AssingUserToChannelModal(" + item.Id + ")'> <i class='fa fa-user fa-2x' aria-hidden='true'></i></a> </td> ";
                            html +="</tr>"
                            $('#channelTableContainer tbody').append(html);
                        }

                    }
                    else {
                    }

                }
            });
        }
        function DeleteChannel(channelId) {
            swal({
                title: "Emin misiniz?",
                text: "Bu kanalı silerseniz geri alamayacaksınız!!",
                icon: "warning",
                buttons: [
                    'Hayır, iptal et!',
                    'Evet, eminim!'
                ],
                dangerMode: true,
            }).then(function (isConfirm) {
                if (isConfirm) {
                    $.ajax({
                        url: '@Url.Action("DeleteChannel","Home")',
                        dataType: 'json',
                        type: 'json',
                        data: {
                            '_channelId': channelId
                        },
                        success: function (data) {
                            if (data) {
                                swal("Başarılı", "Kanal Silindi!", "success");
                                GetAllChannelsOfCompany();
                                return;
                            }
                            else {
                                swal("Hata", "Kanal Silinemedi!", "error");
                            }

                        }
                    });
                }
            })
        }
        function GetChannelToUpdate(channelId) {
            $.ajax({
                url: '@Url.Action("GetChannelToUpdate","Home")',
                dataType: 'json',
                type:'json',
                data: {
                    '_channelId':channelId
                },
                success: function (data) {
                    if (data) {
                        $('#saveChannelModal').modal('show');
                        $('#channelId').val(data["Id"]);
                        $('#channelName').val(data["Name"]);
                        $('#companyId').val(data["CompanyId"]);
                    }
                    else {
                    }

                }
            });
        }
        function SaveUsersToChannel() {
              var selectedUserIds = [];
              var options = $('#rightChannelUser option');
            if (options.length > 0) {
                for (var i = 0; i < options.length; i++) {
                    selectedUserIds.push($(options[i]).attr("value"));
                }
            }
            var channelId = $('#tempChannelId').val();
            $.ajax({
                url: '@Url.Action("SaveUsersToChannel","Home")',
                dataType: 'json',
                type:'json',
                data: {
                    '_channelId': channelId,
                    '_userId':selectedUserIds
                },
                success: function (data) {
                    if (data) {
                        swal("Başarılı ","Kullanıcılar Kaydedildi","success");
                    }
                    else {
                        swal("Hata ","Kullanıcılar Kaydedilemedi","error");
                    }

                }
            });
        }
        function AssingUserToChannelModal(channelId) {
            $('#tempChannelId').val(channelId);
            $.ajax({
                url: '@Url.Action("GetUsersToChannelModal", "Home")',
                type: 'POST',
                dataType: 'json',
                data:{'_channelId':channelId},
                success: function (user) {
                    $('#assingUserToChannelModal').modal('show');
                    $('#leftChannelUser').html("");
                    $('#rightChannelUser').html("");
                    for (var i = 0; i < user.length; i++) {
                        var item = user[i];
                        $('#leftChannelUser').append('<option value=' + item.Id + '>' + item.UserCode + '</option>');
                    }
                    $.ajax({
                        url: '@Url.Action("GetUserListOfChannel","Home")',
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            '_channelId':channelId
                        },
                        success: function (data) {

                            if (data) {
                                var userIds = [];
                                for (var i = 0; i < data.length; i++) {
                                    userIds.push(data[i]["Id"]);
                                }
                                $("#leftChannelUser option").show();
                                $("#rightChannelUser").html("");

                                var items = $("#leftChannelUser option");

                                for (var i = 0; i < items.length; i++) {
                                    var value = parseInt($(items[i]).attr("value"));
                                    var name = $(items[i]).text().trim();

                                    if (userIds.includes(value)) {
                                        $(items[i]).hide();
                                        $("#rightChannelUser").append('<option value="' + value + '">' + name + '</option>');
                                    }
                                }
                            }
                            else {
                                //$('#emptyAreaVehicleLBL').text("Atanmış Bölge Aracı Bulunmamaktadır ..");
                            }
                        }
                    });
                }
            });
        }
    </script>
    <!-- All Jquery -->

</body>


<!-- Mirrored from themedesigner.in/demo/admin-press/horizontal/app-chat.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Aug 2019 08:34:53 GMT -->

</html>


<div style="overflow:auto;padding: 10px; position:absolute; top: 0; left: 0; width: 90%; height: 75%; z-index: 1928371289372189321; margin-left: 5%; margin-top: 25px; display: none; background-color: white; border-radius: 10px; box-shadow: 0px 0px 25px black;" id="reportShowIframe">
    <i onclick="$('#reportShowIframe').hide();" class="fa fa-times actionIcon" style="font-size: 30px; position: absolute; top: 0; left: 0; margin-left: 15px; margin-top: 15px; color: black;"></i>
    <iframe id="iframe" src="" style="width: 100%; height: 100%;" frameborder="0"> </iframe>

    <div class="col-md-12 portlet-body" id="loadingContainer4" style="background:white; display:none; position:absolute;top: 350px;z-index:9999999999999999999999999999999999999 !important">
        <table style="width: 100%; height: 100%;">
            <tr>
                <td>
                    <center>
                        <img style="width: 75px;" src="https://thumbs.gfycat.com/ObviousQuarrelsomeIntermediateegret-size_restricted.gif" />
                    </center>
                </td>
            </tr>
        </table>
    </div>
</div>